# Function Map: 0x06030000-0x06033FFF (215 functions)

## Overview

This address range contains **215 functions** spanning ~16KB of code. The region is dominated by
three major subsystems:
1. **Input/controls handling** (0x060302D2-0x06030548) - reading/processing player inputs
2. **Collision/physics** (0x06030E64-0x06031E00) - object distance/angle calculations, collision response
3. **Object/entity management** (0x060321C0-0x06033FF4) - AI car/object state machine handlers

The overall character of this region is **gameplay logic**: input processing, car-to-car
collision detection, object initialization, and state-machine dispatch for AI racing
entities (likely AI opponents or course objects).

---

## Size Distribution

| Size class | Count | Percentage |
|---|---|---|
| Tiny (4-12 bytes) | 78 | 36% |
| Small (14-28 bytes) | 52 | 24% |
| Medium (30-100 bytes) | 55 | 26% |
| Large (100+ bytes) | 30 | 14% |

---

## Complete Function Table (All 215 Functions)

### Category 1: INPUT/CONTROLS PROCESSING (3 functions)

These functions read hardware input registers (0x0608188x area) and produce
digital/analog control state values. They decode button bitmasks, manage steering
ramp-up/ramp-down timers, and write into a circular buffer at 0x0607ED90.

| # | Address | Size (bytes) | Type | Description |
|---|---|---|---|---|
| 1 | FUN_060302D2 | 622 | CALL | **Main input decoder** - reads 0x0607ED8C flags, checks 0x06081888-0x06081896 bitmasks, writes control values (accel/brake/steer) to indexed struct at player object +0xB8, writes to circular buffer at 0x0607ED90. Uses r14 prologue, full callee-saved set (r8-r14). Two exit paths: flag==0 vs normal. |
| 2 | FUN_06030540 | 8 | CALL | **Input config write** - stores r4 as word to 0x06030FBE, loads ptr from 0x0607E940, falls into FUN_06030548. |
| 3 | FUN_06030548 | 2332 | CALL | **Extended input handler** - continuation of FUN_06030540. Huge function handling analog input transformation. Accesses player object via 0x0607E940. Contains embedded data tables at 0x06030F1C-0x06030FBE for input mapping (jump tables for controller axes). |

### Category 2: COLLISION/PHYSICS (13 functions)

Core collision detection routines. Compare object positions (X at +0x10, Z at +0x18, Y at +0x0C),
compute angle differences via FUN_0602744C (atan2), distances via FUN_06027344 (cos) / FUN_06027348 (sin),
apply delta-movement with dmuls.l (64-bit fixed-point multiply), and set collision flags
(OR 0x08000000 / 0x20000000 into object+0x00).

| # | Address | Size (bytes) | Type | Description |
|---|---|---|---|---|
| 4 | FUN_06030E64 | 14 | CALL | **Collision sub-call A** - jsr @r0, saves result to r8, sets r4=r10, loads FUN_06027348 addr. Entry point for sin-based position calc. |
| 5 | FUN_06030E72 | 346 | CALL | **Position interpolation** - jsr @r0, then dmuls.l multiply pairs for X and Z deltas. Writes position updates to r14+0x10, r14+0x18. Threshold checks with constants 0xDEB8, 0xFAE1, 0xC000. Pops r8-r14 and returns. |
| 6 | FUN_06030FCC | 48 | CALL | **Collision entry A (obj1>obj2)** - takes (r4=obj1, r5=obj2, r6=param). Compares obj1+0x0C vs obj2+0x0C (Y height), branches based on ordering. Loads X/Z from both objects +0x10/+0x18, computes deltas, calls FUN_0602744C (atan2). |
| 7 | FUN_06030FFC | 34 | CALL | **Collision sub-call B** - jsr @r0 (atan2), neg result, exts.w. Loads obj+0x38/+0x3C from both objects, computes secondary deltas. |
| 8 | FUN_0603101E | 860 | CALL | **Collision core logic** - main collision processor. Calls atan2, cos, sin. Complex angle/distance comparison with thresholds. Uses dmuls.l for fixed-point position updates. Writes collision flags (OR 0x08000000, 0x20000000) into object+0x00. Massive function with full callee-saved register use. |
| 9 | FUN_0603137A | 34 | CALL | **Collision sub-call C** - same pattern as FUN_06030FFC but for swapped object ordering. |
| 10 | FUN_0603139C | 820 | CALL | **Collision core logic (variant)** - parallel structure to FUN_0603101E for reversed object pair. Same atan2/cos/sin/dmuls.l pattern. |
| 11 | FUN_060316D0 | 48 | CALL | **Collision entry B** - identical structure to FUN_06030FCC. Object Y comparison, position delta, atan2 call. |
| 12 | FUN_06031700 | 408 | CALL | **Collision with heading** - jsr @r0 (atan2), computes heading deltas using obj+0x20. Uses table at 0x0605BCC8 for trig lookup. |
| 13 | FUN_06031898 | 412 | CALL | **Collision handler (variant C)** - same atan2/distance pattern, with heading at obj+0x20. Different thresholds (0x0001638E). Sets collision flags. |
| 14 | FUN_06031A34 | 972 | CALL | **Major collision/response handler** - very large. Full collision response with position adjustments, multiple internal subroutine calls. |
| 15 | FUN_06031E00 | 960 | CALL | **Major collision/response handler (variant)** - parallel to FUN_06031A34. Different object ordering scenario. |
| 16 | *(Timer at ~0x06030EE0)* | ~16 | LEAF | **Timer decrement** (within FUN_06030E72 body) - reads word at player+0x0150, if positive decrements by 1. Simple countdown. |

### Category 3: OBJECT/ENTITY INITIALIZATION (12 functions)

Initialize AI car/object structs. Load data from ROM tables (0x060624xx, 0x060627F8, 0x060631BC),
set positions (X/Y/Z at +0x10/+0x14/+0x18), headings (+0x1C/+0x20/+0x24), and operational state bytes.
Entity struct size is 0x2C (44) bytes, base address at 0x06082A7C.

| # | Address | Size (bytes) | Type | Description |
|---|---|---|---|---|
| 17 | FUN_060321C0 | 28 | CALL | **Object array init (outer loop)** - iterates 6 objects at 0x060623B0, zeros byte at +0x2DC, falls into FUN_060321DC. |
| 18 | FUN_060321DC | 18 | CALL | **Object init step 1** - calls FUN_06032D90 (populate struct from ROM table), writes word 4 to offset 0x0E. |
| 19 | FUN_060321EE | 126 | CALL | **Object init step 2** - calls FUN_06032E18 (set course data), copies 0x0D bytes from 0x06062464 to struct+0x2DE. Loops 6 objects. Clears globals 0x06082A20, 0x06082A24, 0x06082A25. |
| 20 | FUN_0603226C | 16 | CALL | **Object init wrapper** - pushes all regs, sets r4=0, falls into FUN_0603227C. |
| 21 | FUN_0603227C | 10 | CALL | **Indexed init call (slot 0)** - bsr FUN_06032304, then r4=1, falls through. |
| 22 | FUN_06032286 | 10 | CALL | **Indexed init call (slot 1)** - bsr FUN_06032304, then r4=2. |
| 23 | FUN_06032290 | 10 | CALL | **Indexed init call (slot 2)** - bsr FUN_06032304, then r4=3. |
| 24 | FUN_0603229A | 10 | CALL | **Indexed init call (slot 3)** - bsr FUN_06032304, then r4=4. |
| 25 | FUN_060322A4 | 10 | CALL | **Indexed init call (slot 4)** - bsr FUN_06032304, then r4=5. |
| 26 | FUN_060322AE | 8 | CALL | **Last indexed init call** - bsr FUN_06032304, falls into FUN_060322B6. |
| 27 | FUN_060322B6 | 252 | CALL | **Post-init + state dispatch** - bsr FUN_060322E8, pop all saved regs, rts. Contains setup logic for object rendering state. |
| 28 | FUN_06033AAC | 284 | CALL | **Full entity array reset** - loops 0x2D (45) entities. Zeros bytes at offsets 0x00, 0x10, 0x11, 0x26, 0x28. Loads position data from 0x060631BC (X/Y/Z as word<<16). Sets heading+flags. Clears 0x06083254, 0x06083250. Inits 2 linked-list entries from 0x060631AC. |

### Category 4: OBJECT STATE MACHINE DISPATCHERS (chain-call stubs, 13 functions)

Small (4-10 instruction) functions implementing a state machine. Pattern:
`bsr <helper>; nop; lds.l @r15+,pr` then fall through to next state or `rts`.

Key shared subroutines they call:
- FUN_06032304 - object setup dispatcher
- FUN_0603253C - reads control flag at 0x06082A24
- FUN_06032584 - calls FUN_06026DBC (rendering)
- FUN_0603268C - loads ptr from 0x06089EDC, sets up from 0x060623C8
- FUN_06032D90 - populate struct from ROM table
- FUN_06032E18 - set course-specific data
- FUN_06032E6C - copy animation block (0x11 longs)
- FUN_06032EA4 - conditional render call
- FUN_06033F54 - entity state setup (index * 0x2C into 0x06082A7C)

| # | Address | Size (bytes) | Type | Description |
|---|---|---|---|---|
| 29 | FUN_060323B2 | 50 | CALL | State dispatcher - calls FUN_06032304 + other setup. |
| 30 | FUN_060323E4 | 70 | CALL | State handler with conditional branches. |
| 31 | FUN_0603242A | 194 | CALL | Complex state handler with multiple dispatch paths. |
| 32 | FUN_060324EC | 8 | CALL | Stub: bsr FUN_06032E6C, falls through. |
| 33 | FUN_060324F4 | 8 | CALL | Stub: bsr FUN_0603253C, falls through. |
| 34 | FUN_060324FC | 8 | CALL | Stub: bsr FUN_0603268C, falls through. |
| 35 | FUN_06032504 | 12 | CALL | Stub: bsr FUN_06032584, bra 0x06032538. |
| 36 | FUN_06032510 | 8 | CALL | Stub: bsr FUN_06032E6C, falls through. |
| 37 | FUN_06032518 | 8 | CALL | Stub: bsr FUN_0603253C, falls through. |
| 38 | FUN_06032520 | 8 | CALL | Stub: bsr FUN_0603268C, falls through. |
| 39 | FUN_06032528 | 8 | CALL | Stub: bsr FUN_06032584, falls through. |
| 40 | FUN_06032530 | 86 | CALL | Stub: bsr FUN_06032EA4, then complex state check + render. |

### Category 5: OBJECT FIELD ACCESSORS / RENDER PIPELINE (58 functions)

Read/write specific fields of the object struct via r14 (object pointer) and known offsets.
Call external rendering subroutines: FUN_06026DBC, FUN_06026E0C, FUN_06026E2E (XYZ render),
FUN_06026E94, FUN_06026EDE, FUN_06026F2A (heading render), FUN_06026F72, FUN_06026DF8.
Also call FUN_0600A474/FUN_0600A4AA (name display).

These follow a repeating structural pattern in groups of 7-8:
1. Call render setup (FUN_06026DBC), load r13 from 0x06089EDC
2. Load XYZ from obj+offset, call FUN_06026E2E
3. Read word at obj+offset, call FUN_06026E94
4. Read word at obj+offset, call FUN_06026F2A
5. Read word at obj+offset, call FUN_06026EDE
6. Copy 12 longs from r13 to obj+large_offset (memcpy-like block)
7. Final render calls

There are 8 such groups, each at a different struct base offset:
- Group A: offsets 0x00-0x54 (functions 41-53)
- Group B: offsets 0x18-0x84 (functions 54-60)
- Group C: offsets 0x24-0xB4 (functions 61-68)
- Group D: offsets 0x30-0xE4 (functions 69-75)
- Group E: offsets 0x3C-0x114 (functions 76-82)
- Group F: offsets 0x48-0x144 (functions 83-89)
- Group G: offsets 0x60-0x1D4 (functions 90-96)
- Group H: offsets 0x78-0x204 (functions 97-103)
- Group I: offsets 0x90-0x264 (functions 104-109)
- Group J: offsets 0x294+ (function 110)

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 41 | FUN_06032586 | 26 | CALL | Calls FUN_06026DBC, loads r13 from 0x06089EDC, reads obj+0x00/+0x04/+0x08. |
| 42 | FUN_060325A0 | 14 | CALL | Calls sub, reads obj+0x0C word, loads FUN_06026EDE addr. |
| 43 | FUN_060325AE | 86 | CALL | Calls sub, reads struct+0x2DC flags byte, checks bits. Loads from 0x06081898 memory-mapped. Complex conditional. |
| 44 | FUN_06032604 | 20 | CALL | Loads r13 from 0x06089EDC, reads obj+0x2D4, calls FUN_06026F72. |
| 45 | FUN_06032618 | 22 | CALL | Computes 0x0D-r7, reads byte from obj+0x2DE array, calls FUN_0600A474 (name display). |
| 46 | FUN_0603262E | 20 | CALL | Reads obj+0x2D4, adds 0x30, stores back, loads FUN_06026DF8. |
| 47 | FUN_06032642 | 20 | CALL | dt r7 loop counter, branches back if not done. Loads r13 from ptr. |
| 48 | FUN_06032656 | 62 | CALL | Complex finalize: loads global object ptr, multiple sub-calls, rts. |
| 49 | FUN_06032694 | 14 | CALL | Loads r13 from 0x06089EDC, rts. Global object ptr load pattern. |
| 50 | FUN_060326A2 | 26 | CALL | Calls FUN_06026E0C, loads r13, reads obj+0x10/+0x14/+0x18 (XYZ). |
| 51 | FUN_060326BC | 14 | CALL | Reads obj+0x1E word, loads FUN_06026EDE. |
| 52 | FUN_060326CA | 14 | CALL | Reads obj+0x1C word, loads FUN_06026E94. |
| 53 | FUN_060326D8 | 14 | CALL | Reads obj+0x20 word, loads FUN_06026F2A. |
| 54 | FUN_060326E6 | 64 | CALL | Copies 12 longs from r13 to obj+0x54. Block copy (render data). |
| 55 | FUN_06032726 | 24 | CALL | Two jsr calls: FUN_06026DBC then FUN_06026E2E. Group B setup. |
| 56 | FUN_0603273E | 14 | CALL | Reads obj+0x22 word, calls FUN_06026E94. |
| 57 | FUN_0603274C | 14 | CALL | Reads obj+0x26 word, calls FUN_06026F2A. |
| 58 | FUN_0603275A | 14 | CALL | Reads obj+0x24 word, calls FUN_06026EDE. |
| 59 | FUN_06032768 | 150 | CALL | Copies 12 longs from r13 to obj+0x84. Then falls to FUN_060327FC. |
| 60 | FUN_060327FE | 24 | CALL | Two jsr calls: FUN_06026DBC then loads from obj+0x18. Group C. |
| 61 | FUN_06032816 | 14 | CALL | Reads obj+0x28 word, calls FUN_06026E94. |
| 62 | FUN_06032824 | 14 | CALL | Reads obj+0x2C word, calls FUN_06026F2A. |
| 63 | FUN_06032832 | 14 | CALL | Reads obj+0x2A word, calls FUN_06026EDE. |
| 64 | FUN_06032840 | 74 | CALL | Copies 12 longs from r13 to obj+0xB4. Reads XYZ at +0x24. |
| 65 | FUN_0603288A | 14 | CALL | Reads obj+0x2E word, calls FUN_06026F2A. Group D. |
| 66 | FUN_06032898 | 74 | CALL | Copies 12 longs from r13 to obj+0xE4. Reads XYZ at +0x30. |
| 67 | FUN_060328E2 | 14 | CALL | Reads obj+0x30 word, calls FUN_06026F2A. |
| 68 | FUN_060328F0 | 64 | CALL | Copies 12 longs from r13 to obj+0x114. Then calls FUN_06026DF8. Group E. |
| 69 | FUN_06032930 | 24 | CALL | Two jsr calls: FUN_06026DBC then FUN_06026E2E. Group F. |
| 70 | FUN_06032948 | 14 | CALL | Reads obj+0x32 word, calls FUN_06026E94. |
| 71 | FUN_06032956 | 14 | CALL | Reads obj+0x36 word, calls FUN_06026F2A. |
| 72 | FUN_06032964 | 14 | CALL | Reads obj+0x34 word, calls FUN_06026EDE. |
| 73 | FUN_06032972 | 74 | CALL | Copies 12 longs from r13 to obj+0x144. Reads XYZ at +0x48. |
| 74 | FUN_060329BC | 14 | CALL | Reads obj+0x38 word, calls FUN_06026F2A. |
| 75 | FUN_060329CA | 74 | CALL | Copies 12 longs from r13 to obj+0x174. (Group G inferred.) |
| 76 | FUN_06032A14 | 14 | CALL | Reads word field, calls render sub. |
| 77 | FUN_06032A22 | 64 | CALL | Copies 12 longs from r13 to obj+0x1A4. |
| 78 | FUN_06032A62 | 142 | CALL | Large accessor with conditional branches and additional render logic. |
| 79 | FUN_06032AF0 | 14 | CALL | Reads word field, calls render sub. |
| 80 | FUN_06032AFE | 14 | CALL | Reads word field, calls render sub. |
| 81 | FUN_06032B0C | 14 | CALL | Reads word field, calls render sub. |
| 82 | FUN_06032B1A | 64 | CALL | Copies 12 longs to obj+0x204. |
| 83 | FUN_06032B5A | 24 | CALL | Two jsr calls. Group H setup. |
| 84 | FUN_06032B72 | 14 | CALL | Reads word field, calls FUN_06026E94. |
| 85 | FUN_06032B80 | 14 | CALL | Reads word field, calls FUN_06026F2A. |
| 86 | FUN_06032B8E | 14 | CALL | Reads word field, calls FUN_06026EDE. |
| 87 | FUN_06032B9C | 74 | CALL | Copies 12 longs to obj+0x234. |
| 88 | FUN_06032BE6 | 14 | CALL | Reads word field, calls render sub. |
| 89 | FUN_06032BF4 | 64 | CALL | Copies 12 longs. |
| 90 | FUN_06032C34 | 24 | CALL | Two jsr calls. Group I setup. |
| 91 | FUN_06032C4C | 14 | CALL | Reads word field, calls FUN_06026E94. |
| 92 | FUN_06032C5A | 14 | CALL | Reads obj+0x4E word, calls FUN_06026F2A. |
| 93 | FUN_06032C68 | 14 | CALL | Reads obj+0x4C word, calls FUN_06026EDE. |
| 94 | FUN_06032C76 | 74 | CALL | Copies 12 longs to obj+0x264. |
| 95 | FUN_06032CC0 | 14 | CALL | Reads obj+0x50 word, calls FUN_06026F2A. |
| 96 | FUN_06032CCE | 64 | CALL | Copies 12 longs to obj+0x294. Final group. Calls FUN_06026DF8. |

### Category 6: SHARED UTILITY SUBROUTINES (2 functions + 4 internal labels)

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 97 | FUN_06032D0E | 432 | CALL | **Global object ptr load + struct populate + course setup** - calls jsr @r0, loads r13 from 0x06089EDC, rts at 0x06032D1A. Then contains internal routines: FUN_06032D90 (struct populate from ROM, reads 0x0607EAD8 index, multiplies by 12, copies from 0x060624A4), FUN_06032E18 (set course data, reads 0x060627F8), FUN_06032E6C (copy animation block, 0x11 longs), FUN_06032EA4 (conditional render call, checks obj+0x0E bit 0x1C, calls FUN_06026DBC). Note: size 432 includes all internal subroutines and literal pool. |
| 98 | FUN_06032EBE | 26 | CALL | **Global object ptr load + field read** - jsr @r0, loads r13 from 0x06089EDC, reads obj XYZ at +0x00/+0x04/+0x08, loads FUN_06026E2E addr. |

### Category 7: SECONDARY RENDER PIPELINE (16 functions, 0x06032ED8-0x06032FD4)

A second set of render accessors for a different render object. Uses 0x060624C8 as source
data table. Reads flags at obj+0x0E to conditionally call FUN_06026DBC. Similar structure
to Category 5 but for a different render target. Calls FUN_0600A4AA (name display variant).

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 99 | FUN_06032ED8 | 14 | CALL | Reads obj+0x0C word, calls FUN_06026EDE. |
| 100 | FUN_06032EE6 | 22 | CALL | Reads obj+0x0E flags, tests bit 0x04. If set, pushes r1, calls FUN_06026DBC. |
| 101 | FUN_06032EFC | 22 | CALL | Calls FUN_06026DBC, loads r13 from 0x06089EDC. Reads 3 longs from 0x060624C8, calls FUN_06026E2E. |
| 102 | FUN_06032F12 | 14 | CALL | Reads 0x060624C8 + 0x0C long, calls FUN_06026F2A. |
| 103 | FUN_06032F20 | 10 | CALL | Calls FUN_0600A4AA (name/text display). |
| 104 | FUN_06032F2A | 10 | CALL | Calls FUN_06026DF8 (render finalize). |
| 105 | FUN_06032F34 | 24 | CALL | Loads r13 from 0x06089EDC, pops r1 from stack, checks bit 0x08 of flags. |
| 106 | FUN_06032F4C | 22 | CALL | Calls FUN_06026DBC, loads r13 from 0x06089EDC. Reads 3 longs from 0x060624C8 + 0x10. |
| 107 | FUN_06032F62 | 14 | CALL | Reads 0x060624C8 + 0x1C long. |
| 108 | FUN_06032F70 | 10 | CALL | Calls FUN_0600A4AA. |
| 109 | FUN_06032F7A | 10 | CALL | Calls FUN_06026DF8. |
| 110 | FUN_06032F84 | 22 | CALL | Loads r13 from 0x06089EDC, pops r1, checks bit 0x10 of flags. |
| 111 | FUN_06032F9A | 22 | CALL | Calls FUN_06026DBC, loads r13. |
| 112 | FUN_06032FB0 | 12 | CALL | Render sub. |
| 113 | FUN_06032FBC | 10 | CALL | Calls FUN_0600A4AA. |
| 114 | FUN_06032FC6 | 14 | CALL | Final render + loads FUN_06026DF8. |
| 115 | FUN_06032FD4 | 76 | CALL | Complex render finalize with dt r7 loop and pop all. |

### Category 8: TRACK/COURSE HELPERS (11 functions, 0x06033020-0x06033240)

Process track geometry data. Use FUN_06027358 (spline interpolation) and FUN_06027552 (distance).
Access track data from 0x0606318C/0x06063190. Compute course offsets, apply +/-0x700 correction
based on mirror flag at 0x06033884. Write to tile map at 0x060629AC.

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 116 | FUN_06033020 | 102 | CALL | **Track position setup** - reads track arrays, sets up r11/r12 (spline control points), r0 from player struct, begins iteration. |
| 117 | FUN_06033086 | 8 | CALL | **Track sub-call** - bsr internal helper. |
| 118 | FUN_0603308E | 22 | CALL | **Track chain** - bsr FUN_0603307C, pops all regs, rts. |
| 119 | FUN_060330A4 | 92 | CALL | **Track main loop** - iterates track sections, calls FUN_06033100 for each. |
| 120 | FUN_06033100 | 44 | CALL | **Course-aware offset** - calls FUN_06033188 (spline), adds r6, checks mirror flag at 0x06033884, applies +/-0x700, masks 0xFFFF, shifts right 12. |
| 121 | FUN_0603312C | 112 | CALL | **Track section iterator** - calls FUN_0603320C, accumulates r10, decrements r7 loop. Contains inner track processing with 0x30000 offset subtraction. |
| 122 | FUN_0603319C | 14 | CALL | **Track spline call** - jsr FUN_06027358, passes r2 (arg4), r11 (arg5). |
| 123 | FUN_060331AA | 16 | CALL | **Track section handler A** - calls FUN_06027552, stores result as r3. |
| 124 | FUN_060331BA | 16 | CALL | **Track section handler B** - calls FUN_06027552, stores as r6, passes r11/r12. |
| 125 | FUN_060331CA | 16 | CALL | **Track section handler C** - calls FUN_06027552, stores as r8. |
| 126 | FUN_060331DA | 86 | CALL | **Track section handler D** - calls FUN_06027552, computes deltas from section results, pops r6-r8, rts. |
| 127 | FUN_06033230 | 16 | CALL | **Track array step** - bsr inner helper, adds 0x10000 to r1, masks and steps. |
| 128 | FUN_06033240 | 248 | CALL | **Track tile map processor** - large function. Converts world coords to tile indices. Computes offsets into 0x060629AC tile buffer using complex bit masking (shlr16, and #0xF8, shll2, etc.). Writes 4-bit tile values. |

### Category 9: HUD/TEXT DISPLAY (12 functions, 0x06033338-0x060334DA)

Handle on-screen race position display, timer, and name displays.
Access 0x060629xx (HUD data area) and 0x06062Dxx (text buffer).
Use FUN_0602761E (DMA render) and FUN_060280F8 (sprite render).

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 129 | FUN_06033338 | 86 | CALL | **HUD setup** - copies 6 pairs of bytes from 0x060338DC/0x060338E8 to text buffer at 0x06062D95. Loops 6 entries with coordinate tables at 0x060338F4. Calls FUN_0602761E for each. |
| 130 | FUN_0603338E | 22 | CALL | **HUD render loop body** - jsr FUN_0602761E, decrement r7, branch if positive. |
| 131 | FUN_060333A4 | 64 | CALL | **HUD finalize** - calls render, rts. Contains pool data. |
| 132 | FUN_060333E4 | 16 | CALL | **HUD init** - writes 8 and 2 to 0x060629AA/0x060629A8. |
| 133 | FUN_060333F4 | 14 | CALL | **HUD update step** - calls FUN_06033550, writes 8 to 0x0606299A. |
| 134 | FUN_06033402 | 8 | CALL | **HUD sub-step** - bsr FUN_06033648. |
| 135 | FUN_0603340A | 30 | CALL | **HUD conditional** - calls FUN_06033470, checks pointer chain, selects from 0x0606298C or 0x0606299C. |
| 136 | FUN_06033428 | 10 | CALL | **HUD render to buffer A** - bsr FUN_06033700. |
| 137 | FUN_06033432 | 8 | CALL | **HUD render to buffer B** - bsr FUN_06033700. |
| 138 | FUN_0603343A | 152 | CALL | **HUD cleanup** - bsr FUN_0603307C, pop all regs, rts. Larger than expected -- contains intermediate processing. |
| 139 | FUN_060334D2 | 8 | CALL | **Render dispatch** - jsr @r0 (FUN_060280F8), falls through. |
| 140 | FUN_060334DA | 158 | CALL | **Render + position compute** - bsr FUN_06033504, complex conditional logic with course index check. |

### Category 10: POSITION/MOVEMENT (8 functions, 0x06033578-0x06033614)

Compute distances and angles between objects using trig subroutines.

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 141 | FUN_06033578 | 22 | CALL | **Position compute** - bsr internal, reads obj+0x10/+0x18, calls FUN_06027552 (distance). |
| 142 | FUN_0603358E | 16 | CALL | **Position chain A** - jsr FUN_06027552, stores result to r14. |
| 143 | FUN_0603359E | 16 | CALL | **Position chain B** - jsr FUN_06027552, stores result to r13. |
| 144 | FUN_060335AE | 16 | CALL | **Position chain C** - jsr FUN_06027552, stores result to r12. |
| 145 | FUN_060335BE | 72 | CALL | **Position finalize** - jsr FUN_06027552, neg result, combines with r14/r13, stores to ptr. Contains pool data. |
| 146 | FUN_06033606 | 14 | CALL | **Angle compute A** - jsr FUN_06027348 (sin), stores to r7. |
| 147 | FUN_06033614 | 102 | CALL | **Angle compute B + integration** - jsr FUN_06027344 (cos), stores to r8. Then complex position integration using swap.w, exts.w, mirror flag check at 0x06078663. Contains course data lookup and tile calculation. |

### Category 11: RACE POSITION / LAP HELPERS (4 functions, 0x0603367A-0x060336AC)

Determine race positions and lap state. Check game mode (0x0607EAE0), memory-mapped flags.

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 148 | FUN_0603367A | 50 | CALL | **Lap/position search** - bsr FUN_060336C8, loops checking offset 0x268 vs 0x224 of player struct. Decrements r6. Checks 0x06078635 (lap counter). |
| 149 | FUN_060336AC | 122 | CALL | **Position/angle integration** - bsr FUN_06033550, then pops and rts. Contains embedded helper at FUN_060336C8 (checks 0x06085FF4, 0x06063D98 bit 0x10, 0x0605D240). |

### Category 12: MINIMAP / COURSE DISPLAY (5 functions, 0x06033726-0x060337C6)

Process minimap rendering. Read track spline data from 0x06033894 (indexed by course),
call FUN_0602755C for coordinate transform, convert to screen coordinates.

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 150 | FUN_06033726 | 18 | CALL | **Minimap coord A** - jsr FUN_0602755C, swap.w result, exts.w -> r13 (Y screen coord). |
| 151 | FUN_06033738 | 118 | CALL | **Minimap coord B + plot** - jsr FUN_0602755C, swap.w -> r14 (X). Checks mirror flag at 0x06078663 (negates coords if set). Reads spline offsets from 0x06033894 + course_index. Masks to 16-bit, shifts >> 12. Indexes into 0x06033A8C (minimap tile table). Computes tile index, writes to render buffer. |
| 152 | FUN_060337AE | 16 | CALL | **Minimap finalize** - pops r0/r1, rts. |
| 153 | FUN_060337BE | 8 | CALL | **Minimap sub** - bsr internal. |
| 154 | FUN_060337C6 | 742 | CALL | **Full minimap renderer** - very large. Reads course index from 0x0607EAD8. Contains multiple render passes with embedded coordinate tables. Processes all entities for minimap display. |

### Category 13: INITIAL ENTITY SETUP (5 functions, 0x06033BC8-0x06033C32)

Conditionally initialize entity slots based on player position (offset 0x1EC from 0x0607E944).

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 155 | FUN_06033BC8 | 64 | CALL | **Conditional entity init** - reads player+0x1EC, checks range [0xDC, 0xEC]. If in range, starts entity init chain with r4=0 calling FUN_06033F54. Falls to FUN_0603446C if out of range. |
| 156 | FUN_06033C08 | 12 | CALL | **Entity init slot 1** - jsr FUN_06033F54, r4=1. |
| 157 | FUN_06033C14 | 12 | CALL | **Entity init slot 2** - jsr FUN_06033F54, r4=2. |
| 158 | FUN_06033C20 | 18 | CALL | **Entity init slot 3** - jsr FUN_06033F54, r4=3. Then bra to range check. |
| 159 | FUN_06033C32 | 60 | CALL | **Entity init slot 4-5 + range check** - jsr FUN_0603446C, then reads player+0x1EC, checks range [0xED, 0x104]. If in range, continues entity chain. |

### Category 14: AI ENTITY DISPATCH (entity index 5-24, 20 functions, 0x06033C6E-0x06033D2C)

Sequential chain: each function calls FUN_06033F54 with increasing entity index (r4),
then falls through to next. FUN_06033F54 multiplies r4 by 0x2C and indexes into 0x06082A7C.

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 160 | FUN_06033C6E | 10 | CALL | Entity slot 5: bsr FUN_06033F54, r4=6. |
| 161 | FUN_06033C78 | 10 | CALL | Entity slot 6: bsr FUN_06033F54, r4=7. |
| 162 | FUN_06033C82 | 10 | CALL | Entity slot 7: bsr FUN_06033F54, r4=8. |
| 163 | FUN_06033C8C | 10 | CALL | Entity slot 8: bsr FUN_06033F54, r4=9. |
| 164 | FUN_06033C96 | 10 | CALL | Entity slot 9: bsr FUN_06033F54, r4=10. |
| 165 | FUN_06033CA0 | 10 | CALL | Entity slot 10: bsr FUN_06033F54, r4=11. |
| 166 | FUN_06033CAA | 10 | CALL | Entity slot 11: bsr FUN_06033F54, r4=12. |
| 167 | FUN_06033CB4 | 10 | CALL | Entity slot 12: bsr FUN_06033F54, r4=13. |
| 168 | FUN_06033CBE | 10 | CALL | Entity slot 13: bsr FUN_06033F54, r4=14. |
| 169 | FUN_06033CC8 | 10 | CALL | Entity slot 14: bsr FUN_06033F54, r4=15. |
| 170 | FUN_06033CD2 | 10 | CALL | Entity slot 15: bsr FUN_06033F54, r4=16. |
| 171 | FUN_06033CDC | 10 | CALL | Entity slot 16: bsr FUN_06033F54, r4=17. |
| 172 | FUN_06033CE6 | 10 | CALL | Entity slot 17: bsr FUN_06033F54, r4=18. |
| 173 | FUN_06033CF0 | 10 | CALL | Entity slot 18: bsr FUN_06033F54, r4=19. |
| 174 | FUN_06033CFA | 10 | CALL | Entity slot 19: bsr FUN_06033F54, r4=20. |
| 175 | FUN_06033D04 | 10 | CALL | Entity slot 20: bsr FUN_06033F54, r4=21. |
| 176 | FUN_06033D0E | 10 | CALL | Entity slot 21: bsr FUN_06033F54, r4=22. |
| 177 | FUN_06033D18 | 10 | CALL | Entity slot 22: bsr FUN_06033F54, r4=23. |
| 178 | FUN_06033D22 | 10 | CALL | Entity slot 23: bsr FUN_06033F54, r4=24. |
| 179 | FUN_06033D2C | 74 | CALL | **Entity slot 24 + range check** - bsr FUN_06033F54, then reads player+0x1EC, checks range [0x1B8, 0x1E0]. If out of range, zeros counter at 0x06083250. Otherwise checks game mode (0x0607EAE0). |

### Category 15: AI ENTITY STATE MACHINE (internal dispatchers, 21 functions, 0x06033D76-0x06033E4A)

Secondary entity dispatch -- these use different entity indices (0x19-0x2C range)
and include state sub-handlers that call FUN_06033F54 with higher indices.

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 180 | FUN_06033D76 | 20 | CALL | **Entity state sub-handler** - bsr FUN_06033F54 with r4=0x19, loads r13 from 0x06083250 (animation counter). Checks >= 0x13B threshold. |
| 181 | FUN_06033D8A | 10 | CALL | Entity dispatch: r4=0x1A. |
| 182 | FUN_06033D94 | 10 | CALL | Entity dispatch: r4=0x1B. |
| 183 | FUN_06033D9E | 10 | CALL | Entity dispatch: r4=0x1C. |
| 184 | FUN_06033DA8 | 16 | CALL | Entity dispatch (extended): r4=0x1D, additional check. |
| 185 | FUN_06033DB8 | 10 | CALL | Entity dispatch: r4=0x1E. |
| 186 | FUN_06033DC2 | 10 | CALL | Entity dispatch: r4=0x1F. |
| 187 | FUN_06033DCC | 10 | CALL | Entity dispatch: r4=0x20. |
| 188 | FUN_06033DD6 | 10 | CALL | Entity dispatch: r4=0x21. |
| 189 | FUN_06033DE0 | 16 | CALL | Entity dispatch (extended): r4=0x22. |
| 190 | FUN_06033DF0 | 10 | CALL | Entity dispatch: r4=0x23. |
| 191 | FUN_06033DFA | 10 | CALL | Entity dispatch: r4=0x24. |
| 192 | FUN_06033E04 | 10 | CALL | Entity dispatch: r4=0x25. |
| 193 | FUN_06033E0E | 10 | CALL | Entity dispatch: r4=0x26. |
| 194 | FUN_06033E18 | 10 | CALL | Entity dispatch: r4=0x27. |
| 195 | FUN_06033E22 | 10 | CALL | Entity dispatch: r4=0x28. |
| 196 | FUN_06033E2C | 10 | CALL | Entity dispatch: r4=0x29. |
| 197 | FUN_06033E36 | 10 | CALL | Entity dispatch: r4=0x2A. |
| 198 | FUN_06033E40 | 10 | CALL | Entity dispatch: r4=0x2B. |
| 199 | FUN_06033E4A | 94 | CALL | **Entity wrap-around** - bsr FUN_06033F54, reads counter from 0x06083250, increment+clamp to 0xEC4, stores back. Falls to finalize. |

### Category 16: ENTITY LIFECYCLE MANAGEMENT (16 functions, 0x06033EA8-0x06033FF4)

Master lifecycle controller. Checks game state (0x06063E08 == 1), increments activation
counter at 0x06083254. Dispatches to init chain (byte==1) or full update loop (byte==2, 25 entities).

| # | Address | Size | Type | Description |
|---|---|---|---|---|
| 200 | FUN_06033EA8 | 42 | CALL | **Entity lifecycle master** - checks 0x06063E08 == 1, increments 0x06083254. If byte==1 dispatches init. If byte==2 runs full update (entities 6-25). |
| 201 | FUN_06033ED2 | 12 | CALL | Entity init dispatch: r4=0. |
| 202 | FUN_06033EDE | 12 | CALL | Entity init dispatch: r4=1. |
| 203 | FUN_06033EEA | 12 | CALL | Entity init dispatch: r4=2. |
| 204 | FUN_06033EF6 | 138 | CALL | **Entity init dispatch 4 + update loop** - r4=4, then loops entity update for slots 6-25 when 0x06083254==2. |
| 205 | FUN_06033F80 | 8 | CALL | Sub-state: bsr FUN_06034000 (entity type 0 handler). |
| 206 | FUN_06033F88 | 8 | CALL | Sub-state: bsr FUN_06034168 (entity type 1 handler). |
| 207 | FUN_06033F90 | 32 | CALL | Sub-state: bsr FUN_060346C0 (entity type 2 handler), bra rts. Includes pool data. |
| 208 | FUN_06033FB0 | 8 | CALL | Sub-state: bsr FUN_0603449C (state transition A). |
| 209 | FUN_06033FB8 | 8 | CALL | Sub-state: bsr FUN_06034000. |
| 210 | FUN_06033FC0 | 8 | CALL | Sub-state: bsr FUN_06034168. |
| 211 | FUN_06033FC8 | 12 | CALL | Sub-state: bsr FUN_060346C0, bra rts. |
| 212 | FUN_06033FD4 | 8 | CALL | Sub-state: bsr FUN_06034560. |
| 213 | FUN_06033FDC | 8 | CALL | Sub-state: bsr FUN_0603449C. |
| 214 | FUN_06033FE4 | 8 | CALL | Sub-state: bsr FUN_0603458C. |
| 215 | FUN_06033FEC | 8 | CALL | Sub-state: bsr FUN_06034640. |
| *(216)* | FUN_06033FF4 | 66 | CALL | Sub-state: bsr FUN_060346C0, then pop r13, rts. Contains pool data. |

**Note**: FUN_06033FF4 is technically the 216th entry but the last within our range. The function body extends past 0x06034036 into the next range.

---

## Key Data Structures

### Entity Struct (0x2C = 44 bytes, array at 0x06082A7C)
- +0x00: State/type byte
- +0x01: Sub-state byte
- +0x02: Heading word
- +0x10: Active flag byte
- +0x11: Animation frame byte
- +0x12: Angle word
- +0x14: X position (long, fixed-point <<16)
- +0x18: Z position (long, fixed-point <<16)
- +0x1C: Y position (long, fixed-point <<16)
- +0x20: Additional position (long)
- +0x24: Heading word
- +0x26: AI state byte
- +0x28: Collision flag byte

Total entities: 45 (0x2D), indexed 0-44.

### AI Car Object Struct (large, at 0x0607E940 ptr)
Huge struct (0x2E0+ bytes) for the player and AI render objects.
- +0x00/+0x04/+0x08: World position (3 longs)
- +0x0C: Z-order / height for collision
- +0x0E: Render flags word (bits: 0x02=mirror, 0x04=render_B, 0x08=render_C, 0x1C=visible)
- +0x10/+0x14/+0x18: Render group A position
- +0x1C/+0x1E/+0x20/+0x22/+0x24/+0x26: Render group A angles (words)
- +0x28-+0x2E: Render group B angles
- +0x30-+0x36: Render group C angles
- +0x38/+0x3C: Secondary collision position (used in atan2 calc)
- +0x54: Render data block A (12 longs, copied from r13)
- +0x84: Render data block B
- +0xB4: Render data block C
- +0xE4: Render data block D
- +0x114: Render data block E
- +0x144: Render data block F
- +0x174: Render data block G (inferred)
- +0x1A4: Render data block H (inferred)
- +0x204: Render data block I
- +0x234: Render data block J
- +0x264: Render data block K
- +0x294: Render data block L (final)
- +0x2C4: Animation block index
- +0x2C8: Course data value B
- +0x2CC: Animation base pointer
- +0x2D0: Course index
- +0x2D4: Render data offset
- +0x2DC: Object type byte
- +0x2DD: Object subtype byte
- +0x2DE: Name string (0x0D bytes, copied from 0x06062464)

### Global Pointers
- 0x0607E940: Player/main object struct pointer
- 0x0607E944: Same (alternate reference, used in collision code)
- 0x0607EAD8: Course/track index (0=beginner, 1=advanced, 2=expert)
- 0x0607EAE0: Game mode flag (positive = multiplayer/special mode)
- 0x0607ED88: Circular buffer write index
- 0x0607ED8C: Input active flags
- 0x0607ED90: Input circular buffer base
- 0x06089EDC: Current rendering object pointer
- 0x06082A20: Entity system active flag (long)
- 0x06082A24: Entity input flags (byte)
- 0x06082A25: Entity sub-flags (byte)
- 0x06083250: Entity animation counter (long, clamp at 0xEC4)
- 0x06083254: Entity lifecycle state (byte: 0=inactive, 1=init, 2=running)

### ROM Data Tables
- 0x060623B0: Object pointer array (6 entries)
- 0x060623C8: Render object array
- 0x06062464: Object name/text table (0x0D bytes per entry)
- 0x060624A4: Entity base data (12 bytes per entry, 3 longs)
- 0x060624C8: Secondary render object data (position + heading)
- 0x060624F8: Entity extended data (indexed by course, 4 bytes per entry)
- 0x06062624: Entity type lookup table (4 bytes per entry)
- 0x060627F8: Course-specific data (10 bytes per course: 2 longs + 1 word)
- 0x060629AC: Tile map buffer (HUD/minimap)
- 0x06062D95: Text display buffer (24 bytes, 6 entries x 4)
- 0x060631AC: Linked-list head pointers (2 entries)
- 0x060631BC: Entity position init table (14 bytes per entity, X/Z/Y as word<<16 + flags)
- 0x0605BCC8: Trigonometric lookup table for collision
- 0x06033894: Course-specific minimap spline data (indexed by course_index * 16)
- 0x06033A8C: Minimap tile lookup table (pixel -> tile index)
- 0x0603390C: Track section geometry table (12 bytes per section)
- 0x060338DC: HUD text source A (6 byte pairs)
- 0x060338E8: HUD text source B (6 byte pairs, mirror mode)
- 0x060338F4: HUD coordinate table (6 word pairs)

### Key Subroutines Called from This Range
- FUN_0602744C: atan2 (angle from dx/dz)
- FUN_06027344: cos
- FUN_06027348: sin
- FUN_06027358: spline interpolation
- FUN_06027552: distance
- FUN_0602755C: coordinate transform (world -> screen)
- FUN_06026DBC: basic 3D object render
- FUN_06026DF8: render finalize
- FUN_06026E0C: render variant
- FUN_06026E2E: render with XYZ args (r4/r5/r6)
- FUN_06026E94: render with word param
- FUN_06026EDE: render with word param (variant)
- FUN_06026F2A: render with heading
- FUN_06026F72: render with data offset
- FUN_0602761E: DMA/VDP render transfer
- FUN_060280F8: sprite/VDP render
- FUN_0601D5F4: VDP command dispatcher
- FUN_0600A474: name/text display
- FUN_0600A4AA: name/text display (variant)

---

## Summary Statistics

| Category | Count | Total Bytes | Avg Size |
|---|---|---|---|
| Input/Controls | 3 | 2,962 | 987 |
| Collision/Physics | 13 | 6,006 | 462 |
| Object Init | 12 | 808 | 67 |
| State Machine Stubs | 13 | 526 | 40 |
| Object Field Accessors/Render | 58 | 2,514 | 43 |
| Shared Utilities | 2 | 458 | 229 |
| Secondary Render Pipeline | 16 | 310 | 19 |
| Track/Course Helpers | 13 | 820 | 63 |
| HUD/Text Display | 12 | 576 | 48 |
| Position/Movement | 7 | 258 | 37 |
| Race Position/Lap | 2 | 172 | 86 |
| Minimap/Course Display | 5 | 902 | 180 |
| Initial Entity Setup | 5 | 166 | 33 |
| AI Entity Dispatch (slots 5-24) | 20 | 274 | 14 |
| AI Entity State Machine (0x19+) | 21 | 360 | 17 |
| Entity Lifecycle | 16 | 408 | 26 |
| **TOTAL** | **215+** | **~16,520** | -- |

All functions are CALL type (save/restore PR via sts.l/lds.l or use bsr).
Internal leaf helpers (FUN_06032D90, FUN_06032E18, FUN_06032E6C, FUN_06032EA4)
are not standalone symbols -- they are internal labels within FUN_06032D0E's body.
