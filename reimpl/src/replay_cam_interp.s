/* replay_cam_interp -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0601AFA4 - 0x0601AFD8
 * Auto-generated by tools/generate_l3_tu.py
 *
 * replay_cam_interp (0x0601AFA4, 52 bytes)
 *
 * Submits two display list entries for replay camera interpolation.
 * First initializes course display slots via course_state_setup, then
 * calls geom_dispatch_final twice with the course texture data buffer:
 *   1. Pattern fill (mode 0x8, offset 0x96, size 0x60)
 *   2. Extended fill (mode 0x8, offset 0x0196, size 0x60)
 * The second call is a tail-call (jmp).
 *
 * Inputs:
 *   None (reads state from globals)
 *
 * Calls:
 *   course_state_setup (0x0601B0D8) â€” initializes course display slots
 *   sym_060284AE = geom_dispatch_final(r4=mode, r5=offset, r6=size, r7=tex_data)
 */

    .section .text.FUN_0601AFA4


    .global replay_cam_interp
    .type replay_cam_interp, @function
replay_cam_interp:
    sts.l pr, @-r15                             ! save return address
    .byte   0xB0, 0x97    /* bsr 0x0601B0D8 (external) */  ! call course_state_setup
    nop                                         ! delay slot
    mov #0x60, r6                               ! r6 = 0x60 (pattern size)
    mov.l   .L_pool_geom_dispatch, r3           ! r3 = &geom_dispatch_final
    mov.l   .L_pool_tex_data_buf, r7            ! r7 = &course_tex_data_buffer
    mov r6, r5                                  ! r5 = 0x60
    add #0x36, r5                               ! r5 = 0x96 (pattern fill offset)
    jsr @r3                                     ! call geom_dispatch_final(8, 0x96, 0x60, tex_buf)
    mov #0x8, r4                                ! r4 = 8 (display mode, delay slot)
    mov.l   .L_pool_tex_data_buf, r7            ! r7 = &course_tex_data_buffer
    mov #0x60, r6                               ! r6 = 0x60 (pattern size)
    mov.w   .L_wpool_0601AFC6, r5               ! r5 = 0x0196 (extended fill offset)
    mov #0x8, r4                                ! r4 = 8 (display mode)
    mov.l   .L_pool_geom_dispatch, r3           ! r3 = &geom_dispatch_final
    jmp @r3                                     ! tail-call geom_dispatch_final(8, 0x196, 0x60, tex_buf)
    lds.l @r15+, pr                             ! restore return address (delay slot)
.L_wpool_0601AFC6:
    .2byte  0x0196
    .4byte  sym_0608600F                        /* phase_countdown_timer (global byte) */
    .4byte  sym_06086011                        /* phase_index (global byte) */
.L_pool_tex_data_buf:
    .4byte  sym_0604A480                        /* course texture data buffer */
.L_pool_geom_dispatch:
    .4byte  sym_060284AE                        /* geom_dispatch_final */
