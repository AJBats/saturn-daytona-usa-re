/* texture_bank_setup -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x060370E4 - 0x06037660
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_060370E4


    .global texture_bank_setup
    .type texture_bank_setup, @function
texture_bank_setup:
    mov.l r14, @-r15
    mov #0x0, r3
    mov.l r13, @-r15
    mov r3, r2
    mov.l r12, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov r4, r11
    mov.l r9, @-r15
    mov.l r8, @-r15
    sts.l pr, @-r15
    mov.l   .L_mask_high_byte, r9
    mov.l   .L_sym_060A4C44, r10
    mov.l   .L_sym_060A3D88, r12
    mov.l   .L_sym_060A3E38, r13
    mov.l   .L_sym_060A4C4C, r14
    mov.l r3, @r10
    mov.l r3, @(4, r10)
    mov.l @r11, r3
    mov.l r3, @r14
    mov.l @(4, r11), r2
    mov.l r2, @(4, r14)
    mov.w   DAT_06037154, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    mov.w r0, @(14, r12)
    mov.b @(8, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_06037132
    mov.w   DAT_06037156, r2
    mov.w @(14, r12), r0
    mov r0, r3
    or r2, r3
    mov r3, r0
    bra     .L_0603713C
    nop
.L_06037132:
    mov.l   .L_const_0xfeff, r2
    mov.w @(14, r12), r0
    mov r0, r3
    and r2, r3
    mov r3, r0
.L_0603713C:
    mov.w r0, @(14, r12)
    mov.b @(9, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_06037174
    mov.w   .L_bit_9_w, r2
    mov.w @(14, r12), r0
    mov r0, r3
    or r2, r3
    mov r3, r0
    bra     .L_0603717E
    nop

    .global DAT_06037154
DAT_06037154:
    .2byte  0x7FFF

    .global DAT_06037156
DAT_06037156:
    .2byte  0x0100
.L_bit_9_w:
    .2byte  0x0200
    .2byte  0xFFFF
.L_mask_high_byte:
    .4byte  0x0000FF00
.L_sym_060A4C44:
    .4byte  sym_060A4C44
.L_sym_060A3D88:
    .4byte  sym_060A3D88
.L_sym_060A3E38:
    .4byte  sym_060A3E38
.L_sym_060A4C4C:
    .4byte  sym_060A4C4C
.L_const_0xfeff:
    .4byte  0x0000FEFF
.L_06037174:
    mov.l   .L_const_0xfdff, r2
    mov.w @(14, r12), r0
    mov r0, r3
    and r2, r3
    mov r3, r0
.L_0603717E:
    mov #0x0, r5
    mov #0x4, r2
    mov.w r0, @(14, r12)
    extu.b r5, r4
    mov.b @(10, r11), r0
    mov r0, r3
    extu.b r3, r3
    cmp/ge r2, r3
    bt/s    .L_060371DE
    extu.b r5, r8
    mov.w @(14, r12), r0
    mov.l   .L_const_0xfffc, r3
    mov r0, r2
    extu.w r2, r2
    mov.b @(10, r11), r0
    and r3, r2
    mov r0, r1
    extu.b r1, r1
    or r1, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(14, r12)
    mov.b @(10, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_060371F4
    mov.l @r14, r0
    tst r0, r0
    bt      .L_060371C6
    mov.l   .L_const_0xfffc, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    bra     .L_060371C8
    mov.w r0, @(14, r12)
.L_060371C6:
    mov #0x1, r8
.L_060371C8:
    mov.w @(6, r13), r0
    mov r0, r2
    and r9, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @r14, r3
    mov.l   .L_vdp2_vram_00000, r2
    add r2, r3
    mov.l r3, @r10
    bra     .L_060371F4
    mov #0x1, r4
.L_060371DE:
    mov.b @(10, r11), r0
    extu.b r0, r0
    cmp/eq #0x4, r0
    bf      .L_060371F4
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_00000, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_060371F4:
    mov.b @(11, r11), r0
    mov #0x4, r2
    mov r0, r3
    extu.b r3, r3
    cmp/ge r2, r3
    bt      .L_060372A4
    mov.w @(14, r12), r0
    mov.l   .L_const_0xfff3, r3
    mov r0, r2
    extu.w r2, r2
    mov.b @(11, r11), r0
    and r3, r2
    mov r0, r1
    extu.b r1, r1
    shll2 r1
    extu.w r1, r1
    or r1, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(14, r12)
    mov.b @(11, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_060372C6
    extu.b r4, r2
    tst r2, r2
    bf      .L_0603725C
    mov.l @r14, r0
    tst r0, r0
    bt      .L_0603723E
    mov.l   .L_const_0xfff3, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    bra     .L_06037240
    mov.w r0, @(14, r12)
.L_0603723E:
    mov #0x2, r8
.L_06037240:
    mov.w @(6, r13), r0
    mov r0, r2
    and r9, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.w @(6, r13), r0
    or #0x1, r0
    mov.w r0, @(6, r13)
    mov.l @r14, r3
    mov.l   .L_vdp2_vram_20000, r2
    add r2, r3
    mov.l r3, @r10
    bra     .L_0603728A
    mov #0x1, r4
.L_0603725C:
    mov.l @(4, r14), r0
    tst r0, r0
    bt      .L_0603726E
    mov.l   .L_const_0xfff3, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    mov.w r0, @(14, r12)
.L_0603726E:
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.w   DAT_0603728e, r3
    mov.w @(6, r13), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_20000, r2
    add r2, r3
    mov.l r3, @(4, r10)
    add #0x1, r4
.L_0603728A:
    bra     .L_060372C6
    nop

    .global DAT_0603728e
DAT_0603728e:
    .2byte  0x0100
.L_const_0xfdff:
    .4byte  0x0000FDFF
.L_const_0xfffc:
    .4byte  0x0000FFFC
.L_vdp2_vram_00000:
    .4byte  0x25E00000
.L_const_0xfff3:
    .4byte  0x0000FFF3
.L_vdp2_vram_20000:
    .4byte  0x25E20000
.L_060372A4:
    mov.b @(11, r11), r0
    extu.b r0, r0
    cmp/eq #0x4, r0
    bf      .L_060372C6
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.w   DAT_06037362, r3
    mov.w @(6, r13), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_20000_2, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_060372C6:
    mov #0x4, r2
    mov.b @(12, r11), r0
    mov r0, r3
    extu.b r3, r3
    cmp/ge r2, r3
    bt      .L_06037374
    mov.w @(14, r12), r0
    mov.l   .L_const_0xffcf, r3
    mov r0, r2
    extu.w r2, r2
    mov.b @(12, r11), r0
    and r3, r2
    mov r0, r1
    extu.b r1, r1
    shll2 r1
    shll2 r1
    extu.w r1, r1
    or r1, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(14, r12)
    mov.b @(12, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_0603739E
    extu.b r4, r2
    tst r2, r2
    bf      .L_06037330
    mov.l @r14, r0
    tst r0, r0
    bt      .L_06037312
    mov.l   .L_const_0xffcf, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    bra     .L_06037314
    mov.w r0, @(14, r12)
.L_06037312:
    mov #0x3, r8
.L_06037314:
    mov.w @(6, r13), r0
    mov r0, r2
    and r9, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.w @(6, r13), r0
    or #0x2, r0
    mov.w r0, @(6, r13)
    mov.l @r14, r3
    mov.l   .L_vdp2_vram_40000, r2
    add r2, r3
    mov.l r3, @r10
    bra     .L_0603735E
    mov #0x1, r4
.L_06037330:
    mov.l @(4, r14), r0
    tst r0, r0
    bt      .L_06037342
    mov.l   .L_const_0xffcf, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    mov.w r0, @(14, r12)
.L_06037342:
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.w   .L_bit_9_w_2, r3
    mov.w @(6, r13), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    add #0x1, r4
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_40000, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_0603735E:
    bra     .L_0603739E
    nop

    .global DAT_06037362
DAT_06037362:
    .2byte  0x0100
.L_bit_9_w_2:
    .2byte  0x0200
    .2byte  0xFFFF
.L_vdp2_vram_20000_2:
    .4byte  0x25E20000
.L_const_0xffcf:
    .4byte  0x0000FFCF
.L_vdp2_vram_40000:
    .4byte  0x25E40000
.L_06037374:
    mov.b @(12, r11), r0
    extu.b r0, r0
    cmp/eq #0x4, r0
    bf      .L_0603739E
    mov.l   .L_sym_060A4C50, r2
    mov.l @r2, r0
    tst r0, r0
    bt      .L_0603739E
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.w   DAT_0603743a, r3
    mov.w @(6, r13), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_40000_2, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_0603739E:
    mov #0x4, r2
    mov.b @(13, r11), r0
    mov r0, r3
    extu.b r3, r3
    cmp/ge r2, r3
    bt      .L_06037450
    mov.w @(14, r12), r0
    mov.l   .L_const_0xff3f, r3
    mov r0, r2
    extu.w r2, r2
    mov.b @(13, r11), r0
    and r3, r2
    mov r0, r1
    extu.b r1, r1
    shll2 r1
    shll2 r1
    shll2 r1
    extu.w r1, r1
    or r1, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(14, r12)
    mov.b @(13, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_0603747A
    extu.b r4, r4
    tst r4, r4
    bf      .L_0603740A
    mov.l @r14, r0
    tst r0, r0
    bt      .L_060373EC
    mov.l   .L_const_0xff3f, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    bra     .L_060373EE
    mov.w r0, @(14, r12)
.L_060373EC:
    mov #0x4, r8
.L_060373EE:
    mov.w @(6, r13), r0
    mov r0, r2
    and r9, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.w @(6, r13), r0
    or #0x3, r0
    mov.w r0, @(6, r13)
    mov.l @r14, r3
    mov.l   .L_vdp2_vram_60000, r2
    add r2, r3
    mov.l r3, @r10
    bra     .L_06037436
    nop
.L_0603740A:
    mov.l @(4, r14), r0
    tst r0, r0
    bt      .L_0603741C
    mov.l   .L_const_0xff3f, r3
    mov.w @(14, r12), r0
    mov r0, r2
    and r3, r2
    mov r2, r0
    mov.w r0, @(14, r12)
.L_0603741C:
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.w   .L_mask_0x0300_w, r3
    mov.w @(6, r13), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_60000, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_06037436:
    bra     .L_0603747A
    nop

    .global DAT_0603743a
DAT_0603743a:
    .2byte  0x0200
.L_mask_0x0300_w:
    .2byte  0x0300
    .2byte  0xFFFF
.L_sym_060A4C50:
    .4byte  sym_060A4C50
.L_vdp2_vram_40000_2:
    .4byte  0x25E40000
.L_const_0xff3f:
    .4byte  0x0000FF3F
.L_vdp2_vram_60000:
    .4byte  0x25E60000
.L_06037450:
    mov.b @(13, r11), r0
    extu.b r0, r0
    cmp/eq #0x4, r0
    bf      .L_0603747A
    mov.l   .L_sym_060A4C50_2, r2
    mov.l @r2, r0
    tst r0, r0
    bt      .L_0603747A
    mov.w @(6, r13), r0
    and #0xFF, r0
    mov.w r0, @(6, r13)
    mov.w   DAT_06037532, r3
    mov.w @(6, r13), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @(4, r14), r3
    mov.l   .L_vdp2_vram_60000_2, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_0603747A:
    mov.l @(4, r10), r0
    tst r0, r0
    bt      .L_06037484
    bra     .L_060375F2
    nop
.L_06037484:
    mov.b @(14, r11), r0
    extu.b r0, r0
    cmp/eq #0x1, r0
    bf      .L_060374B2
    mov.l   .L_sym_060A4C44_2, r2
    mov.l @r2, r0
    tst r0, r0
    bf      .L_060374B2
    mov.l   .L_sym_0603C156, r3
    jsr @r3
    nop
    cmp/eq #0x1, r0
    bf      .L_060374B2
    mov.l   .L_fp_half, r3
    mov.w @(14, r12), r0
    mov r0, r2
    or r3, r2
    mov r2, r0
    mov.w r0, @(14, r12)
    mov.l   .L_vdp2_cram_00800, r3
    mov.l r3, @r10
    bra     .L_060375F2
    nop
.L_060374B2:
    mov.l @r10, r0
    tst r0, r0
    bt      .L_06037578
    mov.l   .L_sym_060A4C59, r3
    mov.b @r3, r3
    extu.b r3, r3
    tst r3, r3
    bt      .L_06037578
    mov.l @(4, r14), r0
    tst r0, r0
    bf      .L_060374D0
    mov.l @r14, r3
    mov.w   .L_bit_10_w, r2
    add r2, r3
    mov.l r3, @(4, r14)
.L_060374D0:
    mov.l @r14, r0
    tst r0, r0
    bf      .L_060374DA
    mov #-0x1, r3
    mov.l r3, @r14
.L_060374DA:
    mov.l @(4, r14), r2
    mov.l @r10, r3
    add r3, r2
    mov.l r2, @(4, r10)
    mov.w @(6, r13), r0
    mov r0, r4
    extu.w r4, r4
    mov.w   DAT_06037536, r3
    and r4, r3
    mov r4, r2
    shll8 r2
    or r2, r3
    extu.w r3, r0
    mov.w r0, @(6, r13)
    bra     .L_06037564
    extu.b r8, r0
.L_060374FA:
    mov.l   .L_const_0xfffc_2, r2
    mov.w @(14, r12), r0
    mov r0, r3
    and r2, r3
    mov r3, r0
    bra     .L_0603752E
    nop
.L_06037508:
    mov.l   .L_const_0xfff3_2, r2
    mov.w @(14, r12), r0
    mov r0, r3
    and r2, r3
    mov r3, r0
    bra     .L_0603752E
    nop
.L_06037516:
    mov.l   .L_const_0xffcf_2, r2
    mov.w @(14, r12), r0
    mov r0, r3
    and r2, r3
    mov r3, r0
    bra     .L_0603752E
    nop
.L_06037524:
    mov.l   .L_const_0xff3f_2, r2
    mov.w @(14, r12), r0
    mov r0, r3
    and r2, r3
    mov r3, r0
.L_0603752E:
    bra     .L_060375F2
    mov.w r0, @(14, r12)

    .global DAT_06037532
DAT_06037532:
    .2byte  0x0300
.L_bit_10_w:
    .2byte  0x0400

    .global DAT_06037536
DAT_06037536:
    .2byte  0x00FF
.L_sym_060A4C50_2:
    .4byte  sym_060A4C50
.L_vdp2_vram_60000_2:
    .4byte  0x25E60000
.L_sym_060A4C44_2:
    .4byte  sym_060A4C44
.L_sym_0603C156:
    .4byte  sym_0603C156
.L_fp_half:
    .4byte  0x00008000
.L_vdp2_cram_00800:
    .4byte  0x25F00800
.L_sym_060A4C59:
    .4byte  sym_060A4C59
.L_const_0xfffc_2:
    .4byte  0x0000FFFC
.L_const_0xfff3_2:
    .4byte  0x0000FFF3
.L_const_0xffcf_2:
    .4byte  0x0000FFCF
.L_const_0xff3f_2:
    .4byte  0x0000FF3F
.L_06037564:
    cmp/eq #0x1, r0
    bt      .L_060374FA
    cmp/eq #0x2, r0
    bt      .L_06037508
    cmp/eq #0x3, r0
    bt      .L_06037516
    cmp/eq #0x4, r0
    bt      .L_06037524
    bra     .L_060375F2
    nop
.L_06037578:
    mov.l @r10, r0
    tst r0, r0
    bf      .L_060375F2
    mov.l @r14, r0
    tst r0, r0
    bt      .L_060375B8
    mov.l   .L_sym_060A4C58, r3
    mov.b @r3, r3
    extu.b r3, r3
    tst r3, r3
    bt      .L_060375B8
    mov.w @(6, r13), r0
    mov r14, r4
    mov r0, r3
    and r9, r3
    mov r3, r0
    mov.w r0, @(6, r13)
    mov.l   .L_fp_two, r0
    mov.l   .L_sym_06034FFC, r3
    jsr @r3
    mov.l @r4, r1
    extu.w r0, r0
    mov #0x6, r2
    add r13, r2
    mov.w @r2, r2
    or r0, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @r4, r3
    mov.l   .L_vdp2_vram_00000_2, r2
    add r2, r3
    mov.l r3, @r10
.L_060375B8:
    mov.l @(4, r14), r0
    tst r0, r0
    bt      .L_060375F2
    mov.l   .L_sym_060A4C59_2, r3
    mov.b @r3, r3
    extu.b r3, r3
    tst r3, r3
    bt      .L_060375F2
    mov.w @(6, r13), r0
    mov r14, r4
    and #0xFF, r0
    add #0x4, r4
    mov.w r0, @(6, r13)
    mov.l   .L_fp_two, r0
    mov.l   .L_sym_06034FFC, r3
    jsr @r3
    mov.l @r4, r1
    extu.w r0, r0
    shll8 r0
    mov #0x6, r2
    add r13, r2
    mov.w @r2, r2
    or r0, r2
    mov r2, r0
    mov.w r0, @(6, r13)
    mov.l @r4, r3
    mov.l   .L_vdp2_vram_00000_2, r2
    add r2, r3
    mov.l r3, @(4, r10)
.L_060375F2:
    lds.l @r15+, pr
    mov.l @r15+, r8
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_sym_060A4C58:
    .4byte  sym_060A4C58
.L_fp_two:
    .4byte  0x00020000
.L_sym_06034FFC:
    .4byte  sym_06034FFC
.L_vdp2_vram_00000_2:
    .4byte  0x25E00000
.L_sym_060A4C59_2:
    .4byte  sym_060A4C59

    .global sym_06037618
sym_06037618:
    mov #0x10, r7
    mov #0x0, r5
    mov.b r5, @r4
    extu.b r5, r2
    mov r2, r0
    mov.b r0, @(1, r4)
    extu.b r5, r0
    mov.b r0, @(2, r4)
    extu.b r5, r0
    mov.b r0, @(3, r4)
    extu.b r5, r0
    mov.b r0, @(4, r4)
    extu.b r5, r0
    mov.b r0, @(5, r4)
    extu.b r5, r0
    mov.b r0, @(6, r4)
    extu.b r5, r0
    mov.b r0, @(8, r4)
    extu.b r5, r0
    mov.b r0, @(7, r4)
    extu.w r5, r3
    mov r3, r0
    mov.w r0, @(10, r4)
    extu.b r5, r6
.L_06037648:
    extu.b r6, r3
    mov r4, r2
    shll2 r3
    add #0x1, r6
    add #0xC, r2
    add r2, r3
    mov.l r5, @r3
    extu.b r6, r3
    cmp/ge r7, r3
    bf      .L_06037648
    rts
    nop
