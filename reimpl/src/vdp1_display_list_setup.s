/* vdp1_display_list_setup -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0602C690 - 0x0602C884
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_0602C690


    .global vdp1_display_list_setup
    .type vdp1_display_list_setup, @function
vdp1_display_list_setup:
    sts.l pr, @-r15
    mov.w   DAT_0602c71a, r1
    mov.w   DAT_0602c71c, r2
    mov.l @(r0, r1), r3
    mov.l @(r0, r2), r4
    bsr     .L_0602C7FC
    or r3, r4
    mov r4, r10
    mov.w   DAT_0602c71e, r1
    mov.w   DAT_0602c720, r2
    mov.l @(r0, r1), r3
    mov.l @(r0, r2), r4
    bsr     .L_0602C7FC
    or r3, r4
    mov r4, r11
    mov.w   DAT_0602c722, r1
    mov.w   DAT_0602c724, r2
    mov.l @(r0, r1), r5
    mov.l @(r0, r2), r6
    neg r5, r5
    neg r6, r6
    mov r0, r14
    mov.w   DAT_0602c726, r1
    mov.w   DAT_0602c728, r2
    mov.l @(r0, r1), r9
    mov.l @(r0, r2), r4
    mov r9, r7
    xor r5, r7
    cmp/pz r7
    bt      .L_0602C6CE
    mov #0x0, r9
.L_0602C6CE:
    mov.l r6, @-r15
    mov.l r5, @-r15
    mov.l   .L_pool_0602C72C, r5
    mov r4, r7
    dmuls.l r4, r5
    mov.l   .L_pool_0602C730, r1
    sts mach, r4
    sts macl, r8
    mov #0x0, r13
    xtrct r4, r8
    dmuls.l r7, r1
    mov.l @(28, r0), r4
    mov.l   .L_pool_0602C734, r5
    sts mach, r1
    sts macl, r7
    mov.l   .L_pool_0602C738, r0
    xtrct r1, r7
    cmp/pz r4
    bt      .L_0602C6F8
    mov #0x0, r4
    mov #0x0, r13
.L_0602C6F8:
    jsr @r0
    shar r4
    dmuls.l r0, r5
    mov.w   DAT_0602c72a, r1
    mov.l   .L_pool_0602C73C, r3
    sts mach, r5
    sts macl, r4
    mov r14, r0
    xtrct r5, r4
    tst r13, r13
    mov r4, r13
    mov.l @(r0, r1), r5
    bf      .L_0602C740
    shll r13
    add r5, r13
    bra     .L_0602C748
    add r4, r5

    .global DAT_0602c71a
DAT_0602c71a:
    .2byte  0x0120

    .global DAT_0602c71c
DAT_0602c71c:
    .2byte  0x0124

    .global DAT_0602c71e
DAT_0602c71e:
    .2byte  0x0128

    .global DAT_0602c720
DAT_0602c720:
    .2byte  0x012C

    .global DAT_0602c722
DAT_0602c722:
    .2byte  0x0060

    .global DAT_0602c724
DAT_0602c724:
    .2byte  0x0064

    .global DAT_0602c726
DAT_0602c726:
    .2byte  0x0100

    .global DAT_0602c728
DAT_0602c728:
    .2byte  0x0104

    .global DAT_0602c72a
DAT_0602c72a:
    .2byte  0x00FC
.L_pool_0602C72C:
    .4byte  0x03700000
.L_pool_0602C730:
    .4byte  0x02D00000
.L_pool_0602C734:
    .4byte  0x00000645
.L_pool_0602C738:
    .4byte  sin_lookup
.L_pool_0602C73C:
    .4byte  0x251B1285
.L_0602C740:
    neg r13, r13
    shll r13
    add r5, r13
    add r4, r5
.L_0602C748:
    dmuls.l r3, r5
    mov.l @r15+, r5
    sts mach, r4
    sts macl, r0
    xtrct r4, r0
    dmuls.l r3, r13
    sts mach, r3
    sts macl, r13
    xtrct r3, r13
    mov r9, r4
    dmuls.l r4, r5
    sts mach, r4
    sts macl, r5
    xtrct r4, r5
    add r8, r5
    sub r0, r5
    dmuls.l r10, r5
    mov.l   .L_pool_0602C7A8, r3
    sts mach, r5
    sts macl, r4
    xtrct r5, r4
    dmuls.l r4, r3
    sts mach, r4
    sts macl, r10
    xtrct r4, r10
    mov.l @r15+, r4
    dmuls.l r4, r9
    sts mach, r5
    sts macl, r4
    xtrct r5, r4
    add r7, r4
    add r13, r4
    dmuls.l r4, r11
    mov.l   .L_pool_0602C7A8, r3
    sts mach, r5
    sts macl, r4
    xtrct r5, r4
    dmuls.l r4, r3
    sts mach, r4
    sts macl, r11
    xtrct r4, r11
    mov.l   .L_pool_0602C7AC, r1
    mov.l   .L_pool_0602C7B0, r2
    cmp/gt r1, r10
    bt      .L_0602C7B4
    mov r1, r10
    bra     .L_0602C7BA
    nop
.L_pool_0602C7A8:
    .4byte  0x00028000
.L_pool_0602C7AC:
    .4byte  0x01600000
.L_pool_0602C7B0:
    .4byte  0x0C080000
.L_0602C7B4:
    cmp/ge r10, r2
    bt      .L_0602C7BA
    mov r2, r10
.L_0602C7BA:
    mov.l   .L_pool_0602C7C8, r1
    mov.l   .L_pool_0602C7CC, r2
    cmp/gt r1, r11
    bt      .L_0602C7D0
    mov r1, r11
    bra     .L_0602C7D6
    nop
.L_pool_0602C7C8:
    .4byte  0x01200000
.L_pool_0602C7CC:
    .4byte  0x09D80000
.L_0602C7D0:
    cmp/ge r11, r2
    bt      .L_0602C7D6
    mov r2, r11
.L_0602C7D6:
    mov r14, r0
    mov.w   DAT_0602c7f8, r1
    mov.w   DAT_0602c7fa, r3
    mov.l @(r0, r1), r2
    mov.l @(r0, r3), r4
    sub r2, r10
    sub r4, r11
    shar r10
    shar r11
    shar r10
    shar r11
    add r10, r2
    add r11, r4
    mov.l r2, @(r0, r1)
    lds.l @r15+, pr
    rts
    mov.l r4, @(r0, r3)

    .global DAT_0602c7f8
DAT_0602c7f8:
    .2byte  0x0140

    .global DAT_0602c7fa
DAT_0602c7fa:
    .2byte  0x0144
.L_0602C7FC:
    mov.l @(8, r0), r3
    mov #0xA, r2
    mov.l r10, @-r15
    cmp/ge r3, r2
    .byte   0x8D, 0x69    /* bt/s 0x0602C8DA (external) */
    mov #0x0, r9
    mov #0x0, r8
    .byte   0x96, 0x45    /* mov.w .L_wpool_0602C898, r6 */
    tst r6, r4
    not r6, r7
    bt/s    .L_0602C818
    and r7, r4
    .byte   0x98, 0x41    /* mov.w .L_wpool_0602C89A, r8 */
    mov #0x1, r9
.L_0602C818:
    .byte   0x96, 0x40    /* mov.w .L_wpool_0602C89C, r6 */
    tst r6, r4
    not r6, r7
    bt/s    .L_0602C828
    and r7, r4
    .byte   0x96, 0x3C    /* mov.w .L_wpool_0602C89E, r6 */
    add r6, r8
    add #0x1, r9
.L_0602C828:
    .byte   0x96, 0x3A    /* mov.w .L_wpool_0602C8A0, r6 */
    tst r6, r4
    not r6, r7
    bt/s    .L_0602C838
    and r7, r4
    .byte   0x96, 0x36    /* mov.w .L_wpool_0602C8A2, r6 */
    add r6, r8
    add #0x1, r9
.L_0602C838:
    .byte   0x96, 0x34    /* mov.w .L_wpool_0602C8A4, r6 */
    tst r6, r4
    not r6, r7
    bt/s    .L_0602C848
    and r7, r4
    .byte   0x96, 0x30    /* mov.w .L_wpool_0602C8A6, r6 */
    add r6, r8
    add #0x1, r9
.L_0602C848:
    .byte   0x96, 0x2E    /* mov.w .L_wpool_0602C8A8, r6 */
    tst r6, r4
    not r6, r7
    bt/s    .L_0602C858
    and r7, r4
    .byte   0x96, 0x2A    /* mov.w .L_wpool_0602C8AA, r6 */
    add r6, r8
    add #0x1, r9
.L_0602C858:
    mov #0x0, r6
    cmp/eq r6, r4
    bt      .L_0602C864
    .byte   0x96, 0x25    /* mov.w .L_wpool_0602C8AC, r6 */
    add r6, r8
    add #0x1, r9
.L_0602C864:
    tst r9, r9
    .byte   0x8D, 0x15    /* bt/s 0x0602C894 (external) */
    mov #0x0, r4
    .byte   0xD2, 0x11    /* mov.l .L_pool_0602C8B0, r2 */
    mov #0x1, r4
    cmp/eq r4, r9
    .byte   0x89, 0x22    /* bt 0x0602C8B8 (external) */
    shll r4
    cmp/eq r4, r9
    .byte   0x89, 0x24    /* bt 0x0602C8C2 (external) */
    shll r4
    cmp/eq r4, r9
    .byte   0x89, 0x27    /* bt 0x0602C8CE (external) */
    mov.l r0, @-r15
    mov r8, r1
    .byte   0xDC, 0x0C    /* mov.l .L_pool_0602C8B4, r12 */
