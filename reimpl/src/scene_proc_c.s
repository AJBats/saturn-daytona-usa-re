/* scene_proc_c -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0602AF48 - 0x0602B334
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_0602AF48


    .global scene_proc_c
    .type scene_proc_c, @function
scene_proc_c:
    mov.l r14, @-r15
    sts.l pr, @-r15
    mov r4, r8
    mov r5, r14
    mov r6, r13
    mov.l   .L_pool_0602AFE4, r12
    mov #0x40, r4
    mov #-0x1, r0
.L_0602AF58:
    mov.l r0, @r12
    dt r4
    bf/s    .L_0602AF58
    add #0x10, r12
    mov.l   .L_pool_0602AFE8, r10
    mov.l @r10, r10
    mov #0x18, r0
    mul.l r7, r0
    sts macl, r0
    add r0, r8
.L_0602AF6C:
    mov.l r7, @-r15
    add #-0x18, r8
    mov.l   .L_pool_0602AFEC, r11
    mov.l   .L_pool_0602AFF0, r5
    mov.l   .L_pool_0602AFF4, r0
    mov.l @r0, r6
    mov.w @(16, r8), r0
    extu.w r0, r4
    bsr     .L_0602B1D6
    mov #0x6, r9
    mov.l r1, @r5
    mov.l r2, @(4, r5)
    mov.l r3, @(8, r5)
    mov.l   .L_pool_0602AFF8, r7
    mov.l r2, @r7
    mov.w @(12, r8), r0
    tst #0x8, r0
    bf      .L_0602B000
    mov.l   .L_pool_0602AFFC, r7
    mov r8, r4
    clrmac
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    add #-0xC, r4
    sts mach, r0
    sts macl, r9
    clrmac
    mac.l @r4+, @r6+
    xtrct r0, r9
    mov.l r9, @r7
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    add #-0xC, r4
    sts mach, r0
    sts macl, r9
    clrmac
    mac.l @r4+, @r6+
    xtrct r0, r9
    mov.l r9, @(4, r7)
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    add #-0x24, r6
    sts mach, r0
    sts macl, r9
    xtrct r0, r9
    mov.l r9, @(8, r7)
    clrmac
    mac.l @r5+, @r7+
    mac.l @r5+, @r7+
    mac.l @r5+, @r7+
    add #-0xC, r5
    sts mach, r9
    sts macl, r0
    xtrct r9, r0
    cmp/pl r0
    bt      .L_0602B000
    bra     .L_0602B19E
    nop
    .2byte  0x0000
.L_pool_0602AFE4:
    .4byte  sym_06094620
.L_pool_0602AFE8:
    .4byte  sym_06063F08
.L_pool_0602AFEC:
    .4byte  sym_0602B2C8
.L_pool_0602AFF0:
    .4byte  sym_0602B2E8
.L_pool_0602AFF4:
    .4byte  sym_06089EDC
.L_pool_0602AFF8:
    .4byte  sym_0602B310
.L_pool_0602AFFC:
    .4byte  sym_0602B2F8
.L_0602B000:
    mov.w @(16, r8), r0
    mov.l   .L_pool_0602B084, r7
    bsr     .L_0602B298
    mov r0, r4
    mov.l r3, @r5
    add #0x4, r5
    mov.w @(16, r8), r0
    bsr     .L_0602B258
    nop

    .global sym_0602B012
sym_0602B012:
    mov.w @(18, r8), r0
    mov.l   .L_pool_0602B088, r7
    bsr     .L_0602B298
    mov r0, r4
    bsr     .L_0602B1D6
    mov #0x6, r9
    mov.l r3, @r5
    add #0x4, r5
    mov.w @(18, r8), r0
    bsr     .L_0602B258
    nop

    .global sym_0602B028
sym_0602B028:
    mov.w @(20, r8), r0
    mov.l   .L_pool_0602B08C, r7
    bsr     .L_0602B298
    mov r0, r4
    bsr     .L_0602B1D6
    mov #0x6, r9
    mov.l r3, @r5
    add #0x4, r5
    mov.w @(20, r8), r0
    bsr     .L_0602B258
    nop

    .global sym_0602B03E
sym_0602B03E:
    mov.w @(22, r8), r0
    mov.l   .L_pool_0602B090, r7
    bsr     .L_0602B298
    mov r0, r4
    bsr     .L_0602B1D6
    mov #0x6, r9
    mov.l r3, @r5
    add #0x4, r5
    mov.w @(22, r8), r0
    bsr     .L_0602B258
    nop

    .global sym_0602B054
sym_0602B054:
    mov.l   .L_pool_0602B094, r0
    mov #0x18, r1
    mov.l @r0, r0
    mulu.w r0, r1
    mov.l   .L_pool_0602B098, r2
    sts macl, r9
    add r2, r9
    add #-0x20, r11
    mov.w   DAT_0602b082, r12
    mov.l @(0, r11), r0
    mov.l @(8, r11), r2
    mov.l @(16, r11), r4
    mov.l @(24, r11), r6
    cmp/gt r0, r12
    bf      .L_0602B09C
    cmp/gt r2, r12
    bf      .L_0602B09C
    cmp/gt r4, r12
    bf      .L_0602B09C
    cmp/gt r6, r12
    bf      .L_0602B09C
    bra     .L_0602B19E
    nop

    .global DAT_0602b082
DAT_0602b082:
    .2byte  0xFF50
.L_pool_0602B084:
    .4byte  sym_0602B012
.L_pool_0602B088:
    .4byte  sym_0602B028
.L_pool_0602B08C:
    .4byte  sym_0602B03E
.L_pool_0602B090:
    .4byte  sym_0602B054
.L_pool_0602B094:
    .4byte  sym_060620D0
.L_pool_0602B098:
    .4byte  sym_0608AC20
.L_0602B09C:
    mov.w   DAT_0602b116, r12
    cmp/gt r0, r12
    bt      .L_0602B0AE
    cmp/gt r2, r12
    bt      .L_0602B0AE
    cmp/gt r4, r12
    bt      .L_0602B0AE
    cmp/gt r6, r12
    bt      .L_0602B19E
.L_0602B0AE:
    mov.w   DAT_0602b118, r12
    mov.l @(4, r11), r1
    mov.l @(12, r11), r3
    mov.l @(20, r11), r5
    mov.l @(28, r11), r7
    cmp/gt r1, r12
    bf      .L_0602B0C8
    cmp/gt r3, r12
    bf      .L_0602B0C8
    cmp/gt r5, r12
    bf      .L_0602B0C8
    cmp/gt r7, r12
    bt      .L_0602B19E
.L_0602B0C8:
    mov.w   DAT_0602b11a, r12
    cmp/gt r1, r12
    bt      .L_0602B0DA
    cmp/gt r3, r12
    bt      .L_0602B0DA
    cmp/gt r5, r12
    bt      .L_0602B0DA
    cmp/gt r7, r12
    bf      .L_0602B19E
.L_0602B0DA:
    mov r9, r12
    add #0x18, r12
    mov.w r7, @-r12
    mov.w r6, @-r12
    mov.w r5, @-r12
    mov.w r4, @-r12
    mov.w r3, @-r12
    mov.w r2, @-r12
    mov.w r1, @-r12
    mov.w r0, @-r12
    mov.w @(14, r8), r0
    mov.w r0, @(6, r9)
    mov.w @(12, r8), r0
    shlr2 r0
    shlr2 r0
    and #0xF, r0
    mov.b r0, @(4, r9)
    mov r13, r0
    mov.b r0, @(5, r9)
    mov.w @(12, r8), r0
    mov.l   .L_pool_0602B11C, r1
    and #0x7, r0
    shll2 r0
    mov.l @(r0, r1), r2
    .word 0xC777 /* UNKNOWN */
    mov.l @r0, r3
    mov.l @(4, r0), r4
    mov.l @(8, r0), r5
    jmp @r2
    mov.l @(12, r0), r6

    .global DAT_0602b116
DAT_0602b116:
    .2byte  0x00B0

    .global DAT_0602b118
DAT_0602b118:
    .2byte  0xFF81

    .global DAT_0602b11a
DAT_0602b11a:
    .2byte  0x0051
.L_pool_0602B11C:
    .4byte  sym_0602B314

    .global loc_0602B120
loc_0602B120:
    add r4, r3
    add r5, r6
    add r6, r3
    bra     .L_0602B172
    shlr2 r3

    .global loc_0602B12A
loc_0602B12A:
    cmp/ge r3, r4
    bt      .L_0602B130
    mov r4, r3
.L_0602B130:
    cmp/ge r3, r5
    bt      .L_0602B136
    mov r5, r3
.L_0602B136:
    cmp/ge r3, r6
    bt      .L_0602B13C
    mov r6, r3
.L_0602B13C:
    bra     .L_0602B172
    nop

    .global loc_0602B140
loc_0602B140:
    cmp/gt r3, r4
    bf      .L_0602B146
    mov r4, r3
.L_0602B146:
    cmp/gt r3, r5
    bf      .L_0602B14C
    mov r5, r3
.L_0602B14C:
    cmp/gt r3, r6
    bf      .L_0602B152
    mov r6, r3
.L_0602B152:
    bra     .L_0602B172
    nop

    .global loc_0602B156
loc_0602B156:
    mov #0x1, r0
    bra     .L_0602B15E
    shll16 r0

    .global loc_0602B15C
loc_0602B15C:
    mov.l   .L_pool_0602B1A8, r0
.L_0602B15E:
    cmp/gt r3, r4
    bf      .L_0602B164
    mov r4, r3
.L_0602B164:
    cmp/gt r3, r5
    bf      .L_0602B16A
    mov r5, r3
.L_0602B16A:
    cmp/gt r3, r6
    bf      .L_0602B170
    mov r6, r3
.L_0602B170:
    add r0, r3
.L_0602B172:
    mov.l   .L_pool_0602B1AC, r1
    mov.l @r1, r1
    mov.l   .L_pool_0602B1B0, r0
    mov.l @r0, r0
    mov.l   .L_fp_two, r2
    add r2, r1
    cmp/gt r1, r0
    bf      .L_0602B186
    mov.l   .L_pool_0602B1B8, r2
    add r2, r3
.L_0602B186:
    mov.l   .L_pool_0602B1BC, r2
    neg r3, r3
    mov.l   .L_pool_0602B1C0, r1
    shlr8 r3
    mov.l @r2, r0
    shlr2 r3
    shlr2 r3
    shll r0
    mov.w r3, @(r0, r1)
    shar r0
    add #0x1, r0
    mov.l r0, @r2
.L_0602B19E:
    mov.l @r15+, r7
    dt r7
    bt      .L_0602B1C4
    bra     .L_0602AF6C
    nop
.L_pool_0602B1A8:
    .4byte  0x000B8000
.L_pool_0602B1AC:
    .4byte  sym_0602B310
.L_pool_0602B1B0:
    .4byte  sym_06063F54
.L_fp_two:
    .4byte  0x00020000                  /* 2.0 (16.16 fixed-point) */
.L_pool_0602B1B8:
    .4byte  0x000A0000
.L_pool_0602B1BC:
    .4byte  sym_060620D0
.L_pool_0602B1C0:
    .4byte  sym_0606A4F8
.L_0602B1C4:
    lds.l @r15+, pr
    mov.l @r15+, r14
    mov.l @r15+, r13
    mov.l @r15+, r12
    mov.l @r15+, r11
    mov.l @r15+, r10
    mov.l @r15+, r9
    rts
    mov.l @r15+, r8
.L_0602B1D6:
    mul.l r9, r4
    mov.l   .L_pool_0602B254, r4
    sts macl, r0
    add r14, r0
    mov.w @r0+, r1
    mov.w @r0+, r2
    mov.w @r0+, r3
    shll8 r1
    shll2 r1
    shll r1
    mov.l r1, @r4
    shll8 r2
    shll2 r2
    shll r2
    mov.l r2, @(4, r4)
    shll8 r3
    shll2 r3
    shll r3
    mov.l r3, @(8, r4)
    mov #0x18, r7
    add r6, r7
    clrmac
    mac.l @r4+, @r7+
    mac.l @r4+, @r7+
    mac.l @r4+, @r7+
    add #-0xC, r4
    mov.l @(8, r7), r9
    sts mach, r0
    sts macl, r3
    xtrct r0, r3
    add r9, r3
    cmp/gt r10, r3
    bf      .L_0602B19E
    mov.w   .L_wpool_0602B24E, r9
    mov.w   .L_wpool_0602B250, r0
    mov.l r0, @(16, r9)
    mov.l r3, @(0, r9)
    mov #0x0, r0
    mov.l r0, @(20, r9)
    clrmac
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    add #-0xC, r4
    mov.l @r7+, r9
    sts mach, r0
    sts macl, r1
    clrmac
    mac.l @r4+, @r6+
    xtrct r0, r1
    add r9, r1
    mac.l @r4+, @r6+
    mac.l @r4+, @r6+
    mov.l @r7+, r9
    sts mach, r0
    sts macl, r2
    xtrct r0, r2
    add r9, r2
    rts
    add #-0x18, r6
.L_wpool_0602B24E:
    .2byte  0xFF00
.L_wpool_0602B250:
    .2byte  0x00A0
    .2byte  0x0000
.L_pool_0602B254:
    .4byte  sym_0602B304
.L_0602B258:
    mov.w   .L_wpool_0602B290, r9
    mov.l @(28, r9), r7
    dmuls.l r1, r7
    neg r2, r2
    sts mach, r1
    dmuls.l r2, r7
    mov.l r1, @r11
    sts mach, r2
    mov.l r2, @(4, r11)
    add #0x8, r11
    mov.w   DAT_0602b292, r7
    cmp/gt r7, r1
    bt      .L_0602B19E
    mov.w   DAT_0602b294, r7
    cmp/gt r1, r7
    bt      .L_0602B19E
    mov.w   DAT_0602b296, r7
    cmp/gt r7, r2
    bt      .L_0602B19E
    mov.w   DAT_0602b294, r7
    cmp/gt r2, r7
    bt      .L_0602B19E
    mov.l r0, @r12
    mov.l r1, @(4, r12)
    mov.l r2, @(8, r12)
    mov.l r3, @(12, r12)
    rts
    nop
.L_wpool_0602B290:
    .2byte  0xFF00

    .global DAT_0602b292
DAT_0602b292:
    .2byte  0x0190

    .global DAT_0602b294
DAT_0602b294:
    .2byte  0xFE70

    .global DAT_0602b296
DAT_0602b296:
    .2byte  0x00C8
.L_0602B298:
    and #0x3F, r0
    mov.l   .L_pool_0602B2C0, r12
    shll2 r0
    shll2 r0
    add r0, r12
    mov.l @r12, r0
    cmp/pz r0
    bf      .L_0602B2C4
    cmp/eq r0, r4
    bf      .L_0602B2C4
    mov.l @(4, r12), r1
    mov.l @(8, r12), r2
    mov.l @(12, r12), r3
    mov.l r1, @r11
    mov.l r2, @(4, r11)
    add #0x8, r11
    mov.l r3, @r5
    jmp @r7
    add #0x4, r5
    .2byte  0x0000
.L_pool_0602B2C0:
    .4byte  sym_06094620
.L_0602B2C4:
    rts
    nop

    .global sym_0602B2C8
sym_0602B2C8:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global sym_0602B2E8
sym_0602B2E8:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global DAT_0602b2ec
DAT_0602b2ec:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global DAT_0602b2f0
DAT_0602b2f0:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global DAT_0602b2f4
DAT_0602b2f4:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global sym_0602B2F8
sym_0602B2F8:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global sym_0602B304
sym_0602B304:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global sym_0602B310
sym_0602B310:
    .word 0xFFFF /* UNKNOWN */
    .word 0xFFFF /* UNKNOWN */

    .global sym_0602B314
sym_0602B314:
    .4byte  loc_0602B120
    .4byte  loc_0602B12A
    .4byte  loc_0602B140
    .4byte  loc_0602B156
    .4byte  loc_0602B15C

    .global sym_0602B328
sym_0602B328:
    mov.l r8, @-r15
    mov.l r9, @-r15
    mov.l r10, @-r15
    mov.l r11, @-r15
    mov.l r12, @-r15
    mov.l r13, @-r15
