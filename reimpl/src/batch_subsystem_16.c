#include "game.h"

extern int DAT_06016eda;
extern int DAT_06016ffa;
extern int DAT_0601729e;
extern int DAT_0601748a;
extern int DAT_0601748c;
extern int DAT_0601748e;
extern int DAT_06017490;
extern int DAT_06017492;
extern int DAT_060175b4;
extern int DAT_060175b6;
extern int DAT_060175b8;
extern int DAT_060175ba;
extern int DAT_06017692;
extern int DAT_06017694;
extern int DAT_06017696;
extern int DAT_06017698;
extern int DAT_0601769a;
extern int DAT_0601769c;
extern int DAT_06017728;
extern int DAT_0601772a;
extern int DAT_0601772c;
extern int DAT_060178aa;
extern int DAT_060178ac;
extern int DAT_060179b6;
extern int DAT_06017bd4;
extern int DAT_06017bd6;
extern int DAT_06017bd8;
extern int DAT_06017c52;
extern int DAT_06017d92;
extern int DAT_06017d94;
extern int DAT_06017d96;
extern int DAT_06017d98;
extern int DAT_06017d9a;
extern int DAT_06017ea6;
extern int DAT_06017ea8;
extern int DAT_06017eaa;
extern int DAT_06017fdc;
extern int DAT_06017fde;
extern int DAT_06017fe0;
extern int DAT_06017fe2;
extern int DAT_06017fe4;
extern int DAT_06017fe6;
extern int DAT_060180fc;
extern int DAT_060180fe;
extern int DAT_06018100;
extern int DAT_06018102;
extern int DAT_06018104;
extern void hud_sprite_vertex_project();
extern void FUN_060172e4();
extern int FUN_06017330(unsigned short param_1);
extern int FUN_06017784();
extern void FUN_06017bf4();
extern void FUN_06017c78();
extern unsigned int FUN_06017c9c();
extern int track_calculation();
extern int PTR_DAT_060172a0;
extern int PTR_DAT_060179b8;
extern int PTR_DAT_06017d9c;

/* race_slot_init -- Initialize a race slot with position data from course table.
 * Clears slot state, loads 5 position values from 0x0605BB74 (indexed by
 * param_2 * 5, offset +0x28 for mirror mode). Stores as 16.16 fixed-point
 * into slot fields at +4/+8/+C/+10/+34. Then calls hud_sprite_vertex_project for
 * further init, and sets up display entry at 0x06085490 (stride 0x18). */
#if 0 /* FUN_06016CDC -- replaced by ASM import */
void FUN_06016cdc(param_1, param_2)
    unsigned char param_1;
    unsigned char param_2;
{
    char *slot_base = (char *)0x06084FC8;       /* race slot array base */
    char *pos_table = (char *)0x0605BB74;       /* course position table */
    int slot_off = (short)((unsigned short)param_1 * 0x44);
    int tbl_idx;

    ((int *)0x06084FC8)[slot_off + 1] = 0;     /* clear slot state */
    tbl_idx = 0;

    /* Mirror mode: offset position table by 0x28 entries */
    if (((unsigned int)(*(int *)0x06085F89 == '\0') & *(unsigned int *)0x0607EBF4) != 0) {
        tbl_idx = 0x28;
        *(char **)(slot_base + slot_off + 0x2c) = 0x00008000;
    }

    tbl_idx = (unsigned int)param_2 * 5 + tbl_idx;

    /* Load 5 position values as 16.16 fixed-point */
    *(int *)(slot_base + slot_off + 4) =
         (int)*(short *)(0x0605BB74 + (tbl_idx << 1)) << 0x10;
    *(int *)(slot_base + slot_off + 8) =
         (int)*(short *)(pos_table + ((tbl_idx + 1) << 1)) << 0x10;
    *(int *)(slot_base + slot_off + 0xc) =
         (int)*(short *)(pos_table + ((tbl_idx + 2) << 1)) << 0x10;
    *(int *)(slot_base + slot_off + 0x10) =
         (int)*(short *)(pos_table + ((tbl_idx + 3) << 1)) << 0x10;
    *(int *)(slot_base + slot_off + 0x34) =
         (int)*(short *)(pos_table + ((tbl_idx + 4) << 1)) << 0x10;

    hud_sprite_vertex_project(param_1);

    /* Set up display entry for this slot */
    char *disp_base = (char *)0x06085490;
    int disp_off = (short)((unsigned short)param_1 * 0x18);
    *(unsigned short *)(0x06085490 + disp_off + 6) = param_2 + 0x17;
    disp_base[disp_off + 4] = 1;
    disp_base[disp_off + 5] = 0x3a;
}
#endif

/* hud_sprite_vertex_project -- Project 4 corners of a HUD sprite element.
 * Takes slot index into object table at 0x06084FC8 (0x44 bytes/entry).
 * Reads rotation angles at +0x2C and +0x30 within the slot.
 * Decomposes angle via matrix function (0x06027358) into sin/cos,
 * then transforms 4 corner offsets (half-width/half-height) through
 * rotation matrix using fixed-point multiply (0x06027552).
 * Corner sizes: normal=0x10/0xC, results mode (0x15)=0x20/0x18.
 * Second pass applies depth correction with divide (0x0602755C).
 * Third pass writes final screen X/Y to sprite table at 0x06085490
 * (0x18 bytes/entry, corners at +8). NOTE: Heavy Ghidra stack artifacts
 * (stack0x...) â€” Ghidra failed to resolve the stack frame layout. */
void hud_sprite_vertex_project(slot_index)
    char slot_index;
{
  int stack0xfffffff0;
  int stack0x0000002c;
  int stack0xfffffff4;
  int stack0xfffffff8;
  int stack0x00000008;
  int stack0xfffffffe;
  int stack0xfffffffc;
  int stack0xffffffe8;
  int stack0x0000000c;
  int stack0xffffffec;
  int stack0xffffffe4;
  int stack0x0000003c;
  int stack0x0000001c;
  int stack0x00000004;
  int stack0x0000000a;
  int stack0x00000006;
  int stack0x0000005c;
  int stack0x0000004c;
  int stack0x00000002;
  int stack0x00000000;
  char *multiply_fn;
  char *slot_table;
  int frame_offset;
  int mul_result;
  int cross_result;
  short half_width;
  int *corner_ptr;
  short sprite_half_w;
  short *y_offset_ptr;
  short sprite_half_h;
  int corner_idx;
  unsigned char vertex_i;
  unsigned char slot_id;
  int *depth_ptr;
  int temp_buf[2];
  int cos_component;
  multiply_fn = (char *)0x06027552;                          /* fixed-point multiply */
  frame_offset = -140;
  sprite_half_w = 0x10;
  (&stack0xffffffec)[frame_offset] = slot_index;
  sprite_half_h = 0xc;
  if (GAME_STATE == 0x15) {                                  /* results screen: larger sprites */
    sprite_half_w = 0x20;
    sprite_half_h = 0x18;
  }
  /* set up 4 corner X offsets: -W, +W, +W, -W */
  *(short *)(&stack0x00000004 + frame_offset) = -sprite_half_w;
  *(short *)(&stack0x00000006 + frame_offset) = sprite_half_w;
  *(short *)(&stack0x00000008 + frame_offset) = sprite_half_w;
  *(short *)(&stack0x0000000a + frame_offset) = -sprite_half_w;
  /* set up 4 corner Y offsets: -H, -H, +H, +H */
  *(short *)(&stack0xfffffffc + frame_offset) = -sprite_half_h;
  *(short *)(&stack0xfffffffe + frame_offset) = -sprite_half_h;
  *(short *)(&stack0x00000000 + frame_offset) = sprite_half_h;
  *(short *)(&stack0x00000002 + frame_offset) = sprite_half_h;
  /* decompose angle at slot+0x30 into sin/cos components */
  (*(int(*)())0x06027358)(*(int *)                           /* matrix_decompose */
              (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x44) + 0x30),
             (int)&cos_component + frame_offset,&stack0xffffffe4 + frame_offset);
  /* pass 1: rotate 4 corners by angle (X*cos + Y*sin, Y*cos - X*sin) */
  slot_id = 0;
  do {
    corner_idx = (unsigned int)(slot_id << 2);
    *(char **)((int)temp_buf + frame_offset + 4) = &stack0x0000005c + corner_idx + frame_offset;
    *(unsigned int *)(&stack0xffffffe8 + frame_offset) = (unsigned int)(slot_id << 1);
    *(char **)(&stack0xfffffff0 + frame_offset) = &stack0x00000004 + (unsigned int)(slot_id << 1) + frame_offset;
    mul_result = (*(int(*)())multiply_fn)((int)*(short *)(&stack0x00000004 + (unsigned int)(slot_id << 1) + frame_offset) << 0x10,
                              *(int *)(&stack0xffffffe4 + frame_offset));
    *(int *)((int)temp_buf + frame_offset) = mul_result;
    y_offset_ptr = (short *)(*(int *)(&stack0xffffffe8 + frame_offset) + (int)(&stack0xfffffffc + frame_offset));
    *(short **)(&stack0xfffffff4 + frame_offset) = y_offset_ptr;
    cross_result = (*(int(*)())multiply_fn)((int)*y_offset_ptr << 0x10,*(int *)((int)&cos_component + frame_offset));
    **(int **)((int)temp_buf + frame_offset + 4) = cross_result + *(int *)((int)temp_buf + frame_offset);
    *(char **)((int)temp_buf + frame_offset + 4) = &stack0x0000004c + corner_idx + frame_offset;
    mul_result = (*(int(*)())multiply_fn)((int)**(short **)(&stack0xfffffff4 + frame_offset) << 0x10,
                              *(int *)(&stack0xffffffe4 + frame_offset));
    *(int *)((int)temp_buf + frame_offset) = mul_result;
    cross_result = (*(int(*)())multiply_fn)((int)**(short **)(&stack0xfffffff0 + frame_offset) << 0x10,
                              *(int *)((int)&cos_component + frame_offset));
    slot_id = slot_id + 1;
    **(int **)((int)temp_buf + frame_offset + 4) = *(int *)((int)temp_buf + frame_offset) - cross_result;
    *(int *)(&stack0x0000003c + corner_idx + frame_offset) = 0;
  } while (slot_id < 4);
  /* save original angle at slot+0x2C, apply highlight offset if needed */
  *(int *)(&stack0xfffffff8 + frame_offset) =
       *(int *)
        (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x44) + 0x2c);
  if (*(int *)0x06078663 != '\0') {                          /* highlight active flag */
    *(char **)
     (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x44) + 0x2c) =
         0x00008000 +
         *(int *)(0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x44) + 0x2c)
    ;
  }
  /* decompose angle at slot+0x2C (heading) into sin/cos */
  (*(int(*)())0x06027358)(*(int *)                           /* matrix_decompose */
              (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x44) + 0x2c),
             (int)&cos_component + frame_offset,&stack0xffffffe4 + frame_offset);
  /* pass 2: apply heading rotation with depth correction */
  slot_id = 0;
  do {
    corner_idx = (unsigned int)(slot_id << 2);
    *(char **)(&stack0xffffffe8 + frame_offset) = &stack0x0000000c + corner_idx + frame_offset;
    *(char **)((int)temp_buf + frame_offset + 4) = &stack0x0000000c + corner_idx + frame_offset;
    corner_ptr = (int *)((int)temp_buf + corner_idx + DAT_06016ffa + frame_offset + 4);
    *(int **)(&stack0xfffffff4 + frame_offset) = corner_ptr;
    mul_result = (*(int(*)())multiply_fn)(*corner_ptr,*(int *)((int)&cos_component + frame_offset));
    *(int *)((int)temp_buf + frame_offset) = mul_result;
    *(char **)(&stack0xfffffff0 + frame_offset) = &stack0x0000003c + corner_idx + frame_offset;
    cross_result = (*(int(*)())multiply_fn)(*(int *)(&stack0x0000003c + corner_idx + frame_offset),
                              *(int *)(&stack0xffffffe4 + frame_offset));
    **(int **)((int)temp_buf + frame_offset + 4) = cross_result + *(int *)((int)temp_buf + frame_offset);
    *(char **)((int)temp_buf + frame_offset + 4) = &stack0x0000002c + corner_idx + frame_offset;
    mul_result = (*(int(*)())multiply_fn)(**(int **)(&stack0xfffffff4 + frame_offset),
                              *(int *)(&stack0xffffffe4 + frame_offset));
    *(int *)((int)temp_buf + frame_offset) = mul_result;
    cross_result = (*(int(*)())multiply_fn)(**(int **)(&stack0xfffffff0 + frame_offset),
                              *(int *)((int)&cos_component + frame_offset));
    **(int **)((int)temp_buf + frame_offset + 4) = *(int *)((int)temp_buf + frame_offset) - cross_result;
    *(int *)(&stack0x0000001c + corner_idx + frame_offset) =
         *(int *)(&stack0x0000004c + corner_idx + frame_offset);
    /* depth correction: divide to adjust for perspective */
    if (**(int **)(&stack0xffffffe8 + frame_offset) != 0) {
      corner_idx = (unsigned int)(slot_id << 2);
      corner_ptr = (int *)(&stack0x0000002c + corner_idx + frame_offset);
      *(int **)(&stack0xfffffff4 + frame_offset) = corner_ptr;
      *(int **)((int)temp_buf + frame_offset + 4) = corner_ptr;
      *(int *)(&stack0xffffffe8 + frame_offset) = *corner_ptr;
      *(char **)(&stack0xfffffff0 + frame_offset) = &stack0x0000000c + corner_idx + frame_offset;
      cross_result = (*(int(*)())0x0602755C)(*(int *)(&stack0xffffffe8 + frame_offset),  /* fixed_divide */
                         *(int *)(&stack0x0000000c + corner_idx + frame_offset));
      **(int **)((int)temp_buf + frame_offset + 4) = cross_result + *(int *)(&stack0xffffffe8 + frame_offset);
      depth_ptr = (int *)(&stack0x0000001c + corner_idx + frame_offset);
      *(int **)(&stack0xfffffff4 + frame_offset) = depth_ptr;
      cross_result = *depth_ptr;
      *(int *)(&stack0xffffffe8 + frame_offset) = cross_result;
      (*(int(*)())0x0602755C)(cross_result,**(int **)(&stack0xfffffff0 + frame_offset));  /* fixed_divide */
      cross_result = (*(int(*)())0x06034FE0)();              /* get_divide_result */
      *depth_ptr = *(int *)(&stack0xffffffe8 + frame_offset) - cross_result;
    }
    slot_id = slot_id + 1;
  } while (slot_id < 4);
  /* restore original angle at slot+0x2C */
  *(int *)(0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x44) + 0x2c)
       = *(int *)(&stack0xfffffff8 + frame_offset);
  /* pass 3: convert rotated corners to screen coordinates */
  slot_table = (char *)0x06084FC8;                           /* HUD object slot table */
  *(char **)(&stack0xfffffff0 + frame_offset) =
       0x06085490 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[frame_offset] * 0x18) + 8;  /* sprite output table */
  vertex_i = 0;
  slot_id = (&stack0xffffffec)[frame_offset];
  do {
    cross_result = (unsigned int)(vertex_i << 2) + *(int *)(&stack0xfffffff0 + frame_offset);
    *(int *)(&stack0xffffffec + frame_offset) = cross_result;
    *(int *)((int)temp_buf + frame_offset + 4) = cross_result;
    mul_result = *(int *)(slot_table + (short)((unsigned short)slot_id * 0x44) + 0xc);  /* slot depth */
    *(unsigned int *)(&stack0xffffffe8 + frame_offset) = (unsigned int)(vertex_i << 2);
    cross_result = (*(int(*)())multiply_fn)(*(int *)(&stack0x0000002c + (unsigned int)(vertex_i << 2) + frame_offset),mul_result);
    half_width = (*(int(*)())0x0602754C)(*(int *)(slot_table + (short)((unsigned short)slot_id * 0x44) + 4) + cross_result);  /* truncate_to_short: screen X */
    **(short **)((int)temp_buf + frame_offset + 4) = half_width;
    *(int *)((int)temp_buf + frame_offset + 4) = *(int *)(&stack0xffffffec + frame_offset) + 2;
    cross_result = (*(int(*)())multiply_fn)(*(int *)
                               (&stack0x0000001c + *(int *)(&stack0xffffffe8 + frame_offset) + frame_offset),
                              *(int *)(slot_table + (short)((unsigned short)slot_id * 0x44) + 0xc));
    half_width = (*(int(*)())0x0602754C)(*(int *)(slot_table + (short)((unsigned short)slot_id * 0x44) + 8) + cross_result);  /* truncate_to_short: screen Y */
    vertex_i = vertex_i + 1;
    **(short **)((int)temp_buf + frame_offset + 4) = half_width;
  } while (vertex_i < 4);
  return;
}

/* hud_sprite_layer_render -- Render HUD sprite layers for race/results.
 * Active in game states 0x19 (race) and 0x15 (results) when race slot
 * at 0x06084FC8 is valid. Sprite table at 0x06085490, each entry 0x18 bytes.
 * State 0x19 renders 4 extra layers (8 total), state 0x15 renders 4.
 * Each VDP1 command submitted via FUN_060280F8, write pointer at
 * 0x060785FC advances by 0x20, sprite counter at 0x0605A008 increments. */
#if 0 /* FUN_060171AC -- replaced by ASM import */
void FUN_060171ac()
{
    int *vdp_ptr = (int *)0x060785FC;
    int *sprite_count = (int *)0x0605A008;
    char *vdp_submit = (char *)0x060280F8;         /* VDP1 command submit */
    char *sprite_base = (char *)0x06085490;
    int pos;

    if ((GAME_STATE == 0x19 || GAME_STATE == 0x15) &&
       (((int *)0x06084FC8)[1] == '\0' && *(int *)0x06084FC8 != '\0')) {

        if (GAME_STATE == 0x19) {
            /* Full HUD: 4 extra layers */
            (*(int(*)())0x060280F8)(sprite_base + DAT_0601729e, *vdp_ptr);
            *sprite_count = *sprite_count + 1;
            pos = *vdp_ptr;
            *vdp_ptr = pos + 0x20;
            (*(int(*)())vdp_submit)(sprite_base + PTR_DAT_060172a0, pos + 0x20);
            *sprite_count = *sprite_count + 1;
            pos = *vdp_ptr;
            *vdp_ptr = pos + 0x20;
            (*(int(*)())vdp_submit)(sprite_base + 0x78, pos + 0x20);
            *sprite_count = *sprite_count + 1;
            pos = *vdp_ptr;
            *vdp_ptr = pos + 0x20;
            (*(int(*)())vdp_submit)(sprite_base + 0x60, pos + 0x20);
            *sprite_count = *sprite_count + 1;
            *vdp_ptr = *vdp_ptr + 0x20;
        }

        /* Common: 4 bottom sprite layers */
        (*(int(*)())vdp_submit)(sprite_base + 0x48, *vdp_ptr);
        *sprite_count = *sprite_count + 1;
        pos = *vdp_ptr;
        *vdp_ptr = pos + 0x20;
        (*(int(*)())vdp_submit)(sprite_base + 0x30, pos + 0x20);
        *sprite_count = *sprite_count + 1;
        pos = *vdp_ptr;
        *vdp_ptr = pos + 0x20;
        (*(int(*)())vdp_submit)(sprite_base + 0x18, pos + 0x20);
        *sprite_count = *sprite_count + 1;
        pos = *vdp_ptr;
        *vdp_ptr = pos + 0x20;
        (*(int(*)())vdp_submit)(sprite_base, pos + 0x20);
        *sprite_count = *sprite_count + 1;
        *vdp_ptr = *vdp_ptr + 0x20;
    }
}
#endif

/* FUN_060171AC -- original binary (272 bytes) */
__asm__(
    ".section .text.FUN_060171AC, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_060171AC\n"
    ".global _FUN_060171ac\n"
    ".type _FUN_060171AC, @function\n"
    "_FUN_060171AC:\n"
    "_FUN_060171ac:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0x2F, 0xB6, 0x4F, 0x22, 0xDB, 0x3B, 0xDC, 0x3B, 0xDD, 0x3C\n"  /* 0x060171AC */
    ".byte 0xDE, 0x3C, 0xD4, 0x3D, 0x60, 0x42, 0x88, 0x15, 0x01, 0x29, 0x88, 0x19, 0x00, 0x29, 0x20, 0x1B\n"  /* 0x060171BC */
    ".byte 0x20, 0x08, 0x89, 0x60, 0xD5, 0x39, 0x63, 0x50, 0x63, 0x3C, 0x23, 0x38, 0x00, 0x29, 0xCA, 0x01\n"  /* 0x060171CC */
    ".byte 0xE3, 0x01, 0x33, 0x5C, 0x63, 0x30, 0x63, 0x3C, 0x23, 0x38, 0x01, 0x29, 0x20, 0x19, 0x20, 0x08\n"  /* 0x060171DC */
    ".byte 0x89, 0x51, 0x60, 0x42, 0x88, 0x19, 0x8B, 0x27, 0x65, 0xE2, 0x94, 0x52, 0x4C, 0x0B, 0x34, 0xBC\n"  /* 0x060171EC */
    ".byte 0x62, 0xD2, 0x72, 0x01, 0x2D, 0x22, 0x63, 0xE2, 0x73, 0x20, 0x2E, 0x32, 0x65, 0x33, 0x94, 0x49\n"  /* 0x060171FC */
    ".byte 0x4C, 0x0B, 0x34, 0xBC, 0x64, 0xB3, 0x62, 0xD2, 0x72, 0x01, 0x2D, 0x22, 0x63, 0xE2, 0x73, 0x20\n"  /* 0x0601720C */
    ".byte 0x65, 0x33, 0x2E, 0x32, 0x4C, 0x0B, 0x74, 0x78, 0x64, 0xB3, 0x62, 0xD2, 0x72, 0x01, 0x2D, 0x22\n"  /* 0x0601721C */
    ".byte 0x63, 0xE2, 0x73, 0x20, 0x65, 0x33, 0x2E, 0x32, 0x4C, 0x0B, 0x74, 0x60, 0x62, 0xD2, 0x72, 0x01\n"  /* 0x0601722C */
    ".byte 0x2D, 0x22, 0x63, 0xE2, 0x73, 0x20, 0x2E, 0x32, 0x65, 0xE2, 0x64, 0xB3, 0x4C, 0x0B, 0x74, 0x48\n"  /* 0x0601723C */
    ".byte 0x62, 0xD2, 0x64, 0xB3, 0x72, 0x01, 0x2D, 0x22, 0x63, 0xE2, 0x73, 0x20, 0x2E, 0x32, 0x65, 0x33\n"  /* 0x0601724C */
    ".byte 0x4C, 0x0B, 0x74, 0x30, 0x62, 0xD2, 0x64, 0xB3, 0x72, 0x01, 0x2D, 0x22, 0x63, 0xE2, 0x73, 0x20\n"  /* 0x0601725C */
    ".byte 0x2E, 0x32, 0x65, 0x33, 0x4C, 0x0B, 0x74, 0x18, 0x62, 0xD2, 0x72, 0x01, 0x2D, 0x22, 0x63, 0xE2\n"  /* 0x0601726C */
    ".byte 0x73, 0x20, 0x65, 0x33, 0x2E, 0x32, 0x4C, 0x0B, 0x64, 0xB3, 0x62, 0xD2, 0x72, 0x01, 0x2D, 0x22\n"  /* 0x0601727C */
    ".byte 0x63, 0xE2, 0x73, 0x20, 0x2E, 0x32, 0x4F, 0x26, 0x6B, 0xF6, 0x6C, 0xF6, 0x6D, 0xF6, 0x00, 0x0B\n"  /* 0x0601728C */
    ".byte 0x6E, 0xF6, 0x00, 0xA8, 0x00, 0x90, 0xFF, 0xFF, 0x06, 0x08, 0x54, 0x90, 0x06, 0x02, 0x80, 0xF8\n"  /* 0x0601729C */
    ".byte 0x06, 0x05, 0xA0, 0x08, 0x06, 0x07, 0x85, 0xFC, 0x06, 0x05, 0xAD, 0x10, 0x06, 0x08, 0x4F, 0xC8\n"  /* 0x060172AC */
);


/* hud_digits_render_all -- Render all 18 HUD digit slots (0x00-0x11).
 * For each slot: compute digit value (FUN_060172e4), then render sprite (FUN_06017330). */
#if 0 /* FUN_060172BC -- replaced by ASM import */
void FUN_060172bc(void)
{
    unsigned char slot;
    for (slot = 0; slot < 0x12; slot++) {
        FUN_060172e4(slot);
        FUN_06017330(slot);
    }
}
#endif

/* FUN_060172BC -- original binary (240 bytes) */
__asm__(
    ".section .text.FUN_060172BC, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_060172BC\n"
    ".global _FUN_060172bc\n"
    ".type _FUN_060172BC, @function\n"
    "_FUN_060172BC:\n"
    "_FUN_060172bc:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0x4F, 0x22, 0xEC, 0x12, 0xEE, 0x00, 0x6D, 0xEC, 0xB0, 0x0B\n"  /* 0x060172BC */
    ".byte 0x64, 0xD3, 0xB0, 0x2F, 0x64, 0xD3, 0x7E, 0x01, 0x62, 0xEC, 0x32, 0xC3, 0x8B, 0xF6, 0x4F, 0x26\n"  /* 0x060172CC */
    ".byte 0x6C, 0xF6, 0x6D, 0xF6, 0x00, 0x0B, 0x6E, 0xF6, 0x64, 0x4C, 0x63, 0x43, 0x44, 0x08, 0x43, 0x08\n"  /* 0x060172DC */
    ".byte 0x43, 0x08, 0x43, 0x08, 0x34, 0x3C, 0x64, 0x4F, 0xD2, 0x0D, 0x34, 0x2C, 0xE5, 0x00, 0x60, 0x5C\n"  /* 0x060172EC */
    ".byte 0x80, 0x42, 0x80, 0x41, 0x24, 0x00, 0x14, 0x53, 0x63, 0x53, 0x14, 0x52, 0x62, 0x33, 0x14, 0x31\n"  /* 0x060172FC */
    ".byte 0x14, 0x26, 0x14, 0x25, 0x14, 0x24, 0x14, 0x29, 0x14, 0x28, 0x14, 0x27, 0x14, 0x2C, 0x14, 0x2B\n"  /* 0x0601730C */
    ".byte 0x14, 0x2A, 0x14, 0x2E, 0x14, 0x2D, 0xE0, 0x41, 0x04, 0x24, 0xE0, 0x40, 0x00, 0x0B, 0x04, 0x24\n"  /* 0x0601731C */
    ".byte 0x06, 0x08, 0x4F, 0xC8, 0xE7, 0x08, 0xE5, 0x00, 0x66, 0x4C, 0x63, 0x63, 0x46, 0x08, 0x46, 0x00\n"  /* 0x0601732C */
    ".byte 0x43, 0x08, 0x43, 0x08, 0x36, 0x3C, 0x66, 0x6F, 0xD2, 0x17, 0x36, 0x2C, 0x63, 0x5C, 0x60, 0x33\n"  /* 0x0601733C */
    ".byte 0x80, 0x64, 0x81, 0x63, 0x63, 0x3C, 0x60, 0x33, 0x80, 0x65, 0x64, 0x5C, 0x63, 0x4C, 0x62, 0x63\n"  /* 0x0601734C */
    ".byte 0x61, 0x5F, 0x43, 0x00, 0x74, 0x01, 0x72, 0x08, 0x33, 0x2C, 0x23, 0x11, 0x63, 0x4C, 0x33, 0x73\n"  /* 0x0601735C */
    ".byte 0x8B, 0xF4, 0x00, 0x0B, 0x00, 0x09, 0xD7, 0x0D, 0xE6, 0x12, 0xE5, 0x00, 0x63, 0x4C, 0x62, 0x5C\n"  /* 0x0601736C */
    ".byte 0x61, 0x23, 0x42, 0x08, 0x41, 0x08, 0x41, 0x08, 0x41, 0x08, 0x32, 0x1C, 0x62, 0x2F, 0x32, 0x7C\n"  /* 0x0601737C */
    ".byte 0x62, 0x20, 0x62, 0x2C, 0x33, 0x20, 0x8B, 0x01, 0xA0, 0x04, 0x00, 0x09, 0x75, 0x01, 0x62, 0x5C\n"  /* 0x0601738C */
    ".byte 0x32, 0x63, 0x8B, 0xEB, 0x00, 0x0B, 0x60, 0x5C, 0x06, 0x08, 0x54, 0x90, 0x06, 0x08, 0x4F, 0xC8\n"  /* 0x0601739C */
);


/* race_slot_clear -- Zero all fields in a HUD race slot descriptor.
 * Slot array at 0x06084FC8, stride 0x44 bytes per slot.
 * param_1 (low byte): slot index. Clears bytes 0-2,
 * ints at +0x04..+0x38 (14 words), and bytes at +0x40/+0x41. */
void FUN_060172e4(param_1)
    unsigned short param_1;
{
  char *slot = (char *)0x06084FC8 + (short)((param_1 & 0xff) * 0x44);
  slot[2] = 0;
  slot[1] = 0;
  *slot = 0;
  *(int *)(slot + 0x0c) = 0;
  *(int *)(slot + 0x08) = 0;
  *(int *)(slot + 0x04) = 0;
  *(int *)(slot + 0x18) = 0;
  *(int *)(slot + 0x14) = 0;
  *(int *)(slot + 0x10) = 0;
  *(int *)(slot + 0x24) = 0;
  *(int *)(slot + 0x20) = 0;
  *(int *)(slot + 0x1c) = 0;
  *(int *)(slot + 0x30) = 0;
  *(int *)(slot + 0x2c) = 0;
  *(int *)(slot + 0x28) = 0;
  *(int *)(slot + 0x38) = 0;
  *(int *)(slot + 0x34) = 0;
  slot[0x41] = 0;
  slot[0x40] = 0;
  return;
}

/* hud_slot_clear -- Clear a HUD digit display slot.
 * Slot array at 0x06085490, stride 0x18 bytes per slot.
 * param_1 (low byte): slot index.
 * Zeros: counter (+16), display value (+6), active flag (+5),
 * and all 8 digit values (+8 to +22). */
int FUN_06017330(unsigned short param_1)
{
    register char *base asm("r2") = (char *)0x06085490;
    int offset;
    unsigned char i;

    param_1 = param_1 & 0xff;
    offset = (short)(param_1 * 0x18);

    *(int *)(base + offset + 16) = 0;
    *(short *)(base + offset + 6) = 0;
    *(base + offset + 5) = 0;

    i = 0;
    do {
        *(short *)(base + (i << 1) + offset + 8) = 0;
        i++;
    } while (i < 8);

    return 0;
}

/* race_slot_find_by_id -- Find a race slot index matching a car ID.
 * Scans 18 (0x12) slots of stride 0x44 bytes at 0x06084FC8, comparing
 * byte 0 (car ID) to param_1. Returns slot index, or 0x12 if not found. */
unsigned char FUN_06017372(param_1)
    char param_1;
{
    unsigned char slot = 0;
    do {
        if (param_1 == *(char *)((short)((unsigned short)slot * 0x44) + 0x06084FC8)) {
            return slot;
        }
        slot = slot + 1;
    } while (slot < 0x12);
    return slot;
}

/* hud_race_panel_render -- Render the full in-race HUD panel.
 * Draws lap counter, speed display, position display, gear indicator,
 * and timer digits. Uses two layout tables: normal (0x06044B84) and
 * demo mode (0x06044BB4). Converts player speed and AI speed to
 * digit arrays via FUN_06005DD4, clamps speed to 0x927BF max.
 * Gear display dispatches on remainder (1-4) with special case for
 * laps 11-13. Demo mode uses simplified single-line layout. */
#if 0 /* FUN_060173AC -- replaced by ASM import */
int FUN_060173ac()
{
    char *sprite_table = (char *)0x06063750;    /* VDP sprite table base */
    int y_offset = (int)DAT_0601748a;
    short auStack_7c[14];
    short auStack_60[14];
    char auStack_44[4];
    short auStack_40[6];
    short auStack_34[12];

    (*(int(*)())0x06035228)();
    (*(int(*)())0x06035228)();

    /* Select layout table: normal or demo mode */
    short *layout = (short *)0x06044B84;
    if (DEMO_MODE_FLAG != 0) {
        layout = (short *)0x06044BB4;
    }

    /* Render lap counter digits */
    int *lap_data = (int *)(sprite_table + DAT_0601748c);
    FUN_06017784(*lap_data, lap_data[1] + y_offset, *layout, layout[1]);
    FUN_06017784(*(int *)(sprite_table + DAT_0601748e), lap_data[1] + y_offset,
                 layout[3], layout[4]);
    FUN_06017784(*(int *)(sprite_table + DAT_06017490), lap_data[1] + y_offset,
                 layout[9], layout[10]);

    /* Get player speed, clamped to max */
    char *car_base = (char *)0x06078900;
    int ai_speed = *(int *)(0x06078900 + DAT_06017492);
    char *player_speed = *(char **)0x060786A4;
    if ((int)0x000927BF <= (int)*(char **)0x060786A4) {
        player_speed = (char *)0x000927BF;
    }
    if ((*(unsigned int *)0x0607EBF4 & 1) == 0) {
        player_speed = (char *)(GAME_STATE_VAR * 5);
    }

    /* Convert player speed to digit array */
    int digits = (*(int(*)())0x06005DD4)(player_speed);
    unsigned char idx = 0;
    do {
        unsigned int i = (unsigned int)idx;
        auStack_40[idx] = auStack_7c[*(unsigned char *)(i + digits)];
        unsigned int j = (unsigned int)idx;
        idx = idx + 1;
        auStack_34[j + 2] = auStack_60[*(unsigned char *)(i + digits)];
    } while (idx < 8);
    FUN_06017784(auStack_44, *(int *)(sprite_table + DAT_060175b4) + y_offset,
                 layout[6], layout[7]);

    /* Convert AI speed to digit array */
    digits = (*(int(*)())0x06005DD4)(ai_speed);
    idx = 0;
    do {
        unsigned int i = (unsigned int)idx;
        unsigned int k = (unsigned int)idx;
        unsigned int m = (unsigned int)idx;
        idx = idx + 1;
        auStack_40[i] = auStack_7c[*(unsigned char *)(k + digits)];
        auStack_34[m + 2] = auStack_60[*(unsigned char *)(k + digits)];
    } while (idx < 8);
    FUN_06017784(auStack_44, *(int *)(sprite_table + DAT_060175b4) + y_offset,
                 layout[0xc], layout[0xd]);

    /* Gear and position indicators */
    int tens_digit = (*(int(*)())0x06034FE0)(*(int *)(car_base + DAT_060175b6) + 1, 10);
    int ones_digit = (*(int(*)())0x06035C2C)();

    if (DEMO_MODE_FLAG == 0) {
        int gear_y = (int)DAT_06017692;
        int gear_off = 0x348;
        int lap_num = *(int *)(car_base + DAT_06017696) + 1;

        if (lap_num < 0xb || 0xd < lap_num) {
            /* Normal lap range: dispatch on gear digit */
            if (ones_digit == 1) {
                FUN_06017784(*(int *)(sprite_table + gear_off),
                             *(int *)((int)(sprite_table + gear_off) + 4) + gear_y,
                             layout[0x15], layout[0x16]);
            } else if (ones_digit == 2) {
                FUN_06017784(*(int *)(sprite_table + DAT_06017698),
                             *(int *)(sprite_table + gear_off + 4) + gear_y,
                             layout[0x15], layout[0x16]);
            } else if (ones_digit == 3) {
                FUN_06017784(*(int *)(sprite_table + DAT_0601769a),
                             *(int *)(sprite_table + gear_off + 4) + gear_y,
                             layout[0x15], layout[0x16]);
            } else {
                FUN_06017784(*(int *)(sprite_table + DAT_0601769c),
                             *(int *)(sprite_table + gear_off + 4) + gear_y,
                             layout[0x15], layout[0x16]);
            }
        } else {
            /* Special lap range (11-13): alternate gear sprite */
            FUN_06017784(*(int *)(sprite_table + DAT_06017728),
                         *(int *)(sprite_table + gear_off + 4) + gear_y,
                         layout[0x15], layout[0x16]);
        }

        /* Tens digit display (if non-zero) */
        if (tens_digit != 0) {
            FUN_06017784(*(int *)(sprite_table + ((tens_digit + 0x5f) << 3)),
                         *(int *)(sprite_table + DAT_0601772a) + (int)DAT_0601772c,
                         layout[0xf], layout[0x10]);
        }

        /* Ones digit display */
        ai_speed = FUN_06017784(*(int *)(sprite_table + ((ones_digit + 0x5f) << 3)),
                                *(int *)(sprite_table + DAT_0601772a) + (int)DAT_0601772c,
                                layout[0x12], layout[0x13]);
    } else {
        /* Demo mode: simplified display */
        ai_speed = FUN_06017784(*(int *)(sprite_table + DAT_060175b8),
                                *(int *)((int)(sprite_table + DAT_060175b8) + 4) + (int)DAT_060175ba,
                                layout[0xf], layout[0x10]);
    }
    return ai_speed;
}
#endif

/* FUN_060173AC -- original binary (898 bytes) */
__asm__(
    ".section .text.FUN_060173AC, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_060173AC\n"
    ".global _FUN_060173ac\n"
    ".type _FUN_060173AC, @function\n"
    "_FUN_060173AC:\n"
    "_FUN_060173ac:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0x2F, 0xB6, 0x2F, 0xA6, 0xEB, 0x08, 0x2F, 0x96, 0x2F, 0x86\n"  /* 0x060173AC */
    ".byte 0x4F, 0x22, 0x7F, 0x94, 0x98, 0x63, 0x6C, 0xF3, 0xDE, 0x33, 0x61, 0xF3, 0xD2, 0x33, 0xD3, 0x34\n"  /* 0x060173BC */
    ".byte 0x7C, 0x10, 0x71, 0x48, 0x43, 0x0B, 0xE0, 0x24, 0x61, 0xF3, 0xD2, 0x32, 0xD3, 0x30, 0x71, 0x10\n"  /* 0x060173CC */
    ".byte 0x43, 0x0B, 0xE0, 0x38, 0xDD, 0x30, 0xD0, 0x31, 0x60, 0x02, 0x20, 0x08, 0x89, 0x00, 0xDD, 0x30\n"  /* 0x060173DC */
    ".byte 0x85, 0xD1, 0x66, 0xD1, 0x9A, 0x4C, 0x67, 0x03, 0x66, 0x6D, 0x3A, 0xEC, 0x67, 0x7D, 0x55, 0xA1\n"  /* 0x060173EC */
    ".byte 0x35, 0x8C, 0xB1, 0xC1, 0x64, 0xA2, 0x67, 0xD3, 0x77, 0x06, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2\n"  /* 0x060173FC */
    ".byte 0x55, 0xA1, 0x67, 0x03, 0x66, 0x61, 0x35, 0x8C, 0x67, 0x7D, 0x90, 0x3A, 0x66, 0x6D, 0xB1, 0xB3\n"  /* 0x0601740C */
    ".byte 0x04, 0xEE, 0x67, 0xD3, 0x77, 0x12, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2, 0x55, 0xA1, 0x67, 0x03\n"  /* 0x0601741C */
    ".byte 0x66, 0x61, 0x35, 0x8C, 0x67, 0x7D, 0x90, 0x2D, 0x66, 0x6D, 0xB1, 0xA5, 0x04, 0xEE, 0xD2, 0x1D\n"  /* 0x0601742C */
    ".byte 0x2F, 0x22, 0x63, 0x23, 0x90, 0x27, 0x02, 0x3E, 0x1F, 0x21, 0xD4, 0x1B, 0xD5, 0x1B, 0x64, 0x42\n"  /* 0x0601743C */
    ".byte 0x34, 0x53, 0x8B, 0x00, 0x64, 0x53, 0xD0, 0x1A, 0x60, 0x02, 0xC8, 0x01, 0x8B, 0x04, 0xD4, 0x19\n"  /* 0x0601744C */
    ".byte 0x64, 0x42, 0x63, 0x43, 0x44, 0x08, 0x34, 0x3C, 0xD3, 0x17, 0x43, 0x0B, 0x00, 0x09, 0x66, 0x03\n"  /* 0x0601745C */
    ".byte 0xE4, 0x00, 0x62, 0x4C, 0x63, 0xF3, 0x65, 0x4C, 0x42, 0x00, 0x73, 0x48, 0x35, 0x6C, 0x32, 0x3C\n"  /* 0x0601746C */
    ".byte 0x60, 0x50, 0x60, 0x0C, 0x40, 0x00, 0x00, 0xCD, 0x81, 0x22, 0xA0, 0x1F, 0x00, 0x09, 0x30, 0x00\n"  /* 0x0601747C */
    ".byte 0x02, 0xD8, 0x02, 0xE8, 0x02, 0xE0, 0x02, 0x40, 0x06, 0x06, 0x37, 0x50, 0x06, 0x05, 0xBC, 0x6C\n"  /* 0x0601748C */
    ".byte 0x06, 0x03, 0x52, 0x28, 0x06, 0x05, 0xBC, 0x90, 0x06, 0x04, 0x4B, 0x84, 0x06, 0x07, 0xEA, 0xE0\n"  /* 0x0601749C */
    ".byte 0x06, 0x04, 0x4B, 0xB4, 0x06, 0x07, 0x89, 0x00, 0x06, 0x07, 0x86, 0xA4, 0x00, 0x09, 0x27, 0xBF\n"  /* 0x060174AC */
    ".byte 0x06, 0x07, 0xEB, 0xF4, 0x06, 0x07, 0xEB, 0xD0, 0x06, 0x00, 0x5D, 0xD4, 0x63, 0x4C, 0x62, 0xF3\n"  /* 0x060174BC */
    ".byte 0x61, 0x50, 0x73, 0x02, 0x74, 0x01, 0x72, 0x48, 0x61, 0x1C, 0x43, 0x00, 0x41, 0x00, 0x33, 0x2C\n"  /* 0x060174CC */
    ".byte 0x31, 0xCC, 0x85, 0x1E, 0x81, 0x38, 0x63, 0x4C, 0x33, 0xB3, 0x8B, 0xC2, 0x67, 0xD3, 0x64, 0xF3\n"  /* 0x060174DC */
    ".byte 0x77, 0x0C, 0x1F, 0x72, 0x85, 0x71, 0x56, 0xF2, 0x67, 0x03, 0x66, 0x61, 0x67, 0x7D, 0x90, 0x5B\n"  /* 0x060174EC */
    ".byte 0x66, 0x6D, 0x05, 0xEE, 0x35, 0x8C, 0xB1, 0x3F, 0x74, 0x48, 0xD3, 0x2D, 0x43, 0x0B, 0x54, 0xF1\n"  /* 0x060174FC */
    ".byte 0x66, 0x03, 0xE4, 0x00, 0x62, 0x4C, 0x63, 0xF3, 0x65, 0x4C, 0x42, 0x00, 0x73, 0x48, 0x35, 0x6C\n"  /* 0x0601750C */
    ".byte 0x32, 0x3C, 0x60, 0x50, 0x63, 0x4C, 0x60, 0x0C, 0x73, 0x02, 0x74, 0x01, 0x40, 0x00, 0x43, 0x00\n"  /* 0x0601751C */
    ".byte 0x00, 0xCD, 0x81, 0x22, 0x62, 0xF3, 0x61, 0x50, 0x72, 0x48, 0x61, 0x1C, 0x33, 0x2C, 0x41, 0x00\n"  /* 0x0601752C */
    ".byte 0x31, 0xCC, 0x85, 0x1E, 0x81, 0x38, 0x63, 0x4C, 0x33, 0xB3, 0x8B, 0xE3, 0x67, 0xD3, 0x64, 0xF3\n"  /* 0x0601753C */
    ".byte 0x77, 0x18, 0x1F, 0x71, 0x85, 0x71, 0x56, 0xF1, 0x67, 0x03, 0x66, 0x61, 0x67, 0x7D, 0x90, 0x2B\n"  /* 0x0601754C */
    ".byte 0x66, 0x6D, 0x05, 0xEE, 0x35, 0x8C, 0xB1, 0x0F, 0x74, 0x48, 0xE5, 0x0A, 0x64, 0xF2, 0x90, 0x24\n"  /* 0x0601755C */
    ".byte 0xD3, 0x14, 0x04, 0x4E, 0x74, 0x01, 0x61, 0x43, 0x43, 0x0B, 0x60, 0x53, 0x61, 0x43, 0x1F, 0x01\n"  /* 0x0601756C */
    ".byte 0xD3, 0x11, 0x43, 0x0B, 0x60, 0x53, 0x1F, 0x02, 0xD1, 0x10, 0x61, 0x12, 0x21, 0x18, 0x89, 0x1F\n"  /* 0x0601757C */
    ".byte 0x67, 0xD3, 0x77, 0x1E, 0x1F, 0x71, 0x85, 0x71, 0x56, 0xF1, 0x95, 0x0F, 0x67, 0x03, 0x66, 0x61\n"  /* 0x0601758C */
    ".byte 0x35, 0xEC, 0x67, 0x7D, 0x66, 0x6D, 0x2F, 0x52, 0x55, 0x51, 0x93, 0x08, 0x64, 0xF2, 0x35, 0x3C\n"  /* 0x0601759C */
    ".byte 0xB0, 0xEA, 0x64, 0x42, 0xA0, 0xB0, 0x00, 0x09, 0x02, 0xBC, 0x02, 0x24, 0x02, 0xF0, 0x50, 0x00\n"  /* 0x060175AC */
    ".byte 0x06, 0x00, 0x5D, 0xD4, 0x06, 0x03, 0x4F, 0xE0, 0x06, 0x03, 0x5C, 0x2C, 0x06, 0x07, 0xEA, 0xE0\n"  /* 0x060175BC */
    ".byte 0x99, 0x61, 0xE3, 0x0B, 0x9A, 0x60, 0x64, 0xF2, 0x90, 0x5F, 0x04, 0x4E, 0x74, 0x01, 0x34, 0x33\n"  /* 0x060175CC */
    ".byte 0x00, 0x29, 0xCA, 0x01, 0xE3, 0x0D, 0x34, 0x37, 0x01, 0x29, 0x20, 0x1B, 0x20, 0x08, 0x89, 0x58\n"  /* 0x060175DC */
    ".byte 0xA0, 0x49, 0x50, 0xF2, 0x67, 0xD3, 0x65, 0xE3, 0x77, 0x2A, 0x35, 0xAC, 0x1F, 0x73, 0x85, 0x71\n"  /* 0x060175EC */
    ".byte 0x56, 0xF3, 0x67, 0x03, 0x66, 0x61, 0x67, 0x7D, 0x66, 0x6D, 0x2F, 0x52, 0x55, 0x51, 0x64, 0xF2\n"  /* 0x060175FC */
    ".byte 0x35, 0x9C, 0xB0, 0xB9, 0x64, 0x42, 0xA0, 0x54, 0x00, 0x09, 0x67, 0xD3, 0x65, 0xE3, 0x77, 0x2A\n"  /* 0x0601760C */
    ".byte 0x35, 0xAC, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2, 0x55, 0x51, 0x67, 0x03, 0x66, 0x61, 0x35, 0x9C\n"  /* 0x0601761C */
    ".byte 0x67, 0x7D, 0x90, 0x33, 0x66, 0x6D, 0xB0, 0xA7, 0x04, 0xEE, 0xA0, 0x42, 0x00, 0x09, 0x67, 0xD3\n"  /* 0x0601762C */
    ".byte 0x65, 0xE3, 0x77, 0x2A, 0x35, 0xAC, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2, 0x55, 0x51, 0x67, 0x03\n"  /* 0x0601763C */
    ".byte 0x66, 0x61, 0x35, 0x9C, 0x67, 0x7D, 0x90, 0x22, 0x66, 0x6D, 0xB0, 0x95, 0x04, 0xEE, 0xA0, 0x30\n"  /* 0x0601764C */
    ".byte 0x00, 0x09, 0x67, 0xD3, 0x65, 0xE3, 0x77, 0x2A, 0x35, 0xAC, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2\n"  /* 0x0601765C */
    ".byte 0x55, 0x51, 0x67, 0x03, 0x66, 0x61, 0x35, 0x9C, 0x67, 0x7D, 0x90, 0x11, 0x66, 0x6D, 0xB0, 0x83\n"  /* 0x0601766C */
    ".byte 0x04, 0xEE, 0xA0, 0x1E, 0x00, 0x09, 0x88, 0x01, 0x89, 0xB4, 0x88, 0x02, 0x89, 0xC5, 0x88, 0x03\n"  /* 0x0601767C */
    ".byte 0x89, 0xD5, 0xAF, 0xE6, 0x00, 0x09, 0x60, 0x00, 0x03, 0x48, 0x02, 0x24, 0x03, 0x50, 0x03, 0x58\n"  /* 0x0601768C */
    ".byte 0x03, 0x60, 0x67, 0xD3, 0x65, 0xE3, 0x77, 0x2A, 0x35, 0xAC, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2\n"  /* 0x0601769C */
    ".byte 0x55, 0x51, 0x67, 0x03, 0x66, 0x61, 0x35, 0x9C, 0x67, 0x7D, 0x90, 0x37, 0x66, 0x6D, 0xB0, 0x63\n"  /* 0x060176AC */
    ".byte 0x04, 0xEE, 0x50, 0xF1, 0x20, 0x08, 0x89, 0x13, 0x67, 0xD3, 0x77, 0x1E, 0x2F, 0x72, 0x85, 0x71\n"  /* 0x060176BC */
    ".byte 0x66, 0xF2, 0x93, 0x2D, 0x54, 0xF1, 0x67, 0x03, 0x66, 0x61, 0x74, 0x5F, 0x67, 0x7D, 0x90, 0x26\n"  /* 0x060176CC */
    ".byte 0x66, 0x6D, 0x44, 0x08, 0x05, 0xEE, 0x44, 0x00, 0x35, 0x3C, 0x34, 0xEC, 0xB0, 0x4C, 0x64, 0x42\n"  /* 0x060176DC */
    ".byte 0x67, 0xD3, 0x77, 0x24, 0x2F, 0x72, 0x85, 0x71, 0x66, 0xF2, 0x93, 0x19, 0x54, 0xF2, 0x67, 0x03\n"  /* 0x060176EC */
    ".byte 0x66, 0x61, 0x74, 0x5F, 0x67, 0x7D, 0x90, 0x12, 0x66, 0x6D, 0x44, 0x08, 0x05, 0xEE, 0x44, 0x00\n"  /* 0x060176FC */
    ".byte 0x35, 0x3C, 0x34, 0xEC, 0xB0, 0x38, 0x64, 0x42, 0x7F, 0x6C, 0x4F, 0x26, 0x68, 0xF6, 0x69, 0xF6\n"  /* 0x0601770C */
    ".byte 0x6A, 0xF6, 0x6B, 0xF6, 0x6C, 0xF6, 0x6D, 0xF6, 0x00, 0x0B, 0x6E, 0xF6, 0x03, 0x60, 0x02, 0xFC\n"  /* 0x0601771C */
    ".byte 0x50, 0x00\n"  /* 0x0601772C */
);


/* tilemap_row_fill -- Fill remaining tilemap rows with VDP2 tile data.
 * Starting from param_1, writes (0x2C - param_1) rows to VDP2 via
 * tilemap writer at 0x06028400. Each row is 0x36 bytes in the source
 * table at 0x06085640. Tile offset starts at (param_1 + 0x40) * 2. */
#if 0 /* FUN_0601772E -- replaced by ASM import */
void FUN_0601772e(param_1)
    int param_1;
{
    char *tile_src  = (char *)0x06085640;       /* tilemap source data */
    char *tile_write = (char *)0x06028400;      /* vdp2_tilemap_write */
    unsigned int remaining = 0x2cU - param_1 & 0xff;
    unsigned char idx = 0;

    if (remaining != 0) {
        do {
            (*(int(*)())tile_write)(0xc, tile_src + (short)((unsigned short)idx * 0x36),
                                    (param_1 + 0x40) << 1, 0);
            idx = idx + 1;
            param_1 = param_1 + 1;
        } while (idx < remaining);
    }
}
#endif

/* tilemap_block_fill -- Fill a rectangular region in the VDP2 tilemap.
 * Reads width/height from param_1[0]/param_1[1], tile data from param_1[2+].
 * Writes to tilemap buffer at 0x06085640, each row stride 0x36 tiles.
 * param_2 = tile ID offset, param_3 = start column, param_4 = start row.
 * Nested loop copies width*height tiles with row/column indexing. */
#if 0 /* FUN_06017784 -- replaced by ASM import */
int FUN_06017784(param_1, param_2, param_3, param_4)
    unsigned short *param_1;
    short param_2;
    unsigned short param_3;
    int param_4;
{
    char *tilemap = (char *)0x06085640;
    unsigned short width = *param_1;
    unsigned short height = param_1[1];
    unsigned int row = param_4 + 2;
    unsigned short y;

    for (y = 0; y < height; y = y + 1) {
        unsigned short x = 0;
        if (width != 0) {
            do {
                unsigned int col = (unsigned int)x;
                x = x + 1;
                *(unsigned short *)(tilemap + (((row & 0xff) << 1) +
                    (int)(short)((param_3 & 0xff) * 0x36))) =
                    param_1[(unsigned int)y * (unsigned int)width + col + 2] + param_2;
                param_3 = param_3 + 1;
            } while (x < width);
        }
        param_3 = param_3 - width;                 /* reset column for next row */
        row = row + 1;
    }

    return 0;
}
#endif

/* FUN_06017784 -- original binary (144 bytes) */
__asm__(
    ".section .text.FUN_06017784, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06017784\n"
    ".type _FUN_06017784, @function\n"
    "_FUN_06017784:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0x2F, 0xB6, 0x2F, 0xA6, 0x2F, 0x86, 0x4F, 0x12, 0x7F, 0xFC\n"  /* 0x06017784 */
    ".byte 0xD8, 0x05, 0xEB, 0x00, 0x6D, 0x41, 0x85, 0x41, 0x63, 0x03, 0x2F, 0x31, 0x77, 0x02, 0xA0, 0x29\n"  /* 0x06017794 */
    ".byte 0x6C, 0xBD, 0xFF, 0xFF, 0x06, 0x02, 0x84, 0x00, 0x06, 0x08, 0x56, 0x40, 0x6A, 0x7C, 0x2C, 0xDE\n"  /* 0x060177A4 */
    ".byte 0x63, 0xDD, 0x4A, 0x00, 0x01, 0x1A, 0x41, 0x00, 0x43, 0x15, 0x8F, 0x17, 0x6E, 0xBD, 0x60, 0x6C\n"  /* 0x060177B4 */
    ".byte 0xE3, 0x36, 0x62, 0xED, 0x20, 0x3F, 0x42, 0x00, 0x7E, 0x01, 0x00, 0x1A, 0xE3, 0x04, 0x32, 0x1C\n"  /* 0x060177C4 */
    ".byte 0x60, 0x0F, 0x32, 0x4C, 0x30, 0x8C, 0x33, 0x2C, 0x63, 0x31, 0x62, 0x5D, 0x63, 0x3D, 0x33, 0x2C\n"  /* 0x060177D4 */
    ".byte 0x0A, 0x35, 0x62, 0xDD, 0x63, 0xED, 0x33, 0x23, 0x8F, 0xE9, 0x76, 0x01, 0x62, 0xDD, 0x36, 0x28\n"  /* 0x060177E4 */
    ".byte 0x77, 0x01, 0x7C, 0x01, 0x63, 0xCD, 0x62, 0xF1, 0x62, 0x2D, 0x33, 0x23, 0x8B, 0xD6, 0x7F, 0x04\n"  /* 0x060177F4 */
    ".byte 0x4F, 0x16, 0x68, 0xF6, 0x6A, 0xF6, 0x6B, 0xF6, 0x6C, 0xF6, 0x6D, 0xF6, 0x00, 0x0B, 0x6E, 0xF6\n"  /* 0x06017804 */
);


#if 0 /* track_geometry_processor -- redirected to ASM import via linker PROVIDE */
void track_geometry_processor()
/* REMOVED: conflicting alias */ // void FUN_06017814(void) __attribute__((alias("track_geometry_processor")));
{

  short sVar1;

  char *puVar2;

  char *puVar3;

  char *puVar4;

  char *puVar5;

  char *puVar6;

  char *puVar7;

  int in_r7 = 0;

  char *puVar8;

  char *puVar9;

  puVar7 = (int *)0x0605BE20;

  puVar6 = (char *)0x0605BE22;

  puVar5 = (char *)0x0605BE26;

  puVar4 = (char *)0x0605BE1A;

  puVar3 = (char *)0x0605BE24;

  puVar2 = (char *)0x0605BE18;

  (*(int(*)())0x06026DBC)();

  *(int *)0x06085FAC = *(int *)0x06085FAC - 0x333;

  (*(int(*)())0x06026E2E)(*(int *)0x06048128,*(int *)0x0604812C,

             -*(int *)0x06048130);

  (*(int(*)())0x06026EDE)(*(int *)0x06085FAC);

  puVar8 = (char *)0x00200000;

  (*(int(*)())0x06031D8C)(0x00200000 + (int)0x00037D88,8);

  (*(int(*)())0x06031A28)(puVar8 + (int)0x00037DE8,(int)*(short *)0x06089E98,6,in_r7,

             puVar8 + (int)0x00037DE8);

  (*(int(*)())0x06026DF8)();

  (*(int(*)())0x06026DBC)();

  if (*(short *)puVar2 == 10) {

    *(short *)puVar2 = 0;

    *(int *)0x06085FBC = *(int *)0x06085FBC - (int)DAT_060178ac;

  }

  else {

    *(int *)0x06085FBC = *(int *)0x06085FBC + 0x333;

  }

  (*(int(*)())0x06026E2E)(*(int *)0x06048134,*(int *)0x06048138,

             -*(int *)0x0604813C);

  (*(int(*)())0x06026F2A)(*(int *)0x06085FBC);

  puVar9 = (char *)0x00200000;

  (*(int(*)())0x06031D8C)(0x00200000 + (int)0x00037E78,4);

  (*(int(*)())0x06031A28)(puVar9 + (int)0x00037EA8,(int)*(short *)0x06089E98,1);

  (*(int(*)())0x06026DF8)();

  puVar8 = (char *)0x06026DBC;

  *(short *)puVar2 = *(short *)puVar2 + 1;

  (*(int(*)())puVar8)();

  (*(int(*)())0x06031D8C)(puVar9 + (int)0x00037EC0,4);

  (*(int(*)())0x06031A28)(puVar9 + (int)0x00037EF0,

             (int)*(short *)(0x06089E44 + (((int)(*(unsigned short *)puVar2 & 4) >> 2) + 0x2a) << 1),1)

  ;

  (*(int(*)())0x06026DF8)();

  if (*(unsigned int *)(CAR_PTR_CURRENT + (int)PTR_DAT_060179b8) <

      *(int *)0x06063F28 - 1U) {

    if (*(int *)0x06078636 == '\0') {

      *(short *)puVar4 = 1;

    }

    else {

      *(short *)puVar4 = 0;

    }

  }

  else {

    *(short *)puVar4 = 2;

  }

  (*(int(*)())0x06026DBC)();

  (*(int(*)())0x06031D8C)(*(int *)(0x06062290 + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)),

             *(int *)(0x060622B4 + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)));

  (*(int(*)())0x06031A28)(*(int *)(0x0606229C + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)),

             (int)*(short *)0x06089E98,

             *(int *)(0x060622A8 + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)));

  (*(int(*)())0x06026DF8)();

  puVar2 = (char *)0x0605BE2A;

  if ((*(int *)0x0607EAD0 == 0) && ((GAME_STATE_BIT & (unsigned int)0x000A0000) != 0)

     ) {

    if ((*(unsigned short *)0x06063D98 & 0x40) == 0) {

      *(short *)0x0605BE2A = 0;

    }

    else if (*(short *)0x0605BE2A == 0) {

      *(short *)0x0605BE2A = 1;

      *(short *)puVar5 = *(short *)puVar5 + 1;

      *(unsigned short *)puVar5 = *(unsigned short *)puVar5 & 3;

    }

  }

  else {

    *(short *)0x0605BE28 = 0;

    *(short *)puVar5 = 0;

    *(short *)puVar2 = 0;

  }

  sVar1 = *(short *)puVar5;

  if (sVar1 == 0) {

    *(short *)puVar3 = *(short *)puVar3 + -1;

    *(short *)puVar6 = *(short *)puVar6 + -2;

  }

  else {

    if (sVar1 == 1) {

      FUN_06017c9c(0x0605BE24);

      *(short *)puVar6 = *(short *)puVar6 + -2;

      *(short *)puVar7 = *(short *)puVar7 + -3;

      goto LAB_06017b4e;

    }

    if (sVar1 != 2) {

      if ((sVar1 == 3) && (FUN_06017c9c(0x0605BE20), *(short *)0x0605BE28 == 0)) {

        FUN_06017bf4();

      }

      goto LAB_06017b4e;

    }

    FUN_06017c9c(0x0605BE22);

    if (*(int *)0x06085FCC == '\0') {

      FUN_06017c78();

    }

  }

  *(short *)puVar7 = *(short *)puVar7 + -3;

LAB_06017b4e:

  if (*(short *)puVar3 < 1) {

    *(short *)puVar3 = (char *)0x30;

  }

  if (*(short *)puVar7 < 1) {

    *(short *)puVar7 = (int *)0x30;

  }

  if (*(short *)puVar6 < 1) {

    *(short *)puVar6 = (char *)0x30;

  }

  puVar5 = (char *)0x06063F64;

  puVar4 = (char *)0x060684EC;

  puVar2 = (char *)0x0606A4F0;

  *(int *)(0x06063F64 + (unsigned int)*(unsigned short *)(0x060684EC + DAT_06017bd4) << 3) =

       *(short *)puVar3 * 3 + *(int *)0x0606A4F0;

  *(int *)(puVar5 + ((unsigned int)*(unsigned short *)(puVar4 + DAT_06017bd6) << 3)) =

       *(short *)puVar6 * 3 + *(int *)puVar2;

  *(int *)(puVar5 + ((unsigned int)*(unsigned short *)(puVar4 + DAT_06017bd8) << 3)) =

       *(short *)puVar7 * 3 + *(int *)puVar2;

  return;

}
#endif /* track_geometry_processor */

/* race_bonus_check -- Check if all 3 lap positions match for bonus award.
 * Only active in 2-player VS mode (0x0607EBC4 == 0x20000). If all 3
 * position trackers at 0x0605BE20/22/24 agree: awards bonus points to
 * score at 0x0607EAAC. Position 0x2A awards DAT_06017c52 bonus,
 * position 0x12 awards 100 points. Sets completion flag and plays sound. */
void FUN_06017bf4()
{
    if (*(char **)0x0607EBC4 != 0x00020000) {
        return;
    }
    if ((*(short *)0x0605BE24 == *(short *)0x0605BE22) &&
        (*(short *)0x0605BE24 == *(short *)0x0605BE20)) {
        if (*(short *)0x0605BE24 == 0x2a) {
            *(int *)0x0607EAAC = *(int *)0x0607EAAC + (int)DAT_06017c52;
            *(short *)0x0605BE28 = 1;
            (*(int(*)())0x0601D5F4)(0, 0xAE1117FF);
            return;
        }
        if (*(short *)0x0605BE24 == 0x12) {
            *(int *)0x0607EAAC = *(int *)0x0607EAAC + 100;
            *(short *)0x0605BE28 = 1;
            (*(int(*)())0x0601D5F4)(0, 0xAE1117FF);
            return;
        }
    }
}

/* check_race_complete_sound -- If both race positions match and equal 42 (0x2A),
 * set completion flag and play race-complete sound effect. */
extern void sound_cmd_dispatch(int channel, int command);

/* time_limit_warning -- Trigger time limit warning sound.
 * When both timer values at 0x0605BE24 and 0x0605BE22 equal 0x2A (42),
 * sets warning flag at 0x06085FCC and plays sound 0xAE1118FF. */
void FUN_06017c78(void)
{
    if (*(short *)0x0605BE24 == *(short *)0x0605BE22 &&
        *(short *)0x0605BE24 == 0x2A) {
        *(char *)0x06085FCC = 1;                   /* warning active flag */
        sound_cmd_dispatch(0, 0xAE1118FF);         /* time warning sound */
    }
}

/* division_adjust -- Adjust a value by hardware division result.
 * Calls division unit read (0x06035C2C), subtracts low 16 bits from *param_1.
 * If result >= 4, adds wrap correction of +6 (for base-10 digit carry). */
unsigned int FUN_06017c9c(short *param_1)
{
    unsigned int div_result = (*(int(*)())0x06035C2C)();

    if ((div_result & 0xffff) < 4) {
        *param_1 = *param_1 - (short)div_result;
    } else {
        *param_1 = (*param_1 - (short)div_result) + 6;
    }
    return div_result;
}

/* track_scenery_sprite_animate -- animate roadside scenery sprites and render track-side 3D objects */
#if 0 /* FUN_06017CEC -- replaced by ASM import */
void FUN_06017cec()
{
  unsigned short sprite_id;
  char *model_base;
  char *sprite_table;
  char *scenery_state;
  char *vdp1_base;
  char *tree_reset_pos;
  short priority_val;
  int base_pos;
  int tree_table_offset;
  int car_checkpoint;
  int scenery_table_offset;
  int *rotation_entry;
  unsigned int obj_index;
  unsigned int obj_next;

  vdp1_base = (char *)0x06063F64;       /* VDP1 sprite command table */
  sprite_table = (char *)0x060684EC;     /* scenery sprite index table */
  scenery_state = (char *)0x0605BE10;    /* scenery animation state (X/Z rotation) */
  model_base = (char *)0x00088734;       /* model data base offset */
  car_checkpoint = CAR_PTR_TARGET;
  base_pos = *(int *)0x06089E28;         /* road marker base position */

  /* Increment animation frame counters */
  *(short *)0x0605BE2C = *(short *)0x0605BE2C + 1; /* marker_frame */
  *(short *)0x0605BE2E = *(short *)0x0605BE2E + 1; /* tree_frame */

  /* Set road marker priority based on car position vs track segment count */
  if (*(unsigned int *)(car_checkpoint + DAT_06017d92) < *(int *)0x06063F28 - 1U) {
    sprite_id = *(unsigned short *)(sprite_table + DAT_06017d94);
    priority_val = DAT_06017d98; /* normal priority */
  }
  else {
    base_pos = *(int *)0x06089E2C; /* alternate base for last segment */
    sprite_id = *(unsigned short *)(sprite_table + DAT_06017d94);
    priority_val = DAT_06017d96;  /* end-of-track priority */
  }
  *(short *)(vdp1_base + (unsigned int)(sprite_id << 3) + 6) = priority_val;

  /* Road marker animation: advance by 0x90 per frame, reset every 6 frames */
  scenery_table_offset = (int)DAT_06017d9a;
  if (*(short *)0x0605BE2C < 6) {
    car_checkpoint = 0x90;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + DAT_06017d94) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + DAT_06017d94) << 3)) + car_checkpoint;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset) << 3)) + car_checkpoint;
  }
  else {
    /* Reset marker positions from base values */
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + DAT_06017ea6) << 3)) = base_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset) << 3)) =
         *(int *)0x06089E30;
    *(short *)0x0605BE2C = 0;
  }

  /* Tree/scenery sprite animation: reset positions every 4 frames, scroll by 0x40 otherwise */
  tree_reset_pos = (char *)0x06089E34;
  scenery_table_offset = (int)DAT_06017ea8;
  if ((*(unsigned short *)0x0605BE2E & 3) == 0) {
    /* Every 4 frames: snap tree sprites to base positions */
    car_checkpoint = (int)DAT_06017eaa;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint) << 3)) =
         *(int *)0x06089E34;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x18) << 3)) = *(int *)tree_reset_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x2a) << 3)) = *(int *)tree_reset_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x3a) << 3)) = *(int *)tree_reset_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x4a) << 3)) = *(int *)tree_reset_pos;
    tree_reset_pos = (char *)0x06089E38;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset + -8) << 3)) =
         *(int *)0x06089E38;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset) << 3)) = *(int *)tree_reset_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x20) << 3)) = *(int *)tree_reset_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x32) << 3)) = *(int *)tree_reset_pos;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x42) << 3)) = *(int *)tree_reset_pos;
  }
  else {
    /* Intermediate frames: scroll all scenery sprites by 0x40 */
    car_checkpoint = (int)DAT_06017fdc;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset + -8) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset + -8) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + scenery_table_offset) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x18) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x18) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x20) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x20) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x2a) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x2a) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x32) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x32) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x3a) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x3a) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x42) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x42) << 3)) + 0x40;
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x4a) << 3)) =
         *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + car_checkpoint + 0x4a) << 3)) + 0x40;
  }

  /* Checkpoint blinking indicator: toggles every 16 frames */
  if ((*(unsigned short *)0x0605BE2E & 0x10) == 0) {
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + DAT_06017fde) << 3)) =
         *(int *)0x06089E40;
  }
  else {
    *(int *)(vdp1_base + ((unsigned int)*(unsigned short *)(sprite_table + DAT_06017fde) << 3)) =
         *(int *)0x06089E40 + 0x100; /* blink offset */
  }

  /* Track zone flags based on car checkpoint position */
  car_checkpoint = *(int *)(CAR_PTR_TARGET + DAT_06017fe2);
  if ((car_checkpoint < DAT_06017fe4) || (DAT_06017fe6 < car_checkpoint)) {
    *(short *)0x0605BE36 = 0; /* not in zone A */
  }
  else {
    *(short *)0x0605BE36 = 1; /* in zone A */
  }
  if ((car_checkpoint < 0x4b) || (0x57 < car_checkpoint)) {
    *(short *)0x0605BE38 = 0; /* not in zone B */
  }
  else {
    *(short *)0x0605BE38 = 4; /* in zone B */
  }

  /* Render 3D roadside objects (trees/signs) if in special track zone */
  if ((DAT_060180fc <= car_checkpoint) && (car_checkpoint <= DAT_060180fe)) {
    /* Advance rotation angles */
    *(int *)scenery_state = *(int *)scenery_state + 0x333;        /* X rotation step */
    *(int *)(scenery_state + 4) = *(int *)(scenery_state + 4) + (int)DAT_06018102; /* Z rotation step */

    sprite_table = (char *)0x06089E98; /* tree sprite ID table */
    obj_index = 0;
    do {
      /* Render object A (even index) */
      (*(int(*)())0x06026DBC)();  /* matrix_identity */
      rotation_entry = (int *)(0x06048078 + ((obj_index & 0xff) * 0xc & 0xff));
      (*(int(*)())0x06026E2E)(*rotation_entry,rotation_entry[1],-rotation_entry[2]); /* matrix_set_rotation */
      (*(int(*)())0x06026EDE)(0x0000C000); /* matrix_set_scale */
      (*(int(*)())0x06026F2A)(*(int *)scenery_state + (obj_index & 3) * (int)DAT_06018104); /* matrix_set_position */
      vdp1_base = (char *)0x00200000;
      (*(int(*)())0x06031D8C)(0x00200000 + (int)model_base,0xc); /* render_model */
      (*(int(*)())0x06031A28)(vdp1_base + (int)0x000887C4,(int)*(short *)sprite_table,3); /* render_texture */
      (*(int(*)())0x06026DF8)(); /* matrix_flush */

      /* Render object B (odd index) */
      obj_next = obj_index + 1;
      (*(int(*)())0x06026DBC)();
      rotation_entry = (int *)(0x06048078 + ((obj_next & 0xff) * 0xc & 0xff));
      (*(int(*)())0x06026E2E)(*rotation_entry,rotation_entry[1],-rotation_entry[2]);
      (*(int(*)())0x06026EDE)(0x0000C000);
      (*(int(*)())0x06026F2A)(*(int *)(scenery_state + ((obj_next & 1) << 2)) + (obj_next & 3) * (int)DAT_06018104);
      (*(int(*)())0x06031D8C)(vdp1_base + (int)model_base,0xc);
      (*(int(*)())0x06031A28)(vdp1_base + (int)0x000887C4,(int)*(short *)sprite_table,3);
      (*(int(*)())0x06026DF8)();

      obj_index = obj_index + 2;
    } while ((int)obj_index < 0xe); /* 7 pairs = 14 objects */
  }

  (*(int(*)())0x06021178)(); /* track_zone_sprite_swap */
  track_calculation();

  return;
}
#endif

/* FUN_06017CEC -- original binary (1146 bytes) */
__asm__(
    ".section .text.FUN_06017CEC, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06017CEC\n"
    ".global _FUN_06017cec\n"
    ".type _FUN_06017CEC, @function\n"
    "_FUN_06017CEC:\n"
    "_FUN_06017cec:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0x2F, 0xB6, 0x2F, 0xA6, 0x2F, 0x96, 0x2F, 0x86, 0x4F, 0x22\n"  /* 0x06017CEC */
    ".byte 0x4F, 0x12, 0x7F, 0xF4, 0xD8, 0x27, 0xD9, 0x28, 0xEA, 0x01, 0xDD, 0x28, 0xDE, 0x28, 0xD5, 0x29\n"  /* 0x06017CFC */
    ".byte 0x65, 0x52, 0xD4, 0x29, 0x64, 0x42, 0xD3, 0x29, 0x63, 0x31, 0x73, 0x01, 0xD2, 0x27, 0x22, 0x31\n"  /* 0x06017D0C */
    ".byte 0xD1, 0x27, 0x61, 0x11, 0x71, 0x01, 0xD2, 0x26, 0x22, 0x11, 0xD3, 0x26, 0x63, 0x32, 0x73, 0xFF\n"  /* 0x06017D1C */
    ".byte 0x90, 0x31, 0x02, 0x5E, 0x32, 0x32, 0x8F, 0x0A, 0xEC, 0x03, 0xD4, 0x23, 0x90, 0x2C, 0x64, 0x42\n"  /* 0x06017D2C */
    ".byte 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x90, 0x27, 0xA0, 0x08, 0x32, 0xEC, 0x90, 0x23\n"  /* 0x06017D3C */
    ".byte 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x93, 0x1F, 0x60, 0x33, 0x81, 0x23\n"  /* 0x06017D4C */
    ".byte 0x96, 0x1D, 0xE2, 0x05, 0xD3, 0x15, 0x63, 0x31, 0x33, 0x27, 0x89, 0x2F, 0x36, 0xDC, 0x94, 0x17\n"  /* 0x06017D5C */
    ".byte 0x90, 0x12, 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x33, 0x4C\n"  /* 0x06017D6C */
    ".byte 0x22, 0x32, 0x62, 0x61, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x33, 0x4C\n"  /* 0x06017D7C */
    ".byte 0x22, 0x32, 0xA0, 0x2E, 0x00, 0x09, 0x02, 0x1C, 0x16, 0x92, 0x03, 0xBC, 0x03, 0xA8, 0x16, 0xAA\n"  /* 0x06017D8C */
    ".byte 0x00, 0x90, 0xFF, 0xFF, 0x00, 0x08, 0x87, 0x34, 0x06, 0x05, 0xBE, 0x10, 0x06, 0x06, 0x84, 0xEC\n"  /* 0x06017D9C */
    ".byte 0x06, 0x06, 0x3F, 0x64, 0x06, 0x07, 0xE9, 0x44, 0x06, 0x08, 0x9E, 0x28, 0x06, 0x05, 0xBE, 0x2C\n"  /* 0x06017DAC */
    ".byte 0x06, 0x05, 0xBE, 0x2E, 0x06, 0x06, 0x3F, 0x28, 0x06, 0x08, 0x9E, 0x2C, 0x90, 0x6D, 0x36, 0xDC\n"  /* 0x06017DBC */
    ".byte 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x22, 0x42, 0x63, 0x61, 0x63, 0x3D\n"  /* 0x06017DCC */
    ".byte 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC, 0xD2, 0x32, 0x62, 0x22, 0x23, 0x22, 0xE3, 0x00, 0xD2, 0x31\n"  /* 0x06017DDC */
    ".byte 0x22, 0x31, 0x97, 0x5B, 0xD3, 0x30, 0x66, 0x73, 0x63, 0x31, 0x23, 0xC9, 0x23, 0x38, 0x8F, 0x61\n"  /* 0x06017DEC */
    ".byte 0x76, 0xF8, 0xD4, 0x2E, 0x90, 0x53, 0x62, 0x42, 0x03, 0xDD, 0x70, 0x18, 0x63, 0x3D, 0x43, 0x08\n"  /* 0x06017DFC */
    ".byte 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0x03, 0xDD, 0x62, 0x42, 0x63, 0x3D, 0x70, 0x12, 0x43, 0x08\n"  /* 0x06017E0C */
    ".byte 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0x03, 0xDD, 0x62, 0x42, 0x63, 0x3D, 0x70, 0x10, 0x43, 0x08\n"  /* 0x06017E1C */
    ".byte 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0x03, 0xDD, 0x63, 0x3D, 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC\n"  /* 0x06017E2C */
    ".byte 0x62, 0x42, 0x70, 0x10, 0x36, 0xDC, 0x37, 0xDC, 0x23, 0x22, 0x03, 0xDD, 0x62, 0x42, 0x63, 0x3D\n"  /* 0x06017E3C */
    ".byte 0x70, 0xD6, 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0xD4, 0x19, 0x63, 0x61, 0x62, 0x42\n"  /* 0x06017E4C */
    ".byte 0x63, 0x3D, 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0x63, 0x71, 0x62, 0x42, 0x63, 0x3D\n"  /* 0x06017E5C */
    ".byte 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0x03, 0xDD, 0x63, 0x3D, 0x43, 0x08, 0x43, 0x00\n"  /* 0x06017E6C */
    ".byte 0x33, 0xEC, 0x62, 0x42, 0x70, 0x12, 0x23, 0x22, 0x03, 0xDD, 0x62, 0x42, 0x63, 0x3D, 0x70, 0x10\n"  /* 0x06017E7C */
    ".byte 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC, 0x23, 0x22, 0x03, 0xDD, 0x63, 0x3D, 0x43, 0x08, 0x43, 0x00\n"  /* 0x06017E8C */
    ".byte 0x33, 0xEC, 0x62, 0x42, 0x23, 0x22, 0xA0, 0x67, 0x00, 0x09, 0x16, 0x92, 0x17, 0x18, 0x17, 0x08\n"  /* 0x06017E9C */
    ".byte 0x06, 0x08, 0x9E, 0x30, 0x06, 0x05, 0xBE, 0x2C, 0x06, 0x05, 0xBE, 0x2E, 0x06, 0x08, 0x9E, 0x34\n"  /* 0x06017EAC */
    ".byte 0x06, 0x08, 0x9E, 0x38, 0x90, 0x8C, 0x36, 0xDC, 0x37, 0xDC, 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08\n"  /* 0x06017EBC */
    ".byte 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x62, 0x61, 0x62, 0x2D, 0x42, 0x08\n"  /* 0x06017ECC */
    ".byte 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x62, 0x71, 0x62, 0x2D, 0x42, 0x08\n"  /* 0x06017EDC */
    ".byte 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x70, 0x18, 0x02, 0xDD, 0x62, 0x2D\n"  /* 0x06017EEC */
    ".byte 0x42, 0x08, 0x42, 0x00, 0x70, 0x08, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x02, 0xDD\n"  /* 0x06017EFC */
    ".byte 0x70, 0x0A, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32\n"  /* 0x06017F0C */
    ".byte 0x02, 0xDD, 0x70, 0x08, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40\n"  /* 0x06017F1C */
    ".byte 0x22, 0x32, 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40\n"  /* 0x06017F2C */
    ".byte 0x22, 0x32, 0x70, 0x08, 0x02, 0xDD, 0x70, 0x08, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC\n"  /* 0x06017F3C */
    ".byte 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x02, 0xDD, 0x70, 0x08, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00\n"  /* 0x06017F4C */
    ".byte 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x02, 0xDD, 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00\n"  /* 0x06017F5C */
    ".byte 0x32, 0xEC, 0x63, 0x22, 0x73, 0x40, 0x22, 0x32, 0x96, 0x33, 0xD4, 0x1C, 0xD0, 0x1C, 0x60, 0x01\n"  /* 0x06017F6C */
    ".byte 0xC8, 0x10, 0x89, 0x0B, 0x36, 0xDC, 0x63, 0x61, 0x63, 0x3D, 0x43, 0x08, 0x43, 0x00, 0x33, 0xEC\n"  /* 0x06017F7C */
    ".byte 0x62, 0x42, 0x91, 0x27, 0x32, 0x1C, 0x23, 0x22, 0xA0, 0x08, 0x00, 0x09, 0x36, 0xDC, 0x62, 0x61\n"  /* 0x06017F8C */
    ".byte 0x62, 0x2D, 0x42, 0x08, 0x42, 0x00, 0x32, 0xEC, 0x63, 0x42, 0x22, 0x32, 0x90, 0x1B, 0x93, 0x1B\n"  /* 0x06017F9C */
    ".byte 0x04, 0x5E, 0xD5, 0x10, 0x34, 0x33, 0x8B, 0x06, 0x93, 0x17, 0x34, 0x37, 0x89, 0x03, 0x63, 0xAD\n"  /* 0x06017FAC */
    ".byte 0x25, 0x31, 0xA0, 0x02, 0x00, 0x09, 0xE2, 0x00, 0x25, 0x21, 0xE3, 0x4B, 0xD5, 0x0A, 0x34, 0x33\n"  /* 0x06017FBC */
    ".byte 0x8B, 0x14, 0xE3, 0x57, 0x34, 0x37, 0x89, 0x11, 0xE3, 0x04, 0x25, 0x31, 0xA0, 0x10, 0x00, 0x09\n"  /* 0x06017FCC */
    ".byte 0x17, 0x08, 0x16, 0xB8, 0x01, 0x00, 0x01, 0xEC, 0x00, 0xA8, 0x00, 0xC1, 0x06, 0x08, 0x9E, 0x40\n"  /* 0x06017FDC */
    ".byte 0x06, 0x05, 0xBE, 0x2E, 0x06, 0x05, 0xBE, 0x36, 0x06, 0x05, 0xBE, 0x38, 0xE2, 0x00, 0x25, 0x21\n"  /* 0x06017FEC */
    ".byte 0x93, 0x7E, 0x34, 0x33, 0x89, 0x01, 0xA0, 0xA2, 0x00, 0x09, 0x93, 0x7A, 0x34, 0x37, 0x8B, 0x01\n"  /* 0x06017FFC */
    ".byte 0xA0, 0x9D, 0x00, 0x09, 0x93, 0x76, 0x62, 0x92, 0x32, 0x3C, 0x29, 0x22, 0x93, 0x73, 0x52, 0x91\n"  /* 0x0601800C */
    ".byte 0x32, 0x3C, 0x19, 0x21, 0xEB, 0x00, 0xD3, 0x39, 0x1F, 0x31, 0xD3, 0x39, 0x43, 0x0B, 0x00, 0x09\n"  /* 0x0601801C */
    ".byte 0x66, 0xBC, 0xD2, 0x38, 0x63, 0x63, 0x46, 0x08, 0x43, 0x08, 0x43, 0x00, 0x36, 0x3C, 0x66, 0x6C\n"  /* 0x0601802C */
    ".byte 0x36, 0x2C, 0x2F, 0x62, 0x56, 0x62, 0x65, 0xF2, 0x64, 0xF2, 0xD3, 0x33, 0x66, 0x6B, 0x55, 0x51\n"  /* 0x0601803C */
    ".byte 0x43, 0x0B, 0x64, 0x42, 0xD4, 0x31, 0xD3, 0x32, 0x43, 0x0B, 0x00, 0x09, 0x60, 0xB3, 0x63, 0xB3\n"  /* 0x0601804C */
    ".byte 0x92, 0x52, 0x20, 0xA9, 0x23, 0xC9, 0x40, 0x08, 0x03, 0x27, 0x04, 0x9E, 0x02, 0x1A, 0xD3, 0x2D\n"  /* 0x0601805C */
    ".byte 0x43, 0x0B, 0x34, 0x2C, 0xE5, 0x0C, 0xD2, 0x2C, 0x2F, 0x22, 0x64, 0x23, 0xD3, 0x2B, 0x43, 0x0B\n"  /* 0x0601806C */
    ".byte 0x34, 0x8C, 0x66, 0xC3, 0x55, 0xF1, 0x64, 0xF2, 0xD3, 0x29, 0x34, 0x3C, 0xD3, 0x29, 0x43, 0x0B\n"  /* 0x0601807C */
    ".byte 0x65, 0x51, 0xD3, 0x29, 0x43, 0x0B, 0x00, 0x09, 0xD3, 0x1D, 0x43, 0x0B, 0x7B, 0x01, 0x66, 0xBC\n"  /* 0x0601808C */
    ".byte 0xD2, 0x1C, 0x63, 0x63, 0x46, 0x08, 0x43, 0x08, 0x43, 0x00, 0x36, 0x3C, 0x66, 0x6C, 0x36, 0x2C\n"  /* 0x0601809C */
    ".byte 0x1F, 0x62, 0x56, 0x62, 0x55, 0xF2, 0x54, 0xF2, 0xD3, 0x17, 0x66, 0x6B, 0x55, 0x51, 0x43, 0x0B\n"  /* 0x060180AC */
    ".byte 0x64, 0x42, 0xD4, 0x16, 0xD3, 0x16, 0x43, 0x0B, 0x00, 0x09, 0x60, 0xB3, 0x63, 0xB3, 0x92, 0x1B\n"  /* 0x060180BC */
    ".byte 0x20, 0xA9, 0x23, 0xC9, 0x40, 0x08, 0x03, 0x27, 0x04, 0x9E, 0x02, 0x1A, 0xD3, 0x11, 0x43, 0x0B\n"  /* 0x060180CC */
    ".byte 0x34, 0x2C, 0xE5, 0x0C, 0x64, 0xF2, 0xD3, 0x11, 0x43, 0x0B, 0x34, 0x8C, 0x66, 0xC3, 0x55, 0xF1\n"  /* 0x060180DC */
    ".byte 0x64, 0xF2, 0xD3, 0x0F, 0x34, 0x3C, 0xD3, 0x0F, 0x43, 0x0B, 0x65, 0x51, 0xA0, 0x1E, 0x00, 0x09\n"  /* 0x060180EC */
    ".byte 0x00, 0x89, 0x00, 0xB6, 0x03, 0x33, 0x06, 0x66, 0x15, 0x55, 0xFF, 0xFF, 0x06, 0x08, 0x9E, 0x98\n"  /* 0x060180FC */
    ".byte 0x06, 0x02, 0x6D, 0xBC, 0x06, 0x04, 0x80, 0x78, 0x06, 0x02, 0x6E, 0x2E, 0x00, 0x00, 0xC0, 0x00\n"  /* 0x0601810C */
    ".byte 0x06, 0x02, 0x6E, 0xDE, 0x06, 0x02, 0x6F, 0x2A, 0x00, 0x20, 0x00, 0x00, 0x06, 0x03, 0x1D, 0x8C\n"  /* 0x0601811C */
    ".byte 0x00, 0x08, 0x87, 0xC4, 0x06, 0x03, 0x1A, 0x28, 0x06, 0x02, 0x6D, 0xF8, 0xD3, 0x38, 0x43, 0x0B\n"  /* 0x0601812C */
    ".byte 0x00, 0x09, 0x7B, 0x01, 0xE2, 0x0D, 0x3B, 0x27, 0x89, 0x01, 0xAF, 0x6E, 0x00, 0x09, 0xD3, 0x35\n"  /* 0x0601813C */
    ".byte 0x43, 0x0B, 0x00, 0x09, 0x7F, 0x0C, 0x4F, 0x16, 0x4F, 0x26, 0x68, 0xF6, 0x69, 0xF6, 0x6A, 0xF6\n"  /* 0x0601814C */
    ".byte 0x6B, 0xF6, 0x6C, 0xF6, 0x6D, 0xF6, 0xA0, 0x89, 0x6E, 0xF6\n"  /* 0x0601815C */
);


/* --- FUN_06016DD8 (L1 import from src/FUN_06016DD8.c) --- */

#if 0 /* FUN_06016DD8 -- replaced by ASM import */
void FUN_06016dd8(param_1)
    char param_1;
{
  int stack0xfffffff0;
  int stack0x0000002c;
  int stack0xfffffff4;
  int stack0xfffffff8;
  int stack0x00000008;
  int stack0xfffffffe;
  int stack0xfffffffc;
  int stack0xffffffe8;
  int stack0x0000000c;
  int stack0xffffffec;
  int stack0xffffffe4;
  int stack0x0000003c;
  int stack0x0000001c;
  int stack0x00000004;
  int stack0x0000000a;
  int stack0x00000006;
  int stack0x0000005c;
  int stack0x0000004c;
  int stack0x00000002;
  int stack0x00000000;

  char *puVar1;

  char *puVar2;

  int iVar3;

  int uVar4;

  int iVar5;

  short uVar6;

  int *puVar7;

  short sVar9;

  short *psVar8;

  short sVar10;

  int iVar11;

  unsigned char bVar12;

  unsigned char bVar14;

  int *piVar13;

  int aiStack_28 [2];

  int local_20;

  puVar1 = (char *)0x06027552;

  iVar3 = -140;

  sVar9 = 0x10;

  (&stack0xffffffec)[iVar3] = param_1;

  sVar10 = 0xc;

  if (*(int *)0x0605AD10 == 0x15) {

    sVar9 = 0x20;

    sVar10 = 0x18;

  }

  *(short *)(&stack0x00000004 + iVar3) = -sVar9;

  *(short *)(&stack0x00000006 + iVar3) = sVar9;

  *(short *)(&stack0x00000008 + iVar3) = sVar9;

  *(short *)(&stack0x0000000a + iVar3) = -sVar9;

  *(short *)(&stack0xfffffffc + iVar3) = -sVar10;

  *(short *)(&stack0xfffffffe + iVar3) = -sVar10;

  *(short *)(&stack0x00000000 + iVar3) = sVar10;

  *(short *)(&stack0x00000002 + iVar3) = sVar10;

  (*(int(*)())0x06027358)(*(int *)

              (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x44) + 0x30),

             (int)&local_20 + iVar3,&stack0xffffffe4 + iVar3);

  bVar14 = 0;

  do {

    iVar11 = (unsigned int)(bVar14 << 2);

    *(char **)((int)aiStack_28 + iVar3 + 4) = &stack0x0000005c + iVar11 + iVar3;

    *(unsigned int *)(&stack0xffffffe8 + iVar3) = (unsigned int)(bVar14 << 1);

    *(char **)(&stack0xfffffff0 + iVar3) = &stack0x00000004 + (unsigned int)(bVar14 << 1) + iVar3;

    uVar4 = (*(int(*)())puVar1)((int)*(short *)(&stack0x00000004 + (unsigned int)(bVar14 << 1) + iVar3) << 0x10,

                              *(int *)(&stack0xffffffe4 + iVar3));

    *(int *)((int)aiStack_28 + iVar3) = uVar4;

    psVar8 = (short *)(*(int *)(&stack0xffffffe8 + iVar3) + (int)(&stack0xfffffffc + iVar3));

    *(short **)(&stack0xfffffff4 + iVar3) = psVar8;

    iVar5 = (*(int(*)())puVar1)((int)*psVar8 << 0x10,*(int *)((int)&local_20 + iVar3));

    **(int **)((int)aiStack_28 + iVar3 + 4) = iVar5 + *(int *)((int)aiStack_28 + iVar3);

    *(char **)((int)aiStack_28 + iVar3 + 4) = &stack0x0000004c + iVar11 + iVar3;

    uVar4 = (*(int(*)())puVar1)((int)**(short **)(&stack0xfffffff4 + iVar3) << 0x10,

                              *(int *)(&stack0xffffffe4 + iVar3));

    *(int *)((int)aiStack_28 + iVar3) = uVar4;

    iVar5 = (*(int(*)())puVar1)((int)**(short **)(&stack0xfffffff0 + iVar3) << 0x10,

                              *(int *)((int)&local_20 + iVar3));

    bVar14 = bVar14 + 1;

    **(int **)((int)aiStack_28 + iVar3 + 4) = *(int *)((int)aiStack_28 + iVar3) - iVar5;

    *(int *)(&stack0x0000003c + iVar11 + iVar3) = 0;

  } while (bVar14 < 4);

  *(int *)(&stack0xfffffff8 + iVar3) =

       *(int *)

        (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x44) + 0x2c);

  if (*(int *)0x06078663 != '\0') {

    *(char **)

     (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x44) + 0x2c) =

         0x00008000 +

         *(int *)(0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x44) + 0x2c)

    ;

  }

  (*(int(*)())0x06027358)(*(int *)

              (0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x44) + 0x2c),

             (int)&local_20 + iVar3,&stack0xffffffe4 + iVar3);

  bVar14 = 0;

  do {

    iVar11 = (unsigned int)(bVar14 << 2);

    *(char **)(&stack0xffffffe8 + iVar3) = &stack0x0000000c + iVar11 + iVar3;

    *(char **)((int)aiStack_28 + iVar3 + 4) = &stack0x0000000c + iVar11 + iVar3;

    puVar7 = (int *)((int)aiStack_28 + iVar11 + DAT_06016ffa + iVar3 + 4);

    *(int **)(&stack0xfffffff4 + iVar3) = puVar7;

    uVar4 = (*(int(*)())puVar1)(*puVar7,*(int *)((int)&local_20 + iVar3));

    *(int *)((int)aiStack_28 + iVar3) = uVar4;

    *(char **)(&stack0xfffffff0 + iVar3) = &stack0x0000003c + iVar11 + iVar3;

    iVar5 = (*(int(*)())puVar1)(*(int *)(&stack0x0000003c + iVar11 + iVar3),

                              *(int *)(&stack0xffffffe4 + iVar3));

    **(int **)((int)aiStack_28 + iVar3 + 4) = iVar5 + *(int *)((int)aiStack_28 + iVar3);

    *(char **)((int)aiStack_28 + iVar3 + 4) = &stack0x0000002c + iVar11 + iVar3;

    uVar4 = (*(int(*)())puVar1)(**(int **)(&stack0xfffffff4 + iVar3),

                              *(int *)(&stack0xffffffe4 + iVar3));

    *(int *)((int)aiStack_28 + iVar3) = uVar4;

    iVar5 = (*(int(*)())puVar1)(**(int **)(&stack0xfffffff0 + iVar3),

                              *(int *)((int)&local_20 + iVar3));

    **(int **)((int)aiStack_28 + iVar3 + 4) = *(int *)((int)aiStack_28 + iVar3) - iVar5;

    *(int *)(&stack0x0000001c + iVar11 + iVar3) =

         *(int *)(&stack0x0000004c + iVar11 + iVar3);

    if (**(int **)(&stack0xffffffe8 + iVar3) != 0) {

      iVar11 = (unsigned int)(bVar14 << 2);

      puVar7 = (int *)(&stack0x0000002c + iVar11 + iVar3);

      *(int **)(&stack0xfffffff4 + iVar3) = puVar7;

      *(int **)((int)aiStack_28 + iVar3 + 4) = puVar7;

      *(int *)(&stack0xffffffe8 + iVar3) = *puVar7;

      *(char **)(&stack0xfffffff0 + iVar3) = &stack0x0000000c + iVar11 + iVar3;

      iVar5 = (*(int(*)())0x0602755C)(*(int *)(&stack0xffffffe8 + iVar3),

                         *(int *)(&stack0x0000000c + iVar11 + iVar3));

      **(int **)((int)aiStack_28 + iVar3 + 4) = iVar5 + *(int *)(&stack0xffffffe8 + iVar3);

      piVar13 = (int *)(&stack0x0000001c + iVar11 + iVar3);

      *(int **)(&stack0xfffffff4 + iVar3) = piVar13;

      iVar5 = *piVar13;

      *(int *)(&stack0xffffffe8 + iVar3) = iVar5;

      (*(int(*)())0x0602755C)(iVar5,**(int **)(&stack0xfffffff0 + iVar3));

      iVar5 = (*(int(*)())0x06034FE0)();

      *piVar13 = *(int *)(&stack0xffffffe8 + iVar3) - iVar5;

    }

    bVar14 = bVar14 + 1;

  } while (bVar14 < 4);

  *(int *)(0x06084FC8 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x44) + 0x2c)

       = *(int *)(&stack0xfffffff8 + iVar3);

  puVar2 = (char *)0x06084FC8;

  *(char **)(&stack0xfffffff0 + iVar3) =

       0x06085490 + (short)((unsigned short)(unsigned char)(&stack0xffffffec)[iVar3] * 0x18) + 8;

  bVar12 = 0;

  bVar14 = (&stack0xffffffec)[iVar3];

  do {

    iVar5 = (unsigned int)(bVar12 << 2) + *(int *)(&stack0xfffffff0 + iVar3);

    *(int *)(&stack0xffffffec + iVar3) = iVar5;

    *(int *)((int)aiStack_28 + iVar3 + 4) = iVar5;

    uVar4 = *(int *)(puVar2 + (short)((unsigned short)bVar14 * 0x44) + 0xc);

    *(unsigned int *)(&stack0xffffffe8 + iVar3) = (unsigned int)(bVar12 << 2);

    iVar5 = (*(int(*)())puVar1)(*(int *)(&stack0x0000002c + (unsigned int)(bVar12 << 2) + iVar3),uVar4);

    uVar6 = (*(int(*)())0x0602754C)(*(int *)(puVar2 + (short)((unsigned short)bVar14 * 0x44) + 4) + iVar5);

    **(short **)((int)aiStack_28 + iVar3 + 4) = uVar6;

    *(int *)((int)aiStack_28 + iVar3 + 4) = *(int *)(&stack0xffffffec + iVar3) + 2;

    iVar5 = (*(int(*)())puVar1)(*(int *)

                               (&stack0x0000001c + *(int *)(&stack0xffffffe8 + iVar3) + iVar3),

                              *(int *)(puVar2 + (short)((unsigned short)bVar14 * 0x44) + 0xc));

    uVar6 = (*(int(*)())0x0602754C)(*(int *)(puVar2 + (short)((unsigned short)bVar14 * 0x44) + 8) + iVar5);

    bVar12 = bVar12 + 1;

    **(short **)((int)aiStack_28 + iVar3 + 4) = uVar6;

  } while (bVar12 < 4);

  return;

}
#endif

/* FUN_06016DD8 -- original binary (804 bytes) */
__asm__(
    ".section .text.FUN_06016DD8, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06016DD8\n"
    ".global _FUN_06016dd8\n"
    ".type _FUN_06016DD8, @function\n"
    "_FUN_06016DD8:\n"
    "_FUN_06016dd8:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0xED, 0x04, 0x2F, 0xB6, 0x2F, 0xA6, 0x2F, 0x96, 0x2F, 0x86\n"  /* 0x06016DD8 */
    ".byte 0x4F, 0x22, 0x90, 0x76, 0x3F, 0x0C, 0x68, 0xF3, 0x69, 0xF3, 0x6A, 0xF3, 0xDE, 0x39, 0x60, 0x43\n"  /* 0x06016DE8 */
    ".byte 0x78, 0x1C, 0x79, 0x4C, 0x7A, 0x3C, 0xE4, 0x10, 0x80, 0xFC, 0xD0, 0x37, 0x60, 0x02, 0x88, 0x15\n"  /* 0x06016DF8 */
    ".byte 0x8F, 0x02, 0xE5, 0x0C, 0xE4, 0x20, 0xE5, 0x18, 0x62, 0x4F, 0x62, 0x2B, 0x62, 0x2F, 0xE0, 0x24\n"  /* 0x06016E08 */
    ".byte 0x0F, 0x25, 0xE0, 0x26, 0x0F, 0x45, 0xE0, 0x28, 0x0F, 0x45, 0x64, 0x4F, 0x64, 0x4B, 0x64, 0x4F\n"  /* 0x06016E18 */
    ".byte 0xE0, 0x2A, 0x0F, 0x45, 0x63, 0x5F, 0x63, 0x3B, 0x28, 0x31, 0x62, 0x5F, 0x62, 0x2B, 0x60, 0x2F\n"  /* 0x06016E28 */
    ".byte 0x81, 0x81, 0x60, 0x53, 0x81, 0x82, 0x81, 0x83, 0x66, 0xF3, 0x76, 0x04, 0x65, 0xF3, 0x84, 0xFC\n"  /* 0x06016E38 */
    ".byte 0x64, 0x03, 0x64, 0x4C, 0x63, 0x43, 0x44, 0x08, 0x43, 0x08, 0xD2, 0x24, 0x43, 0x08, 0x43, 0x08\n"  /* 0x06016E48 */
    ".byte 0x34, 0x3C, 0x64, 0x4F, 0xD3, 0x22, 0x34, 0x2C, 0x43, 0x0B, 0x54, 0x4C, 0xEC, 0x00, 0x6B, 0xCC\n"  /* 0x06016E58 */
    ".byte 0x63, 0xF3, 0x64, 0xCC, 0x4B, 0x08, 0x73, 0x7C, 0x44, 0x00, 0x33, 0xBC, 0x2F, 0x36, 0x63, 0xF3\n"  /* 0x06016E68 */
    ".byte 0x55, 0xF2, 0x73, 0x28, 0x1F, 0x43, 0x34, 0x3C, 0x1F, 0x45, 0x64, 0x41, 0x4E, 0x0B, 0x44, 0x28\n"  /* 0x06016E78 */
    ".byte 0x2F, 0x06, 0x55, 0xF2, 0x54, 0xF4, 0x34, 0x8C, 0x1F, 0x47, 0x64, 0x41, 0x4E, 0x0B, 0x44, 0x28\n"  /* 0x06016E88 */
    ".byte 0x63, 0xF6, 0x30, 0x3C, 0x62, 0xF6, 0x22, 0x02, 0x63, 0xF3, 0x73, 0x6C, 0x33, 0xBC, 0x2F, 0x36\n"  /* 0x06016E98 */
    ".byte 0x55, 0xF2, 0x54, 0xF6, 0x64, 0x41, 0x4E, 0x0B, 0x44, 0x28, 0x2F, 0x06, 0x55, 0xF2, 0x54, 0xF6\n"  /* 0x06016EA8 */
    ".byte 0x64, 0x41, 0x4E, 0x0B, 0x44, 0x28, 0x7C, 0x01, 0x63, 0xF6, 0x33, 0x08, 0x62, 0xF6, 0x22, 0x32\n"  /* 0x06016EB8 */
    ".byte 0x63, 0xF3, 0xE2, 0x00, 0x73, 0x5C, 0x3B, 0x3C, 0x2B, 0x22, 0x63, 0xCC, 0x33, 0xD3, 0xA0, 0x09\n"  /* 0x06016EC8 */
    ".byte 0x00, 0x09, 0xFF, 0x74, 0x06, 0x02, 0x75, 0x52, 0x06, 0x05, 0xAD, 0x10, 0x06, 0x08, 0x4F, 0xC8\n"  /* 0x06016ED8 */
    ".byte 0x06, 0x02, 0x73, 0x58, 0x8B, 0xBB, 0x84, 0xFC, 0xD1, 0x42, 0x63, 0x03, 0x63, 0x3C, 0x62, 0x33\n"  /* 0x06016EE8 */
    ".byte 0x43, 0x08, 0x42, 0x08, 0x42, 0x08, 0x42, 0x08, 0x33, 0x2C, 0x63, 0x3F, 0x33, 0x1C, 0x52, 0x3B\n"  /* 0x06016EF8 */
    ".byte 0x1F, 0x26, 0xD0, 0x3D, 0x60, 0x00, 0x20, 0x08, 0x89, 0x0F, 0x84, 0xFC, 0x63, 0x03, 0x63, 0x3C\n"  /* 0x06016F08 */
    ".byte 0x62, 0x33, 0x43, 0x08, 0x42, 0x08, 0x42, 0x08, 0x42, 0x08, 0x33, 0x2C, 0x63, 0x3F, 0xD1, 0x35\n"  /* 0x06016F18 */
    ".byte 0x33, 0x1C, 0xD2, 0x36, 0x51, 0x3B, 0x31, 0x2C, 0x13, 0x1B, 0x66, 0xF3, 0x65, 0xF3, 0x84, 0xFC\n"  /* 0x06016F28 */
    ".byte 0xD2, 0x30, 0x76, 0x04, 0x64, 0x03, 0x64, 0x4C, 0x63, 0x43, 0x44, 0x08, 0x43, 0x08, 0x43, 0x08\n"  /* 0x06016F38 */
    ".byte 0x43, 0x08, 0x34, 0x3C, 0x64, 0x4F, 0xD3, 0x2E, 0x34, 0x2C, 0x43, 0x0B, 0x54, 0x4B, 0xEB, 0x00\n"  /* 0x06016F48 */
    ".byte 0x6C, 0xBC, 0x63, 0xF3, 0x4C, 0x08, 0x73, 0x2C, 0x33, 0xCC, 0x1F, 0x32, 0x2F, 0x36, 0x55, 0xF1\n"  /* 0x06016F58 */
    ".byte 0x94, 0x47, 0x34, 0xFC, 0x34, 0xCC, 0x1F, 0x46, 0x4E, 0x0B, 0x64, 0x42, 0x2F, 0x06, 0x64, 0xF3\n"  /* 0x06016F68 */
    ".byte 0x55, 0xF3, 0x74, 0x64, 0x34, 0xCC, 0x1F, 0x46, 0x4E, 0x0B, 0x64, 0x42, 0x63, 0xF6, 0x30, 0x3C\n"  /* 0x06016F78 */
    ".byte 0x62, 0xF6, 0x63, 0xC3, 0x22, 0x02, 0x33, 0x9C, 0x2F, 0x36, 0x55, 0xF2, 0x54, 0xF6, 0x4E, 0x0B\n"  /* 0x06016F88 */
    ".byte 0x64, 0x42, 0x2F, 0x06, 0x55, 0xF2, 0x54, 0xF6, 0x4E, 0x0B, 0x64, 0x42, 0x63, 0xF6, 0x33, 0x08\n"  /* 0x06016F98 */
    ".byte 0x62, 0xF6, 0x22, 0x32, 0x63, 0xC3, 0x62, 0xF3, 0x33, 0xAC, 0x72, 0x6C, 0x32, 0xCC, 0x61, 0x22\n"  /* 0x06016FA8 */
    ".byte 0x23, 0x12, 0x53, 0xF2, 0x60, 0x32, 0x20, 0x08, 0x89, 0x31, 0x6C, 0xBC, 0x4C, 0x08, 0x63, 0xC3\n"  /* 0x06016FB8 */
    ".byte 0x33, 0x9C, 0x1F, 0x35, 0x2F, 0x36, 0x62, 0x32, 0x65, 0xF3, 0x1F, 0x23, 0x75, 0x30, 0x35, 0xCC\n"  /* 0x06016FC8 */
    ".byte 0x1F, 0x55, 0x54, 0xF3, 0xD2, 0x0B, 0x42, 0x0B, 0x65, 0x52, 0x53, 0xF3, 0x30, 0x3C, 0x63, 0xF6\n"  /* 0x06016FD8 */
    ".byte 0x23, 0x02, 0x3C, 0xAC, 0x1F, 0xC5, 0x63, 0xC3, 0x62, 0x32, 0x1F, 0x22, 0x55, 0xF4, 0xA0, 0x0B\n"  /* 0x06016FE8 */
    ".byte 0x00, 0x09, 0x00, 0x80, 0x06, 0x08, 0x4F, 0xC8, 0x06, 0x07, 0x86, 0x63, 0x00, 0x00, 0x80, 0x00\n"  /* 0x06016FF8 */
    ".byte 0x06, 0x02, 0x73, 0x58, 0x06, 0x02, 0x75, 0x5C, 0x65, 0x52, 0xD3, 0x35, 0x43, 0x0B, 0x64, 0x23\n"  /* 0x06017008 */
    ".byte 0x61, 0x03, 0xD2, 0x34, 0x42, 0x0B, 0xE0, 0x06, 0x53, 0xF2, 0x33, 0x08, 0x2C, 0x32, 0x7B, 0x01\n"  /* 0x06017018 */
    ".byte 0x63, 0xBC, 0x33, 0xD3, 0x8B, 0x94, 0x84, 0xFC, 0xD1, 0x2F, 0x63, 0x03, 0x63, 0x3C, 0x62, 0x33\n"  /* 0x06017028 */
    ".byte 0x43, 0x08, 0x42, 0x08, 0x42, 0x08, 0x42, 0x08, 0x33, 0x2C, 0x63, 0x3F, 0x52, 0xF6, 0x33, 0x1C\n"  /* 0x06017038 */
    ".byte 0x13, 0x2B, 0x84, 0xFC, 0x63, 0x03, 0x63, 0x3C, 0x62, 0x33, 0x43, 0x08, 0x43, 0x00, 0x42, 0x08\n"  /* 0x06017048 */
    ".byte 0x42, 0x08, 0x33, 0x2C, 0x63, 0x3F, 0xD1, 0x25, 0x33, 0x1C, 0x73, 0x08, 0x1F, 0x34, 0xEB, 0x00\n"  /* 0x06017058 */
    ".byte 0x84, 0xFC, 0x6C, 0x03, 0x6C, 0xCC, 0x62, 0xC3, 0x4C, 0x08, 0x42, 0x08, 0x42, 0x08, 0x42, 0x08\n"  /* 0x06017068 */
    ".byte 0x3C, 0x2C, 0x6C, 0xCF, 0xD1, 0x1C, 0x3C, 0x1C, 0x63, 0xBC, 0x60, 0xBC, 0x52, 0xF4, 0x43, 0x00\n"  /* 0x06017078 */
    ".byte 0x40, 0x08, 0x43, 0x00, 0x33, 0x2C, 0x1F, 0x33, 0x2F, 0x36, 0x55, 0xC3, 0x1F, 0x03, 0x4E, 0x0B\n"  /* 0x06017088 */
    ".byte 0x04, 0x9E, 0x54, 0xC1, 0xD3, 0x16, 0x43, 0x0B, 0x34, 0x0C, 0x60, 0x0F, 0x62, 0xF6, 0x22, 0x01\n"  /* 0x06017098 */
    ".byte 0x53, 0xF3, 0x73, 0x02, 0x2F, 0x36, 0x55, 0xC3, 0x54, 0xF3, 0x34, 0xAC, 0x4E, 0x0B, 0x64, 0x42\n"  /* 0x060170A8 */
    ".byte 0x54, 0xC2, 0xD3, 0x0F, 0x43, 0x0B, 0x34, 0x0C, 0x60, 0x0F, 0x7B, 0x01, 0x62, 0xF6, 0x63, 0xBC\n"  /* 0x060170B8 */
    ".byte 0x22, 0x01, 0x33, 0xD3, 0x8B, 0xD8, 0x91, 0x09, 0x3F, 0x1C, 0x4F, 0x26, 0x68, 0xF6, 0x69, 0xF6\n"  /* 0x060170C8 */
    ".byte 0x6A, 0xF6, 0x6B, 0xF6, 0x6C, 0xF6, 0x6D, 0xF6, 0x00, 0x0B, 0x6E, 0xF6, 0x00, 0x8C, 0xFF, 0xFF\n"  /* 0x060170D8 */
    ".byte 0x06, 0x02, 0x75, 0x5C, 0x06, 0x03, 0x4F, 0xE0, 0x06, 0x08, 0x4F, 0xC8, 0x06, 0x08, 0x54, 0x90\n"  /* 0x060170E8 */
    ".byte 0x06, 0x02, 0x75, 0x4C\n"  /* 0x060170F8 */
);


/* --- FUN_06017814 (L1 import from src/FUN_06017814.c) --- */

#if 0 /* FUN_06017814 -- replaced by ASM import */
void FUN_06017814()
{

  short sVar1;

  char *puVar2;

  char *puVar3;

  char *puVar4;

  char *puVar5;

  char *puVar6;

  char *puVar7;

  int in_r7;

  char *puVar8;

  char *puVar9;

  puVar7 = (char *)0x0605BE20;

  puVar6 = (char *)0x0605BE22;

  puVar5 = (char *)0x0605BE26;

  puVar4 = (char *)0x0605BE1A;

  puVar3 = (char *)0x0605BE24;

  puVar2 = (char *)0x0605BE18;

  (*(int(*)())0x06026DBC)();

  *(int *)0x06085FAC = *(int *)0x06085FAC - 0x333;

  (*(int(*)())0x06026E2E)(*(int *)0x06048128,*(int *)0x0604812C,

             -*(int *)0x06048130);

  (*(int(*)())0x06026EDE)(*(int *)0x06085FAC);

  puVar8 = (char *)0x00200000;

  (*(int(*)())0x06031D8C)(0x00200000 + (int)0x00037D88,8);

  (*(int(*)())0x06031A28)(puVar8 + (int)0x00037DE8,(int)*(short *)0x06089E98,6,in_r7,

             puVar8 + (int)0x00037DE8);

  (*(int(*)())0x06026DF8)();

  (*(int(*)())0x06026DBC)();

  if (*(short *)puVar2 == 10) {

    *(short *)puVar2 = 0;

    *(int *)0x06085FBC = *(int *)0x06085FBC - (int)DAT_060178ac;

  }

  else {

    *(int *)0x06085FBC = *(int *)0x06085FBC + 0x333;

  }

  (*(int(*)())0x06026E2E)(*(int *)0x06048134,*(int *)0x06048138,

             -*(int *)0x0604813C);

  (*(int(*)())0x06026F2A)(*(int *)0x06085FBC);

  puVar9 = (char *)0x00200000;

  (*(int(*)())0x06031D8C)(0x00200000 + (int)0x00037E78,4);

  (*(int(*)())0x06031A28)(puVar9 + (int)0x00037EA8,(int)*(short *)0x06089E98,1);

  (*(int(*)())0x06026DF8)();

  puVar8 = (char *)0x06026DBC;

  *(short *)puVar2 = *(short *)puVar2 + 1;

  (*(int(*)())puVar8)();

  (*(int(*)())0x06031D8C)(puVar9 + (int)0x00037EC0,4);

  (*(int(*)())0x06031A28)(puVar9 + (int)0x00037EF0,

             (int)*(short *)(0x06089E44 + (((int)(*(unsigned short *)puVar2 & 4) >> 2) + 0x2a) << 1),1)

  ;

  (*(int(*)())0x06026DF8)();

  if (*(unsigned int *)(*(int *)0x0607E940 + (int)PTR_DAT_060179b8) <

      *(int *)0x06063F28 - 1U) {

    if (*(int *)0x06078636 == '\0') {

      *(short *)puVar4 = 1;

    }

    else {

      *(short *)puVar4 = 0;

    }

  }

  else {

    *(short *)puVar4 = 2;

  }

  (*(int(*)())0x06026DBC)();

  (*(int(*)())0x06031D8C)(*(int *)(0x06062290 + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)),

             *(int *)(0x060622B4 + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)));

  (*(int(*)())0x06031A28)(*(int *)(0x0606229C + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)),

             (int)*(short *)0x06089E98,

             *(int *)(0x060622A8 + (unsigned int)*(unsigned short *)((int)(int)puVar4 << 2)));

  (*(int(*)())0x06026DF8)();

  puVar2 = (char *)0x0605BE2A;

  if ((*(int *)0x0607EAD0 == 0) && ((*(unsigned int *)0x0607EBC4 & (unsigned int)0x000A0000) != 0)

     ) {

    if ((*(unsigned short *)0x06063D98 & 0x40) == 0) {

      *(short *)0x0605BE2A = 0;

    }

    else if (*(short *)0x0605BE2A == 0) {

      *(short *)0x0605BE2A = 1;

      *(short *)puVar5 = *(short *)puVar5 + 1;

      *(unsigned short *)puVar5 = *(unsigned short *)puVar5 & 3;

    }

  }

  else {

    *(short *)0x0605BE28 = 0;

    *(short *)puVar5 = 0;

    *(short *)puVar2 = 0;

  }

  sVar1 = *(short *)puVar5;

  if (sVar1 == 0) {

    *(short *)puVar3 = *(short *)puVar3 + -1;

    *(short *)puVar6 = *(short *)puVar6 + -2;

  }

  else {

    if (sVar1 == 1) {

      FUN_06017c9c(0x0605BE24);

      *(short *)puVar6 = *(short *)puVar6 + -2;

      *(short *)puVar7 = *(short *)puVar7 + -3;

      goto LAB_06017b4e;

    }

    if (sVar1 != 2) {

      if ((sVar1 == 3) && (FUN_06017c9c(0x0605BE20), *(short *)0x0605BE28 == 0)) {

        FUN_06017bf4();

      }

      goto LAB_06017b4e;

    }

    FUN_06017c9c(0x0605BE22);

    if (*(int *)0x06085FCC == '\0') {

      FUN_06017c78();

    }

  }

  *(short *)puVar7 = *(short *)puVar7 + -3;

LAB_06017b4e:

  if (*(short *)puVar3 < 1) {

    *(short *)puVar3 = (char *)0x30;

  }

  if (*(short *)puVar7 < 1) {

    *(short *)puVar7 = (char *)0x30;

  }

  if (*(short *)puVar6 < 1) {

    *(short *)puVar6 = (char *)0x30;

  }

  puVar5 = (char *)0x06063F64;

  puVar4 = (char *)0x060684EC;

  puVar2 = (char *)0x0606A4F0;

  *(int *)(0x06063F64 + (unsigned int)*(unsigned short *)(0x060684EC + DAT_06017bd4) << 3) =

       *(short *)puVar3 * 3 + *(int *)0x0606A4F0;

  *(int *)(puVar5 + ((unsigned int)*(unsigned short *)(puVar4 + DAT_06017bd6) << 3)) =

       *(short *)puVar6 * 3 + *(int *)puVar2;

  *(int *)(puVar5 + ((unsigned int)*(unsigned short *)(puVar4 + DAT_06017bd8) << 3)) =

       *(short *)puVar7 * 3 + *(int *)puVar2;

  return;

}
#endif

/* FUN_06017814 -- original binary (1160 bytes) */
__asm__(
    ".section .text.FUN_06017814, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06017814\n"
    ".type _FUN_06017814, @function\n"
    "_FUN_06017814:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x2F, 0xC6, 0x2F, 0xB6, 0x2F, 0xA6, 0x2F, 0x96, 0x2F, 0x86, 0x4F, 0x22\n"  /* 0x06017814 */
    ".byte 0x7F, 0xFC, 0xD8, 0x22, 0xD9, 0x22, 0xDA, 0x23, 0xDC, 0x23, 0xDD, 0x24, 0xDE, 0x24, 0xD3, 0x25\n"  /* 0x06017824 */
    ".byte 0x43, 0x0B, 0xEB, 0x00, 0x92, 0x37, 0xD3, 0x24, 0x63, 0x32, 0x33, 0x28, 0xD2, 0x22, 0x22, 0x32\n"  /* 0x06017834 */
    ".byte 0xD6, 0x22, 0xD5, 0x23, 0xD4, 0x23, 0xD3, 0x24, 0x66, 0x62, 0x65, 0x52, 0x66, 0x6B, 0x43, 0x0B\n"  /* 0x06017844 */
    ".byte 0x64, 0x42, 0xD4, 0x1D, 0xD3, 0x21, 0x43, 0x0B, 0x64, 0x42, 0xE5, 0x08, 0xD2, 0x20, 0xD3, 0x21\n"  /* 0x06017854 */
    ".byte 0x64, 0x23, 0x34, 0x3C, 0xD3, 0x20, 0x43, 0x0B, 0x2F, 0x22, 0xE6, 0x06, 0x62, 0xF2, 0xD3, 0x1F\n"  /* 0x06017864 */
    ".byte 0x32, 0x3C, 0x2F, 0x22, 0xD5, 0x1E, 0xD3, 0x1F, 0x65, 0x51, 0x43, 0x0B, 0x64, 0x23, 0xD3, 0x1E\n"  /* 0x06017874 */
    ".byte 0x43, 0x0B, 0x00, 0x09, 0xD3, 0x0F, 0x43, 0x0B, 0x00, 0x09, 0x60, 0x81, 0x60, 0x0D, 0x88, 0x0A\n"  /* 0x06017884 */
    ".byte 0x8B, 0x36, 0x62, 0xBD, 0x28, 0x21, 0x93, 0x07, 0xD2, 0x18, 0x62, 0x22, 0x32, 0x38, 0xD3, 0x17\n"  /* 0x06017894 */
    ".byte 0x23, 0x22, 0xA0, 0x33, 0x00, 0x09, 0x03, 0x33, 0x1C, 0xCB, 0xFF, 0xFF, 0x06, 0x05, 0xBE, 0x18\n"  /* 0x060178A4 */
    ".byte 0x06, 0x05, 0xBE, 0x24, 0x06, 0x05, 0xBE, 0x1A, 0x06, 0x05, 0xBE, 0x26, 0x06, 0x05, 0xBE, 0x22\n"  /* 0x060178B4 */
    ".byte 0x06, 0x05, 0xBE, 0x20, 0x06, 0x02, 0x6D, 0xBC, 0x06, 0x08, 0x5F, 0xAC, 0x06, 0x04, 0x81, 0x30\n"  /* 0x060178C4 */
    ".byte 0x06, 0x04, 0x81, 0x2C, 0x06, 0x04, 0x81, 0x28, 0x06, 0x02, 0x6E, 0x2E, 0x06, 0x02, 0x6E, 0xDE\n"  /* 0x060178D4 */
    ".byte 0x00, 0x20, 0x00, 0x00, 0x00, 0x03, 0x7D, 0x88, 0x06, 0x03, 0x1D, 0x8C, 0x00, 0x03, 0x7D, 0xE8\n"  /* 0x060178E4 */
    ".byte 0x06, 0x08, 0x9E, 0x98, 0x06, 0x03, 0x1A, 0x28, 0x06, 0x02, 0x6D, 0xF8, 0x06, 0x08, 0x5F, 0xBC\n"  /* 0x060178F4 */
    ".byte 0x92, 0x57, 0xD3, 0x2D, 0x63, 0x32, 0x33, 0x2C, 0xD2, 0x2B, 0x22, 0x32, 0xD6, 0x2B, 0xD5, 0x2C\n"  /* 0x06017904 */
    ".byte 0xD4, 0x2C, 0xD3, 0x2D, 0x66, 0x62, 0x65, 0x52, 0x66, 0x6B, 0x43, 0x0B, 0x64, 0x42, 0xD4, 0x26\n"  /* 0x06017914 */
    ".byte 0xD3, 0x2A, 0x43, 0x0B, 0x64, 0x42, 0xE5, 0x04, 0xD2, 0x29, 0xD3, 0x2A, 0x64, 0x23, 0x34, 0x3C\n"  /* 0x06017924 */
    ".byte 0xD3, 0x29, 0x43, 0x0B, 0x2F, 0x22, 0xE6, 0x01, 0xD5, 0x28, 0x64, 0xF2, 0xD2, 0x28, 0xD3, 0x29\n"  /* 0x06017934 */
    ".byte 0x65, 0x51, 0x43, 0x0B, 0x34, 0x2C, 0xD3, 0x28, 0x43, 0x0B, 0x00, 0x09, 0x62, 0x81, 0xD3, 0x27\n"  /* 0x06017944 */
    ".byte 0x72, 0x01, 0x43, 0x0B, 0x28, 0x21, 0xE5, 0x04, 0x64, 0xF2, 0xD2, 0x25, 0xD3, 0x1E, 0x43, 0x0B\n"  /* 0x06017954 */
    ".byte 0x34, 0x2C, 0xE6, 0x01, 0x60, 0x81, 0xD3, 0x23, 0x64, 0xF2, 0xD2, 0x23, 0x60, 0x0D, 0x34, 0x2C\n"  /* 0x06017964 */
    ".byte 0xC9, 0x04, 0xD2, 0x1C, 0x40, 0x21, 0x40, 0x21, 0x65, 0x03, 0x75, 0x2A, 0x45, 0x00, 0x35, 0x3C\n"  /* 0x06017974 */
    ".byte 0x42, 0x0B, 0x65, 0x51, 0xD3, 0x18, 0x43, 0x0B, 0x00, 0x09, 0xD2, 0x1C, 0xD3, 0x1C, 0x90, 0x11\n"  /* 0x06017984 */
    ".byte 0x62, 0x22, 0x63, 0x32, 0x02, 0x2E, 0x73, 0xFF, 0x32, 0x32, 0x8B, 0x02, 0xE2, 0x02, 0xA0, 0x35\n"  /* 0x06017994 */
    ".byte 0x2A, 0x21, 0xD0, 0x18, 0x60, 0x00, 0x20, 0x08, 0x89, 0x2E, 0x63, 0xBD, 0x2A, 0x31, 0xA0, 0x2D\n"  /* 0x060179A4 */
    ".byte 0x00, 0x09, 0x03, 0x33, 0x02, 0x1C, 0xFF, 0xFF, 0x06, 0x08, 0x5F, 0xBC, 0x06, 0x04, 0x81, 0x3C\n"  /* 0x060179B4 */
    ".byte 0x06, 0x04, 0x81, 0x38, 0x06, 0x04, 0x81, 0x34, 0x06, 0x02, 0x6E, 0x2E, 0x06, 0x02, 0x6F, 0x2A\n"  /* 0x060179C4 */
    ".byte 0x00, 0x20, 0x00, 0x00, 0x00, 0x03, 0x7E, 0x78, 0x06, 0x03, 0x1D, 0x8C, 0x06, 0x08, 0x9E, 0x98\n"  /* 0x060179D4 */
    ".byte 0x00, 0x03, 0x7E, 0xA8, 0x06, 0x03, 0x1A, 0x28, 0x06, 0x02, 0x6D, 0xF8, 0x06, 0x02, 0x6D, 0xBC\n"  /* 0x060179E4 */
    ".byte 0x00, 0x03, 0x7E, 0xC0, 0x06, 0x08, 0x9E, 0x44, 0x00, 0x03, 0x7E, 0xF0, 0x06, 0x07, 0xE9, 0x40\n"  /* 0x060179F4 */
    ".byte 0x06, 0x06, 0x3F, 0x28, 0x06, 0x07, 0x86, 0x36, 0xE2, 0x01, 0x2A, 0x21, 0xD3, 0x2E, 0x43, 0x0B\n"  /* 0x06017A04 */
    ".byte 0x00, 0x09, 0x65, 0xA1, 0x65, 0x5D, 0x45, 0x08, 0x2F, 0x52, 0xD3, 0x2C, 0x64, 0xF2, 0xD2, 0x2C\n"  /* 0x06017A14 */
    ".byte 0xD1, 0x2C, 0x35, 0x3C, 0x34, 0x2C, 0x65, 0x52, 0x41, 0x0B, 0x64, 0x42, 0x66, 0xA1, 0x66, 0x6D\n"  /* 0x06017A24 */
    ".byte 0x46, 0x08, 0x2F, 0x62, 0xD3, 0x28, 0xD5, 0x29, 0x64, 0xF2, 0xD2, 0x29, 0xD1, 0x29, 0x36, 0x3C\n"  /* 0x06017A34 */
    ".byte 0x65, 0x51, 0x34, 0x2C, 0x66, 0x62, 0x41, 0x0B, 0x64, 0x42, 0xD3, 0x27, 0x43, 0x0B, 0x00, 0x09\n"  /* 0x06017A44 */
    ".byte 0xD4, 0x26, 0xD0, 0x27, 0x60, 0x02, 0x20, 0x08, 0x8B, 0x19, 0xD3, 0x26, 0xD2, 0x26, 0x63, 0x32\n"  /* 0x06017A54 */
    ".byte 0x23, 0x29, 0x23, 0x38, 0x89, 0x13, 0xD5, 0x25, 0x65, 0x51, 0x60, 0x5D, 0xC8, 0x40, 0x89, 0x0B\n"  /* 0x06017A64 */
    ".byte 0x60, 0x41, 0x20, 0x08, 0x8B, 0x12, 0xE3, 0x01, 0x24, 0x31, 0x62, 0xC1, 0x72, 0x01, 0x2C, 0x21\n"  /* 0x06017A74 */
    ".byte 0x60, 0xC1, 0xC9, 0x03, 0xA0, 0x0A, 0x2C, 0x01, 0x62, 0xBF, 0xA0, 0x07, 0x24, 0x21, 0x62, 0xBF\n"  /* 0x06017A84 */
    ".byte 0xD3, 0x1B, 0x23, 0x21, 0x61, 0xBF, 0x2C, 0x11, 0x63, 0xBF, 0x24, 0x31, 0xA0, 0x4D, 0x60, 0xC1\n"  /* 0x06017A94 */
    ".byte 0x62, 0x91, 0x72, 0xFF, 0x29, 0x21, 0x63, 0xD1, 0x73, 0xFE, 0x2D, 0x31, 0xA0, 0x36, 0x00, 0x09\n"  /* 0x06017AA4 */
    ".byte 0xD4, 0x14, 0xB0, 0xF1, 0x00, 0x09, 0xD0, 0x12, 0x60, 0x01, 0x20, 0x08, 0x8B, 0x45, 0xB0, 0x97\n"  /* 0x06017AB4 */
    ".byte 0x00, 0x09, 0xA0, 0x42, 0x00, 0x09, 0xFF, 0xFF, 0x06, 0x02, 0x6D, 0xBC, 0x06, 0x06, 0x22, 0xB4\n"  /* 0x06017AC4 */
    ".byte 0x06, 0x06, 0x22, 0x90, 0x06, 0x03, 0x1D, 0x8C, 0x06, 0x06, 0x22, 0xA8, 0x06, 0x08, 0x9E, 0x98\n"  /* 0x06017AD4 */
    ".byte 0x06, 0x06, 0x22, 0x9C, 0x06, 0x03, 0x1A, 0x28, 0x06, 0x02, 0x6D, 0xF8, 0x06, 0x05, 0xBE, 0x2A\n"  /* 0x06017AE4 */
    ".byte 0x06, 0x07, 0xEA, 0xD0, 0x06, 0x07, 0xEB, 0xC4, 0x00, 0x0A, 0x00, 0x00, 0x06, 0x06, 0x3D, 0x98\n"  /* 0x06017AF4 */
    ".byte 0x06, 0x05, 0xBE, 0x28, 0x06, 0x05, 0xBE, 0x20, 0xD4, 0x33, 0xB0, 0xC5, 0x00, 0x09, 0xD2, 0x33\n"  /* 0x06017B04 */
    ".byte 0x62, 0x20, 0x62, 0x2C, 0x22, 0x28, 0x8B, 0x01, 0xB0, 0xAC, 0x00, 0x09, 0x62, 0xE1, 0x72, 0xFD\n"  /* 0x06017B14 */
    ".byte 0xA0, 0x13, 0x2E, 0x21, 0xD4, 0x2E, 0xB0, 0xB7, 0x00, 0x09, 0x62, 0xD1, 0x72, 0xFE, 0x2D, 0x21\n"  /* 0x06017B24 */
    ".byte 0x63, 0xE1, 0x73, 0xFD, 0x2E, 0x31, 0xA0, 0x08, 0x00, 0x09, 0x88, 0x00, 0x89, 0xB0, 0x88, 0x01\n"  /* 0x06017B34 */
    ".byte 0x89, 0xF0, 0x88, 0x02, 0x89, 0xE0, 0x88, 0x03, 0x89, 0xB2, 0x62, 0x91, 0x42, 0x15, 0x89, 0x01\n"  /* 0x06017B44 */
    ".byte 0xE2, 0x30, 0x29, 0x21, 0x63, 0xE1, 0x43, 0x15, 0x89, 0x01, 0xE3, 0x30, 0x2E, 0x31, 0x62, 0xD1\n"  /* 0x06017B54 */
    ".byte 0x42, 0x15, 0x89, 0x01, 0xE2, 0x30, 0x2D, 0x21, 0xD6, 0x1E, 0xD5, 0x1F, 0xD4, 0x1F, 0x90, 0x2F\n"  /* 0x06017B64 */
    ".byte 0x62, 0x91, 0x03, 0x5D, 0x61, 0x23, 0x63, 0x3D, 0x60, 0x62, 0x42, 0x00, 0x43, 0x08, 0x32, 0x1C\n"  /* 0x06017B74 */
    ".byte 0x43, 0x00, 0x32, 0x0C, 0x33, 0x4C, 0x23, 0x22, 0x90, 0x23, 0x62, 0xD1, 0x03, 0x5D, 0x61, 0x23\n"  /* 0x06017B84 */
    ".byte 0x63, 0x3D, 0x43, 0x08, 0x43, 0x00, 0x33, 0x4C, 0x42, 0x00, 0x32, 0x1C, 0x60, 0x62, 0x32, 0x0C\n"  /* 0x06017B94 */
    ".byte 0x23, 0x22, 0x90, 0x17, 0x03, 0x5D, 0x63, 0x3D, 0x62, 0xE1, 0x60, 0x62, 0x43, 0x08, 0x61, 0x23\n"  /* 0x06017BA4 */
    ".byte 0x43, 0x00, 0x42, 0x00, 0x33, 0x4C, 0x32, 0x1C, 0x32, 0x0C, 0x23, 0x22, 0x7F, 0x04, 0x4F, 0x26\n"  /* 0x06017BB4 */
    ".byte 0x68, 0xF6, 0x69, 0xF6, 0x6A, 0xF6, 0x6B, 0xF6, 0x6C, 0xF6, 0x6D, 0xF6, 0x00, 0x0B, 0x6E, 0xF6\n"  /* 0x06017BC4 */
    ".byte 0x15, 0x1A, 0x15, 0x1C, 0x15, 0x1E, 0xFF, 0xFF, 0x06, 0x05, 0xBE, 0x22, 0x06, 0x08, 0x5F, 0xCC\n"  /* 0x06017BD4 */
    ".byte 0x06, 0x05, 0xBE, 0x24, 0x06, 0x06, 0xA4, 0xF0, 0x06, 0x06, 0x84, 0xEC, 0x06, 0x06, 0x3F, 0x64\n"  /* 0x06017BE4 */
    ".byte 0xD3, 0x17, 0xD2, 0x18, 0x63, 0x32, 0x33, 0x20, 0x89, 0x01, 0x00, 0x0B, 0x00, 0x09, 0xD5, 0x16\n"  /* 0x06017BF4 */
    ".byte 0xD2, 0x16, 0x64, 0x51, 0x62, 0x21, 0x34, 0x20, 0x8B, 0x1F, 0xD2, 0x15, 0x62, 0x21, 0x34, 0x20\n"  /* 0x06017C04 */
    ".byte 0x8B, 0x1B, 0xD7, 0x14, 0xD4, 0x14, 0x60, 0x51, 0x88, 0x2A, 0x8F, 0x0A, 0xE6, 0x01, 0x92, 0x16\n"  /* 0x06017C14 */
    ".byte 0x63, 0x42, 0x33, 0x2C, 0x24, 0x32, 0x66, 0x6F, 0x27, 0x61, 0xD5, 0x10, 0xD3, 0x10, 0x43, 0x2B\n"  /* 0x06017C24 */
    ".byte 0xE4, 0x00, 0x60, 0x51, 0x88, 0x12, 0x8B, 0x08, 0x62, 0x42, 0x72, 0x64, 0x24, 0x22, 0x66, 0x6F\n"  /* 0x06017C34 */
    ".byte 0x27, 0x61, 0xD5, 0x0A, 0xD3, 0x0A, 0x43, 0x2B, 0xE4, 0x00, 0x00, 0x0B, 0x00, 0x09, 0x00, 0x8C\n"  /* 0x06017C44 */
    ".byte 0x06, 0x07, 0xEB, 0xC4, 0x00, 0x02, 0x00, 0x00, 0x06, 0x05, 0xBE, 0x24, 0x06, 0x05, 0xBE, 0x22\n"  /* 0x06017C54 */
    ".byte 0x06, 0x05, 0xBE, 0x20, 0x06, 0x05, 0xBE, 0x28, 0x06, 0x07, 0xEA, 0xAC, 0xAE, 0x11, 0x17, 0xFF\n"  /* 0x06017C64 */
    ".byte 0x06, 0x01, 0xD5, 0xF4, 0xD4, 0x16, 0xD2, 0x17, 0x63, 0x41, 0x62, 0x21, 0x33, 0x20, 0x8B, 0x09\n"  /* 0x06017C74 */
    ".byte 0x60, 0x41, 0x88, 0x2A, 0x8B, 0x06, 0xE2, 0x01, 0xD3, 0x13, 0x23, 0x20, 0xD5, 0x13, 0xD3, 0x14\n"  /* 0x06017C84 */
    ".byte 0x43, 0x2B, 0xE4, 0x00, 0x00, 0x0B, 0x00, 0x09\n"  /* 0x06017C94 */
);


/* FUN_06016CDC -- original binary (10 bytes) */
__asm__(
    ".section .text.FUN_06016CDC, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06016CDC\n"
    ".global _FUN_06016cdc\n"
    ".type _FUN_06016CDC, @function\n"
    "_FUN_06016CDC:\n"
    "_FUN_06016cdc:\n"
    ".byte 0x2F, 0xE6, 0x6E, 0x43, 0x2F, 0xD6, 0xE4, 0x00, 0x63, 0xEC\n"  /* 0x06016CDC */
);

/* FUN_0601772E -- original binary (18 bytes) */
__asm__(
    ".section .text.FUN_0601772E, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_0601772E\n"
    ".global _FUN_0601772e\n"
    ".type _FUN_0601772E, @function\n"
    "_FUN_0601772E:\n"
    "_FUN_0601772e:\n"
    ".byte 0x2F, 0xE6, 0x2F, 0xD6, 0x6D, 0x43, 0x2F, 0xC6, 0xEC, 0x2C, 0x2F, 0xB6, 0x3C, 0xD8, 0x2F, 0xA6\n"  /* 0x0601772E */
    ".byte 0x6C, 0xCC\n"  /* 0x0601773E */
);
