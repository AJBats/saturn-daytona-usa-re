/* perspective_proj_3d -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0601476C - 0x06014868
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_0601476C


    .global perspective_proj_3d
    .type perspective_proj_3d, @function
perspective_proj_3d:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov.l r9, @-r15
    mov.l r8, @-r15
    mov #0x1, r8
    mov.l   .L_pool_0601481C, r9
    mov #0x2B, r10
    mov.w   DAT_06014818, r11
    mov #0x0, r7
    extu.b r8, r13
    mov.l   .L_pool_06014820, r5
    mov r7, r6
    extu.w r7, r3
    mov.l   .L_pool_06014824, r2
    mov.w r3, @r2
    mov r11, r1
    add #-0x4B, r1
    mov.l   .L_pool_06014828, r2
    mov.l r1, @r2
.L_06014796:
    mov r9, r0
    mov.b @r5+, r1
    mov.b @r0+, r2
    extu.b r1, r1
    extu.b r2, r2
    cmp/eq r1, r2
    bf/s    .L_060147A8
    mov r7, r14
    add #0x1, r14
.L_060147A8:
    mov.b @r0+, r3
    mov.b @r5+, r1
    extu.b r3, r3
    extu.b r1, r1
    cmp/eq r1, r3
    bf      .L_060147B6
    add #0x1, r14
.L_060147B6:
    mov.b @r0, r2
    mov.b @r5+, r1
    extu.b r2, r2
    extu.b r1, r1
    cmp/eq r1, r2
    bf      .L_060147C4
    add #0x1, r14
.L_060147C4:
    mov r14, r0
    cmp/eq #0x3, r0
    bf      .L_06014840
    mov r6, r3
    mov.l   .L_pool_0601482C, r2
    mov.l   .L_pool_06014828, r0
    shll2 r3
    add r2, r3
    mov.l @r3, r1
    mov #0x2, r3
    mov.l r1, @r0
    cmp/hs r3, r6
    bt      .L_06014838
    cmp/hs r10, r6
    bt/s    .L_060147E8
    mov r9, r14
    bra     .L_060147EA
    nop
.L_060147E8:
    mov r10, r6
.L_060147EA:
    mov r6, r5
    mov.l   .L_pool_06014830, r0
    shll2 r5
    mov.l @r0, r0
    and #0x3, r0
    add r0, r5
    exts.w r5, r5
    mov r5, r3
    shll r5
    add r3, r5
    exts.w r5, r5
    mov.l   .L_pool_06014834, r2
    add r2, r5
    mov.b @r5+, r0
    mov.b r0, @r14
    add #0x1, r14
    mov.b @r5+, r1
    mov.b r1, @r14
    add #0x1, r14
    mov.b @r5+, r2
    mov.b r2, @r14
    bra     .L_06014840
    extu.b r11, r13

    .global DAT_06014818
DAT_06014818:
    .2byte  0x00FF
    .2byte  0xFFFF
.L_pool_0601481C:
    .4byte  sym_06084B14
.L_pool_06014820:
    .4byte  sym_0605B3C4
.L_pool_06014824:
    .4byte  sym_06084FB8
.L_pool_06014828:
    .4byte  sym_0607EBCC
.L_pool_0601482C:
    .4byte  sym_0605B164
.L_pool_06014830:
    .4byte  sym_0607EBC8
.L_pool_06014834:
    .4byte  sym_0605B4A8
.L_06014838:
    extu.b r7, r13
    extu.w r8, r2
    mov.l   .L_pool_06014864, r3
    mov.w r2, @r3
.L_06014840:
    mov.b @r5, r2
    extu.b r2, r2
    cmp/eq r11, r2
    bf/s    .L_0601484C
    add #0x1, r6
    extu.b r7, r13
.L_0601484C:
    extu.b r13, r0
    cmp/eq #0x1, r0
    bt      .L_06014796
    mov.l r6, @r4
    mov r13, r0
    mov.l @r15+, r8
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_pool_06014864:
    .4byte  sym_06084FB8
