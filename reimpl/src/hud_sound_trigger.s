/* hud_sound_trigger -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x06010B54 - 0x06010BC4
 * Auto-generated by tools/generate_l3_tu.py
 *
 * VERIFIED: dispatches HUD sound effects via sound_cmd_dispatch.
 * Zero drawing code — no VDP writes, no sprite commands, no coordinates.
 * Method: code audit — only external call is jsr sound_cmd_dispatch.
 *         55 instructions, every one accounted for.
 * Date: 2026-02-28
 *
 * Path A (hud_active_flag != 0):
 *   Checks scale_mode_flag. If scale_mode == 1, plays the fixed
 *   sound 0xAB110AFF. Otherwise plays an alternate sound loaded
 *   from a cross-TU pool entry (0xAB110BFF).
 *
 * Path B (hud_active_flag == 0):
 *   Indexes into a display list table (sym_0604483C) using the
 *   car/sprite selector (sym_0607EAB8) as a dword offset, and
 *   passes the resulting entry as the sound parameter.
 *
 * In both paths, r4 = 0 (channel 0) and r5 = sound command ID.
 * The call target is sound_cmd_dispatch, loaded into r14 on entry.
 *
 * Args:    none (reads global state)
 * Returns: nothing (void)
 * Calls:   sound_cmd_dispatch(channel=0, sound_id)
 */

    .section .text.FUN_06010B54


    .global hud_sound_trigger
    .type hud_sound_trigger, @function
hud_sound_trigger:
    mov.l r14, @-r15
    sts.l pr, @-r15
    mov.l   .L_pool_06010B94, r14
    mov.l   .L_pool_06010B98, r0
    mov.l @r0, r0
    tst r0, r0
    bt      .L_hud_inactive
    mov.l   .L_pool_06010B9C, r0
    mov.l @r0, r0
    cmp/eq #0x1, r0
    bf      .L_scale_mode_alt
    mov.l   .L_pool_06010BA0, r5
    bra     .L_call_sound_dispatch
    nop
    .4byte  0x06FC0200
    .4byte  0x00E100E2
    .4byte  0x009007A2
    .4byte  sym_06063F42
    .4byte  sym_06063D9E
    .4byte  sym_0607887F
    .4byte  sym_06078868
    .4byte  sym_0605ACE3
    .4byte  sym_060284AE
.L_pool_06010B94:
    .4byte  sound_cmd_dispatch
.L_pool_06010B98:
    .4byte  sym_0607EAE0
.L_pool_06010B9C:
    .4byte  sym_06078644
.L_pool_06010BA0:
    .4byte  0xAB110AFF
.L_scale_mode_alt:
    .byte   0xD5, 0x2B    /* mov.l .L_pool_06010C54, r5 */
.L_call_sound_dispatch:
    jsr @r14
    mov #0x0, r4
    bra     .L_epilogue
    nop
.L_hud_inactive:
    .byte   0xD5, 0x2A    /* mov.l .L_pool_06010C58, r5 */
    .byte   0xD3, 0x2A    /* mov.l .L_pool_06010C5C, r3 */
    mov.l @r5, r5
    shll2 r5
    add r3, r5
    mov.l @r5, r5
    jsr @r14
    mov #0x0, r4
.L_epilogue:
    lds.l @r15+, pr
    rts
    mov.l @r15+, r14
