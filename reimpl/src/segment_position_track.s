/* segment_position_track -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x06005ECC - 0x060061C8
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_06005ECC


    .global segment_position_track
    .type segment_position_track, @function
segment_position_track:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov.l r9, @-r15
    mov.l r8, @-r15
    sts.l pr, @-r15
    add #-0x1C, r15
    mov.l   .L_pool_06005FC0, r8
    mov.l   .L_pool_06005FC4, r9
    mov.l   .L_pool_06005FC8, r10
    mov.l   .L_pool_06005FCC, r12
    mov.l   .L_pool_06005FD0, r14
    mov.l @r14, r14
    mov.l @(16, r14), r13
    mov.l @(20, r14), r3
    mov.l r3, @r15
    mov.l   .L_pool_06005FD4, r3
    jsr @r3
    mov.l @(24, r14), r11
    mov.l   .L_pool_06005FD8, r3
    jsr @r3
    nop
    mov.l @(32, r14), r4
    mov.l   .L_pool_06005FDC, r2
    mov.l   .L_pool_06005FE0, r3
    mov.l @r2, r2
    jsr @r3
    add r2, r4
    mov.l   .L_pool_06005FE4, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    mov r9, r5
    mov.l   .L_pool_06005FEC, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    mov r12, r5
    mov.l   .L_pool_06005FF0, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    mov r8, r5
    mov.l   .L_pool_06005FF4, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    mov r10, r5
    mov.l   .L_pool_06005FF8, r5
    mov.l   .L_pool_06005FFC, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    nop
    mov.l   .L_pool_06006000, r5
    mov.l   .L_pool_06006004, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    nop
    mov.l   .L_pool_06006008, r5
    mov.l   .L_pool_0600600C, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    nop
    mov.l   .L_pool_06006010, r5
    mov.l   .L_pool_06006014, r4
    mov.l   .L_pool_06005FE8, r3
    jsr @r3
    nop
    mov.l @r9, r2
    add r13, r2
    mov.l r2, @r9
    mov.l @r15, r3
    mov.l @(4, r9), r2
    add r3, r2
    mov.l r2, @(4, r9)
    mov.l @(8, r9), r3
    add r11, r3
    mov.l r3, @(8, r9)
    mov.l @r12, r2
    add r13, r2
    mov.l r2, @r12
    mov.l @r15, r3
    mov.l @(4, r12), r2
    add r3, r2
    mov.l r2, @(4, r12)
    mov.l @(8, r12), r3
    add r11, r3
    mov.l r3, @(8, r12)
    mov.l @r8, r2
    add r13, r2
    mov.l r2, @r8
    mov.l @r15, r3
    mov.l @(4, r8), r2
    add r3, r2
    mov.l r2, @(4, r8)
    mov.l @(8, r8), r3
    add r11, r3
    mov.l r3, @(8, r8)
    mov.l @r10, r2
    add r13, r2
    mov.l r2, @r10
    mov.l @r15, r3
    mov.l @(4, r10), r2
    add r3, r2
    mov.l r2, @(4, r10)
    mov.l @(8, r10), r3
    add r11, r3
    mov.l r3, @(8, r10)
    mov.l   .L_pool_06005FF8, r4
    mov.l @r4, r2
    add r13, r2
    mov.l r2, @r4
    mov.l @(8, r4), r3
    add r11, r3
    mov.l r3, @(8, r4)
    mov.l   .L_pool_06006000, r4
    mov.l @r4, r2
    add r13, r2
    mov.l r2, @r4
    mov.l @(8, r4), r3
    add r11, r3
    bra     .L_06006018
    nop
    .2byte  0xFFFF
.L_pool_06005FC0:
    .4byte  sym_06063E88
.L_pool_06005FC4:
    .4byte  sym_06063E4C
.L_pool_06005FC8:
    .4byte  sym_06063E74
.L_pool_06005FCC:
    .4byte  sym_06063E60
.L_pool_06005FD0:
    .4byte  sym_0607E944
.L_pool_06005FD4:
    .4byte  sym_06026DBC
.L_pool_06005FD8:
    .4byte  sym_06026E0C
.L_pool_06005FDC:
    .4byte  sym_06063F10
.L_pool_06005FE0:
    .4byte  mat_rot_y
.L_pool_06005FE4:
    .4byte  sym_0604464C
.L_pool_06005FE8:
    .4byte  mat_vec_transform
.L_pool_06005FEC:
    .4byte  sym_06044640
.L_pool_06005FF0:
    .4byte  sym_06044658
.L_pool_06005FF4:
    .4byte  sym_06044664
.L_pool_06005FF8:
    .4byte  sym_06063E9C
.L_pool_06005FFC:
    .4byte  sym_06044688
.L_pool_06006000:
    .4byte  sym_06063EB0
.L_pool_06006004:
    .4byte  sym_0604467C
.L_pool_06006008:
    .4byte  sym_06063ED8
.L_pool_0600600C:
    .4byte  sym_06044694
.L_pool_06006010:
    .4byte  sym_06063EC4
.L_pool_06006014:
    .4byte  sym_060446A0
.L_06006018:
    mov.l r3, @(8, r4)
    mov r9, r6
    mov.l   .L_pool_0600611C, r4
    add #0xE, r6
    mov.l @r4, r2
    add r13, r2
    mov.l r2, @r4
    mov.l @(8, r4), r3
    add r11, r3
    mov.l r3, @(8, r4)
    mov.l   .L_pool_06006120, r4
    mov.l @r4, r2
    add r13, r2
    mov.l r2, @r4
    mov.l @(8, r4), r3
    add r11, r3
    mov.l r3, @(8, r4)
    mov.l r6, @-r15
    mov.l @(8, r9), r5
    mov.l   .L_pool_06006124, r3
    jsr @r3
    mov.l @r9, r4
    mov r0, r4
    mov r9, r5
    mov.l   .L_pool_06006128, r3
    jsr @r3
    mov.l @r15+, r6
    mov r12, r6
    add #0xE, r6
    mov.l r6, @-r15
    mov.l @(8, r12), r5
    mov.l   .L_pool_06006124, r3
    jsr @r3
    mov.l @r12, r4
    mov r0, r4
    mov r12, r5
    mov.l   .L_pool_06006128, r3
    jsr @r3
    mov.l @r15+, r6
    mov r8, r6
    add #0xE, r6
    mov.l r6, @-r15
    mov.l @(8, r8), r5
    mov.l   .L_pool_06006124, r3
    jsr @r3
    mov.l @r8, r4
    mov r0, r4
    mov r8, r5
    mov.l   .L_pool_06006128, r3
    jsr @r3
    mov.l @r15+, r6
    mov r10, r6
    add #0xE, r6
    mov.l r6, @-r15
    mov.l @(8, r10), r5
    mov.l   .L_pool_06006124, r3
    jsr @r3
    mov.l @r10, r4
    mov r0, r4
    mov r10, r5
    mov.l   .L_pool_06006128, r3
    jsr @r3
    mov.l @r15+, r6
    mov r15, r5
    mov.l @(4, r12), r2
    mov.l @(4, r9), r3
    mov.l @(4, r8), r1
    add r3, r2
    add r1, r2
    mov.l @(4, r10), r3
    add r3, r2
    mov r2, r3
    shar r3
    shar r3
    mov.l r3, @r15
    mov.l r3, @(20, r14)
    mov.l   .L_pool_0600612C, r4
    mov.l   .L_pool_06006130, r3
    jsr @r3
    add #0x10, r5
    mov.l @(16, r15), r2
    mov r15, r6
    add r13, r2
    add #0x4, r6
    mov.l r2, @(16, r15)
    mov.l @r15, r3
    mov.l @(20, r15), r2
    add r3, r2
    mov.l r2, @(20, r15)
    mov.l @(24, r15), r2
    add r11, r2
    mov.l r2, @(24, r15)
    mov.l r6, @-r15
    mov r15, r5
    add #0x14, r5
    mov.l r5, @-r15
    mov.l @(32, r15), r5
    mov.l   .L_pool_06006124, r2
    jsr @r2
    mov.l @(24, r15), r4
    mov r0, r4
    mov.l @r15+, r5
    mov.l   .L_pool_06006128, r3
    jsr @r3
    mov.l @r15+, r6
    mov.l @r15, r2
    mov.l @(20, r15), r3
    cmp/eq r3, r2
    bt      .L_06006104
    mov.l   .L_pool_06006134, r0
    mov.l @r0, r0
    cmp/eq #0x1, r0
    bf      .L_06006144
    mov.w   DAT_06006116, r0
    mov.w   .L_wpool_06006118, r2
    mov.l @(r0, r14), r3
    cmp/ge r2, r3
    bf      .L_06006144
.L_06006104:
    mov.l @(4, r9), r5
    mov.l @(4, r12), r2
    mov.l   .L_fp_half, r4
    mov.l   .L_pool_0600613C, r3
    jsr @r3
    add r2, r5
    mov.l   .L_pool_06006140, r13
    bra     .L_06006148
    mov r0, r11

    .global DAT_06006116
DAT_06006116:
    .2byte  0x01EC
.L_wpool_06006118:
    .2byte  0x00DC
    .2byte  0xFFFF
.L_pool_0600611C:
    .4byte  sym_06063ED8
.L_pool_06006120:
    .4byte  sym_06063EC4
.L_pool_06006124:
    .4byte  sym_06006838
.L_pool_06006128:
    .4byte  scene_render_alt
.L_pool_0600612C:
    .4byte  sym_060446AC
.L_pool_06006130:
    .4byte  mat_vec_transform
.L_pool_06006134:
    .4byte  sym_0607EAD8
.L_fp_half:
    .4byte  0x00008000                  /* 0.5 (16.16 fixed-point) */
.L_pool_0600613C:
    .4byte  fpmul
.L_pool_06006140:
    .4byte  0x0002CCCC
.L_06006144:
    mov.l @(20, r15), r11
    mov.l   .L_pool_060061B0, r13
.L_06006148:
    mov.l @(4, r10), r5
    mov.l @(4, r8), r3
    mov.l   .L_fp_half_060061B4, r4
    add r3, r5
    mov.l   .L_pool_060061B8, r3
    jsr @r3
    nop
    mov.l r0, @(8, r15)
    mov.l @(4, r10), r5
    mov.l @(4, r9), r3
    mov.l   .L_fp_half_060061B4, r4
    add r3, r5
    mov.l   .L_pool_060061B8, r3
    jsr @r3
    nop
    mov.l r0, @r15
    mov.l @(4, r8), r5
    mov.l @(4, r12), r3
    mov.l   .L_fp_half_060061B4, r4
    add r3, r5
    mov.l   .L_pool_060061B8, r3
    jsr @r3
    nop
    mov r11, r4
    mov.l r0, @(12, r15)
    mov.l @(8, r15), r3
    sub r3, r4
    mov.l   .L_pool_060061BC, r3
    jsr @r3
    mov r13, r5
    mov.l r0, @(28, r14)
    mov.l @r15, r4
    mov.l @(12, r15), r2
    mov.l   .L_pool_060061C0, r5
    mov.l   .L_pool_060061BC, r3
    jsr @r3
    sub r2, r4
    mov.l r0, @(36, r14)
    mov.l   .L_pool_060061C4, r4
    mov.l @r4, r2
    add #-0x30, r2
    mov.l r2, @r4
    add #0x1C, r15
    lds.l @r15+, pr
    mov.l @r15+, r8
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_pool_060061B0:
    .4byte  0x000D6666
.L_fp_half_060061B4:
    .4byte  0x00008000                  /* 0.5 (16.16 fixed-point) */
.L_pool_060061B8:
    .4byte  fpmul
.L_pool_060061BC:
    .4byte  atan2
.L_pool_060061C0:
    .4byte  0x00011998
.L_pool_060061C4:
    .4byte  sym_06089EDC
