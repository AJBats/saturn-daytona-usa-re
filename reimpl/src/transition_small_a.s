/* transition_small_a -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0600F822 - 0x0600F870
 * Auto-generated by tools/generate_l3_tu.py
 *
 * Small screen transition initializer. Sets up state for a short
 * transition sequence (e.g., between menu screens):
 *
 *   1. sound_cmd_dispatch(0, 0xAB1101FF) — play transition sound
 *   2. anim_ui_transition(0) — reset/init UI animation state
 *   3. hud_course_render() — render initial HUD frame
 *   4. Set transition countdown timer to 0x78 (120 frames = 2 sec)
 *   5. Set game state byte to 0x3
 *
 * Args: none
 * Returns: void
 * Calls: sound_cmd_dispatch, anim_ui_transition, hud_course_render
 */

    .section .text.FUN_0600F822


    .global transition_small_a
    .type transition_small_a, @function
transition_small_a:
    sts.l pr, @-r15                      ! save return address
    .byte   0xD5, 0x0C    /* mov.l .L_pool_sound_id, r5 */
    .byte   0xD3, 0x0D    /* mov.l .L_pool_fn_sound_cmd, r3 */
    jsr @r3                              ! sound_cmd_dispatch(0, 0xAB1101FF)
    mov #0x0, r4                         ! r4 = 0 (channel arg, delay slot)
    .byte   0xD3, 0x0C    /* mov.l .L_pool_fn_anim_ui, r3 */
    jsr @r3                              ! anim_ui_transition(0) — init UI anim
    mov #0x0, r4                         ! r4 = 0 (direction arg, delay slot)
    .byte   0xD3, 0x0C    /* mov.l .L_pool_fn_hud_course, r3 */
    jsr @r3                              ! hud_course_render() — draw initial HUD
    nop                                  ! (delay slot)
    mov #0x78, r2                        ! r2 = 0x78 (120 frames = 2 sec countdown)
    .byte   0xD3, 0x0B    /* mov.l .L_pool_countdown_timer, r3 */
    mov.w r2, @r3                        ! transition_countdown = 120
    mov #0x3, r2                         ! r2 = 0x3 (new game state)
    .byte   0xD3, 0x0A    /* mov.l .L_pool_game_state, r3 */
    lds.l @r15+, pr                      ! restore return address
    rts                                  ! return
    mov.b r2, @r3                        ! game_state_byte = 3 (delay slot)
    .4byte  0x0800FFFF                   /* unreferenced pool data (padding) */
    .4byte  sym_06085FF4                 /* unreferenced pool: &2p_mode_flag */
    .4byte  g_pad_state                 /* unreferenced pool: &input_state */
    .4byte  sym_06078663                 /* unreferenced pool data */
.L_pool_sound_id:
    .4byte  0xAB1101FF                   /* sound ID: transition sound */
.L_pool_fn_sound_cmd:
    .4byte  sound_cmd_dispatch           /* sound command dispatcher */
.L_pool_fn_anim_ui:
    .4byte  anim_ui_transition           /* UI animation transition function */
.L_pool_fn_hud_course:
    .4byte  hud_course_render            /* HUD course rendering function */
.L_pool_countdown_timer:
    .4byte  sym_0607887C                 /* &transition countdown timer (16-bit word) */
.L_pool_game_state:
    .4byte  sym_0607887F                 /* &game state byte (0x3 = race setup) */
