/* scene_color_intensity -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x06038794 - 0x06038E54
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_06038794


    .global scene_color_intensity
    .type scene_color_intensity, @function
scene_color_intensity:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov.l r9, @-r15
    sts.l pr, @-r15
    mov.l   .L_pool_0603881C, r9
    mov.l   .L_sym_0603C0A0, r10
    mov.w   DAT_0603881a, r11
    mov.l   .L_pool_06038824, r12
    mov r4, r14
    mov r5, r13
    mov.l   .L_sym_060635A8, r0
    bra     .L_060387F2
    mov.l @r0, r0
.L_060387B4:
    cmp/gt r9, r14
    bf      .L_060387BC
    bra     .L_060387CA
    mov r9, r14
.L_060387BC:
    cmp/ge r11, r14
    bt      .L_060387C4
    bra     .L_060387CA
    mov r11, r14
.L_060387C4:
    tst r14, r14
    bf      .L_060387CA
    mov r12, r14
.L_060387CA:
    cmp/gt r9, r13
    bf      .L_060387D2
    bra     .L_060387E0
    mov r9, r13
.L_060387D2:
    cmp/ge r11, r13
    bt      .L_060387DA
    bra     .L_060387E0
    mov r11, r13
.L_060387DA:
    tst r13, r13
    bf      .L_060387E0
    mov r12, r13
.L_060387E0:
    mov r14, r5
    jsr @r10
    mov r12, r4
    mov r0, r14
    mov r13, r5
    jsr @r10
    mov r12, r4
    bra     .L_06038802
    mov r0, r13
.L_060387F2:
    cmp/eq #0x1, r0
    bt      .L_060387E0
    cmp/eq #0x2, r0
    bt      .L_060387E0
    cmp/eq #0x4, r0
    bt      .L_060387B4
    cmp/eq #0x8, r0
    bt      .L_060387B4
.L_06038802:
    mov.l   .L_sym_060A3E38, r6
    mov.l   .L_sym_060A3E68, r5
    mov.l   .L_sym_060A3DF8, r4
    mov.l   .L_sym_060635A8, r0
    bra     .L_06038894
    mov.l @r0, r0
.L_0603880E:
    mov.l r14, @(8, r4)
    bra     .L_060388A4
    mov.l r13, @(12, r4)
.L_06038814:
    mov.l r14, @(24, r4)
    bra     .L_060388A4
    mov.l r13, @(28, r4)

    .global DAT_0603881a
DAT_0603881a:
    .2byte  0x4000
.L_pool_0603881C:
    .4byte  0x00FF0000
.L_sym_0603C0A0:
    .4byte  sym_0603C0A0
.L_pool_06038824:
    .4byte  0x00010000
.L_sym_060635A8:
    .4byte  sym_060635A8
.L_sym_060A3E38:
    .4byte  sym_060A3E38
.L_sym_060A3E68:
    .4byte  sym_060A3E68
.L_sym_060A3DF8:
    .4byte  sym_060A3DF8
.L_06038838:
    mov r5, r4
    mov #0x4C, r0
    mov.l r14, @(r0, r4)
    mov #0x50, r0
    mov.l r13, @(r0, r4)
    mov.w @(4, r6), r0
    extu.w r0, r0
    tst #0xFF, r0
    bt      .L_060388A4
    mov #0x0, r6
    mov r6, r5
    mov r6, r4
    lds.l @r15+, pr
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    mov.l   .L_scene_color_matrix, r3
    jmp @r3
    mov.l @r15+, r14
.L_06038862:
    mov #0x4C, r0
    mov.w   .L_wpool_060388B4, r4
    add r5, r4
    mov.l r14, @(r0, r4)
    mov #0x50, r0
    mov.l r13, @(r0, r4)
    mov.w @(4, r6), r0
    mov.l   .L_pool_060388BC, r2
    mov r0, r3
    extu.w r3, r3
    and r2, r3
    tst r3, r3
    bt      .L_060388A4
    mov #0x0, r6
    mov r6, r5
    mov r6, r4
    lds.l @r15+, pr
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    mov.l   .L_scene_color_matrix, r3
    jmp @r3
    mov.l @r15+, r14
.L_06038894:
    cmp/eq #0x1, r0
    bt      .L_06038838
    cmp/eq #0x2, r0
    bt      .L_06038862
    cmp/eq #0x4, r0
    bt      .L_0603880E
    cmp/eq #0x8, r0
    bt      .L_06038814
.L_060388A4:
    lds.l @r15+, pr
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_wpool_060388B4:
    .2byte  0x0080
    .2byte  0xFFFF
.L_scene_color_matrix:
    .4byte  scene_color_matrix
.L_pool_060388BC:
    .4byte  0x0000FF00
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000

    .global channel_nibble_config
    .type channel_nibble_config, @function
channel_nibble_config:
    mov.l r14, @-r15
    mov #0x1, r7
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov.l r9, @-r15
    sts.l pr, @-r15
    mov.l   .L_pool_06038CD8, r9
    mov.w   DAT_06038cc8, r10
    mov.l   .L_pool_06038CDC, r11
    mov.l   .L_pool_06038CE0, r12
    mov.l   .L_sym_060A4D30, r13
    mov.l   .L_sym_060A4D58, r14
    mov.l   .L_sym_060A4D28, r6
    mov.w   .L_wpool_06038CCA, r3
    and r4, r3
    tst r3, r3
    bt/s    .L_06038C14
    extu.b r5, r5
    mov r7, r0
    mov.w   .L_wpool_06038CCC, r1
    mov.l   .L_sym_06034F78, r3
    jsr @r3
    mov r14, r2
    mov.w @r6, r2
    extu.w r2, r2
    and r12, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov.w r2, @r6
.L_06038C14:
    mov.w   .L_wpool_06038CCE, r2
    and r4, r2
    tst r2, r2
    bt      .L_06038C36
    mov r7, r0
    mov.w   .L_wpool_06038CCC, r1
    mov.l   .L_sym_06034F78, r3
    jsr @r3
    mov r14, r2
    mov.w @r6, r2
    extu.w r2, r2
    and r11, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    extu.w r2, r2
    mov.w r2, @r6
.L_06038C36:
    mov.w   .L_wpool_06038CD0, r2
    and r4, r2
    tst r2, r2
    bt      .L_06038C5A
    mov r7, r0
    mov.w   .L_wpool_06038CCC, r1
    mov.l   .L_sym_06034F78, r3
    jsr @r3
    mov r14, r2
    mov.w @(2, r6), r0
    mov r0, r2
    extu.w r2, r2
    and r12, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(2, r6)
.L_06038C5A:
    mov.w   .L_wpool_06038CD2, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038C80
    mov r7, r0
    mov.w   .L_wpool_06038CCC, r1
    mov.l   .L_sym_06034F78, r3
    jsr @r3
    mov r14, r2
    mov.w @(2, r6), r0
    mov r0, r2
    extu.w r2, r2
    and r11, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(2, r6)
.L_06038C80:
    mov.w   DAT_06038cd4, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038CA4
    mov r7, r0
    mov.w   .L_wpool_06038CCC, r1
    mov.l   .L_sym_06034F78, r3
    jsr @r3
    mov r14, r2
    mov.w @(4, r6), r0
    mov r0, r2
    extu.w r2, r2
    and r12, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(4, r6)
.L_06038CA4:
    mov.w   DAT_06038cd6, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038CFA
    mov r7, r0
    mov.w   .L_wpool_06038CCC, r1
    mov.l   .L_sym_06034F78, r3
    jsr @r3
    mov r14, r2
    mov.w @(4, r6), r0
    mov r0, r2
    extu.w r2, r2
    and r11, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    bra     .L_06038CF4
    nop

    .global DAT_06038cc8
DAT_06038cc8:
    .2byte  0x00FF
.L_wpool_06038CCA:
    .2byte  0x0100
.L_wpool_06038CCC:
    .2byte  0x0101
.L_wpool_06038CCE:
    .2byte  0x0200
.L_wpool_06038CD0:
    .2byte  0x0400
.L_wpool_06038CD2:
    .2byte  0x0800

    .global DAT_06038cd4
DAT_06038cd4:
    .2byte  0x1000

    .global DAT_06038cd6
DAT_06038cd6:
    .2byte  0x2000
.L_pool_06038CD8:
    .4byte  0x0000FF00
.L_pool_06038CDC:
    .4byte  0x0000F0FF
.L_pool_06038CE0:
    .4byte  0x0000FFF0
.L_sym_060A4D30:
    .4byte  sym_060A4D30
.L_sym_060A4D58:
    .4byte  sym_060A4D58
.L_sym_060A4D28:
    .4byte  sym_060A4D28
.L_sym_06034F78:
    .4byte  sym_06034F78
.L_06038CF4:
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(4, r6)
.L_06038CFA:
    mov.w   DAT_06038e1a, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038D1E
    mov r7, r0
    mov.w   .L_wpool_06038E1C, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @(6, r6), r0
    mov r0, r2
    extu.w r2, r2
    and r12, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(6, r6)
.L_06038D1E:
    mov.l   .L_pool_06038E28, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038D44
    mov r7, r0
    mov.w   .L_wpool_06038E1C, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @(6, r6), r0
    mov r0, r2
    extu.w r2, r2
    and r11, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(6, r6)
.L_06038D44:
    mov #0x4, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038D64
    mov r7, r0
    mov.w   .L_wpool_06038E1E, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @r13, r2
    extu.w r2, r2
    and r9, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov.w r2, @r13
.L_06038D64:
    mov #0x2, r2
    and r4, r2
    tst r2, r2
    bt      .L_06038D84
    mov r7, r0
    mov.w   .L_wpool_06038E1E, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @r13, r2
    extu.w r2, r2
    and r9, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov.w r2, @r13
.L_06038D84:
    mov #0x8, r2
    and r4, r2
    tst r2, r2
    bt      .L_06038DA6
    mov r7, r0
    mov.w   .L_wpool_06038E1E, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @r13, r2
    extu.w r2, r2
    and r10, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    extu.w r2, r2
    mov.w r2, @r13
.L_06038DA6:
    mov.w   .L_wpool_06038E20, r2
    and r4, r2
    tst r2, r2
    bt      .L_06038DC8
    mov r7, r0
    mov.w   .L_wpool_06038E1E, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @r13, r2
    extu.w r2, r2
    and r10, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    extu.w r2, r2
    mov.w r2, @r13
.L_06038DC8:
    mov #0x10, r2
    and r4, r2
    tst r2, r2
    bt      .L_06038DEC
    mov r7, r0
    mov.w   .L_wpool_06038E1E, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @(2, r13), r0
    mov r0, r2
    extu.w r2, r2
    and r9, r2
    extu.w r5, r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(2, r13)
.L_06038DEC:
    mov #0x20, r3
    and r4, r3
    tst r3, r3
    bt      .L_06038E12
    mov r7, r0
    mov.w   .L_wpool_06038E1E, r1
    mov.l   .L_sym_06034F78_2, r3
    jsr @r3
    mov r14, r2
    mov.w @(2, r13), r0
    mov r0, r2
    extu.w r2, r2
    and r10, r2
    extu.w r5, r3
    shll8 r3
    or r3, r2
    extu.w r2, r2
    mov r2, r0
    mov.w r0, @(2, r13)
.L_06038E12:
    and r7, r4
    tst r4, r4
    bra     .L_06038E2C
    nop

    .global DAT_06038e1a
DAT_06038e1a:
    .2byte  0x4000
.L_wpool_06038E1C:
    .2byte  0x0101
.L_wpool_06038E1E:
    .2byte  0x0201
.L_wpool_06038E20:
    .2byte  0x0080
    .2byte  0xFFFF
.L_sym_06034F78_2:
    .4byte  sym_06034F78
.L_pool_06038E28:
    .4byte  0x00008000
.L_06038E2C:
    bt      .L_06038E3C
    mov r7, r0
    mov.w   .L_wpool_06038E4C, r1
    mov.l   .L_sym_06034F78_3, r3
    jsr @r3
    mov r14, r2
    mov r5, r0
    mov.w r0, @(4, r13)
.L_06038E3C:
    lds.l @r15+, pr
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_wpool_06038E4C:
    .2byte  0x0201
    .2byte  0xFFFF
.L_sym_06034F78_3:
    .4byte  sym_06034F78
