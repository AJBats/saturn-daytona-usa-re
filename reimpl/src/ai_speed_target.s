/* ai_speed_target -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0600C8D0 - 0x0600CB90
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_0600C8D0


    .global ai_speed_target
    .type ai_speed_target, @function
ai_speed_target:
    sts.l pr, @-r15
    add #-0x4, r15
    mov.l r5, @r15
    mov.l @(8, r5), r5
    mov.l @(24, r14), r3
    mov.l @r15, r4
    sub r3, r5
    mov.l @r4, r4
    mov.l @(16, r14), r3
    sub r3, r4
    mov.l   .L_atan2, r3
    jsr @r3
    nop
    neg r0, r5
    mov.l @(40, r14), r3
    mov.w   DAT_0600c962, r6
    extu.w r5, r4
    extu.w r3, r3
    sub r3, r4
    exts.w r4, r4
    cmp/gt r6, r4
    bf      .L_0600C90A
    mov.l @(40, r14), r3
    extu.w r3, r3
    add r6, r3
    exts.w r3, r3
    mov.l r3, @(40, r14)
    bra     .L_0600C920
    nop
.L_0600C90A:
    mov.w   DAT_0600c964, r2
    cmp/ge r2, r4
    bt      .L_0600C91E
    mov.l @(40, r14), r2
    extu.w r2, r2
    mov.l   .L_const_0xfa00, r3
    add r3, r2
    exts.w r2, r2
    bra     .L_0600C920
    mov.l r2, @(40, r14)
.L_0600C91E:
    mov.l r5, @(40, r14)
.L_0600C920:
    add #0x4, r15
    lds.l @r15+, pr
    rts
    mov.l @r15+, r14
    .4byte  0x5543971C
    .4byte  0x45194501
    .4byte  0x655D6353
    .4byte  0x45283538
    .4byte  0x45214521
    .4byte  0x45214521
    .4byte  0x45214521
    .4byte  0x45214521
    .4byte  0x665D3673
    .4byte  0x8901A001
    .4byte  0x62636273
    .4byte  0xE048034E
    .4byte  0x33280436
    .4byte  0xE050000B
    .2byte  0x0436

    .global DAT_0600c962
DAT_0600c962:
    .2byte  0x0600

    .global DAT_0600c964
DAT_0600c964:
    .2byte  0xFA00
    .2byte  0x2000
.L_atan2:
    .4byte  atan2
.L_const_0xfa00:
    .4byte  0x0000FA00
    .4byte  0x9038E345
    .4byte  0x054E3533
    .4byte  0x8B0AE362
    .4byte  0x35378907
    .4byte  0x75BB4500
    .4byte  0xD318353C
    .4byte  0x62515143
    .4byte  0x312C1413
    .4byte  0x000B0009

    .global track_position_calc
    .type track_position_calc, @function
track_position_calc:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov.l r9, @-r15
    mov.l r8, @-r15
    sts.l pr, @-r15
    add #-0x1C, r15
    mov.w   DAT_0600c9e6, r9
    mov.l   .L_atan2_2, r10
    mov.l   .L_sym_0607EB88, r11
    mov.l   .L_sym_0607E944, r12
    mov.w   DAT_0600c9e4, r0
    mov.l @r12, r12
    mov.l @(r0, r12), r4
    add #0x1, r4
    shll2 r4
    shll r4
    mov r4, r5
    add #0x3, r5
    shll2 r5
    shll2 r5
    mov.l @r11, r3
    add r3, r5
    mov.w @(10, r5), r0
    mov r0, r2
    shll2 r2
    mov.l r2, @(8, r15)
    mov r15, r3
    add #0xC, r3
    mov.l r3, @(4, r15)
    mov r3, r14
    mov r4, r13
    shll2 r13
    mov r15, r3
    add #0x1C, r3
    mov.l r3, @r15
    bra     .L_0600CA2E
    shll2 r13

    .global DAT_0600c9e4
DAT_0600c9e4:
    .2byte  0x01EC

    .global DAT_0600c9e6
DAT_0600c9e6:
    .2byte  0x0100
    .4byte  sym_0605A1E0
.L_atan2_2:
    .4byte  atan2
.L_sym_0607EB88:
    .4byte  sym_0607EB88
.L_sym_0607E944:
    .4byte  sym_0607E944
.L_0600C9F8:
    mov.l @r11, r8
    mov.l @(24, r12), r2
    mov.l @(16, r12), r3
    add r13, r8
    mov.l @(4, r8), r5
    mov.l @r8, r4
    sub r2, r5
    jsr @r10
    sub r3, r4
    neg r0, r0
    add #0x10, r13
    mov.w r0, @r14
    add #0x2, r14
    mov.l @r11, r8
    mov.l @(24, r12), r2
    mov.l @(16, r12), r3
    add r13, r8
    mov.l @(4, r8), r5
    mov.l @r8, r4
    sub r2, r5
    jsr @r10
    sub r3, r4
    neg r0, r0
    extu.w r0, r0
    mov.w r0, @r14
    add #0x2, r14
    add #0x10, r13
.L_0600CA2E:
    mov.l @r15, r2
    cmp/hs r2, r14
    bf      .L_0600C9F8
    mov.l @(4, r15), r4
    mov.l @(8, r15), r14
    mov.w @r4, r4
    neg r14, r14
    extu.w r4, r4
    extu.w r14, r14
    add r14, r4
    exts.w r4, r4
    cmp/pz r4
    bt      .L_0600CA4C
    bra     .L_0600CA4E
    neg r4, r7
.L_0600CA4C:
    mov r4, r7
.L_0600CA4E:
    extu.w r7, r7
    mov #0x0, r13
    mov r9, r5
    mov r15, r4
    bra     .L_0600CA76
    add #0xE, r4
.L_0600CA5A:
    mov.w @r4, r6
    extu.w r6, r6
    add r14, r6
    exts.w r6, r6
    cmp/pz r6
    bt      .L_0600CA68
    neg r6, r6
.L_0600CA68:
    extu.w r7, r3
    cmp/gt r6, r3
    bf      .L_0600CA72
    extu.w r6, r7
    extu.w r5, r13
.L_0600CA72:
    add r9, r5
    add #0x2, r4
.L_0600CA76:
    mov.l @r15, r3
    cmp/hs r3, r4
    bf      .L_0600CA5A
    extu.w r13, r13
    mov.w   DAT_0600cac0, r0
    mov.l r13, @(r0, r12)
    add #0x1C, r15
    lds.l @r15+, pr
    mov.l @r15+, r8
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14

    .global heading_smooth_gentle
heading_smooth_gentle:
    mov.l r13, @-r15
    sts.l macl, @-r15
    mov.l   .L_sym_0607E940, r5
    mov.w   DAT_0600cac2, r0
    mov.l @r5, r5
    mov.l @(r0, r5), r6
    add #0x4, r0
    mov.l @(r0, r5), r3
    sub r3, r6
    mov #0x8, r3
    cmp/ge r3, r6
    bt      .L_0600CAC8
    mov #-0x8, r3
    cmp/gt r3, r6
    bf      .L_0600CAC8
    mov.w   DAT_0600cac2, r0
    mov.l @(r0, r5), r3
    add #0x4, r0
    mov.l r3, @(r0, r5)
    bra     .L_0600CAE0
    nop

    .global DAT_0600cac0
DAT_0600cac0:
    .2byte  0x01FC

    .global DAT_0600cac2
DAT_0600cac2:
    .2byte  0x01F8
.L_sym_0607E940:
    .4byte  sym_0607E940
.L_0600CAC8:
    cmp/pl r6
    bf      .L_0600CAD8
    mov.w   DAT_0600cb84, r0
    mov.l @(r0, r5), r3
    add #0x4, r3
    mov.l r3, @(r0, r5)
    bra     .L_0600CAE0
    nop
.L_0600CAD8:
    mov.w   DAT_0600cb84, r0
    mov.l @(r0, r5), r2
    add #-0x4, r2
    mov.l r2, @(r0, r5)
.L_0600CAE0:
    mov.w   DAT_0600cb84, r0
    mov.w   DAT_0600cb86, r3
    mov.l   .L_sym_0607EB88_2, r13
    mov.l @(r0, r5), r7
    extu.w r7, r6
    and r3, r7
    extu.w r7, r7
    shlr2 r7
    shlr2 r7
    shlr2 r7
    tst r7, r7
    bt/s    .L_0600CB4C
    shlr8 r6
    mov #0x7, r3
    cmp/ge r3, r6
    bt      .L_0600CB4C
    mov #0x4, r1
    mov.w   .L_const_0x1ec_w, r0
    sub r7, r1
    mov.l @(r0, r5), r3
    shll2 r3
    shll r3
    add r3, r6
    mov r6, r5
    mov.l @r13, r3
    shll2 r5
    add #0x1, r6
    mov r3, r2
    shll2 r5
    shll2 r6
    add r3, r5
    shll2 r6
    mov.l @r5, r3
    add r2, r6
    mul.l r1, r3
    mov.l @r6, r2
    sts macl, r3
    mul.l r7, r2
    sts macl, r2
    add r2, r3
    shar r3
    shar r3
    mov.l r3, @r4
    mov.l @(4, r5), r3
    mul.l r1, r3
    sts macl, r1
    mov.l @(4, r6), r2
    mul.l r7, r2
    sts macl, r7
    add r7, r1
    shar r1
    shar r1
    bra     .L_0600CB68
    mov.l r1, @(8, r4)
.L_0600CB4C:
    mov.w   .L_const_0x1ec_w, r0
    mov.l @(r0, r5), r2
    shll2 r2
    shll r2
    add r2, r6
    mov r6, r5
    shll2 r5
    shll2 r5
    mov.l @r13, r3
    add r3, r5
    mov.l @r5, r2
    mov.l r2, @r4
    mov.l @(4, r5), r3
    mov.l r3, @(8, r4)
.L_0600CB68:
    mov.w @(8, r5), r0
    mov.w r0, @(12, r4)
    mov.w @(10, r5), r0
    mov r0, r3
    shll2 r3
    exts.w r3, r0
    mov.w r0, @(14, r4)
    mov.w @(12, r5), r0
    mov.w r0, @(16, r4)
    mov #0x0, r0
    mov.w r0, @(18, r4)
    lds.l @r15+, macl
    rts
    mov.l @r15+, r13

    .global DAT_0600cb84
DAT_0600cb84:
    .2byte  0x01FC

    .global DAT_0600cb86
DAT_0600cb86:
    .2byte  0x00FF
.L_const_0x1ec_w:
    .2byte  0x01EC
    .2byte  0xFFFF
.L_sym_0607EB88_2:
    .4byte  sym_0607EB88
