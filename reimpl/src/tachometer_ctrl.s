/* tachometer_ctrl -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x06010AA4 - 0x06010B54
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_06010AA4


    .global tachometer_ctrl
    .type tachometer_ctrl, @function
tachometer_ctrl:
    mov.l r14, @-r15
    extu.w r4, r2
    mov.l r13, @-r15
    sts.l pr, @-r15
    mov.l   .L_pool_06010AE4, r14
    mov.l @r14, r3
    add #-0x1, r3
    mov.l r3, @r14
    mov.w   .L_wpool_06010ACC, r3
    and r3, r2
    tst r2, r2
    bt/s    .L_06010AEC
    mov #0x0, r13
    extu.b r13, r3
    mov.l   .L_pool_06010AE8, r2
    mov.b r3, @r2
    bra     .L_06010B4C
    nop
    .4byte  0x00C00800
.L_wpool_06010ACC:
    .2byte  0x0100
    .2byte  0xFFFF
    .4byte  sym_0605D05C
    .4byte  sym_06059FFC
    .4byte  sym_06063F5C
    .4byte  memcpy_word_idx
    .4byte  sym_0607EAE0
.L_pool_06010AE4:
    .4byte  sym_0607EBCC
.L_pool_06010AE8:
    .4byte  sym_0607887F
.L_06010AEC:
    .byte   0x95, 0x40    /* mov.w .L_wpool_06010B70, r5 */
    mov.l @r14, r3
    cmp/gt r5, r3
    bt      .L_06010B4C
    mov.l @r14, r3
    cmp/pl r3
    bf      .L_06010B04
    extu.w r4, r4
    .byte   0x93, 0x39    /* mov.w .L_wpool_06010B72, r3 */
    and r3, r4
    tst r4, r4
    bt      .L_06010B4C
.L_06010B04:
    .byte   0xD5, 0x1D    /* mov.l .L_pool_06010B7C, r5 */
    .byte   0xD3, 0x1E    /* mov.l .L_pool_06010B80, r3 */
    mov.w @r3, r2
    mov.w r2, @r5
    mov.w @r5, r4
    .byte   0x93, 0x31    /* mov.w .L_wpool_06010B74, r3 */
    extu.w r4, r4
    cmp/eq r3, r4
    bt      .L_06010B22
    .byte   0x93, 0x2E    /* mov.w .L_wpool_06010B76, r3 */
    cmp/eq r3, r4
    bt      .L_06010B22
    mov r4, r0
    cmp/eq #0x4, r0
    bf      .L_06010B26
.L_06010B22:
    extu.w r13, r2
    mov.w r2, @r5
.L_06010B26:
    .byte   0xB0, 0x15    /* bsr 0x06010B54 (external) */
    mov.l r13, @r14
    mov #0xA, r4
    .byte   0xD3, 0x15    /* mov.l .L_pool_06010B84, r3 */
    extu.b r4, r2
    mov.b r2, @r3
    .byte   0xD1, 0x15    /* mov.l .L_pool_06010B88, r1 */
    mov.l @r1, r1
    cmp/hs r4, r1
    bt      .L_06010B4C
    .byte   0xD7, 0x14    /* mov.l .L_pool_06010B8C, r7 */
    .byte   0x96, 0x1C    /* mov.w .L_wpool_06010B78, r6 */
    .byte   0x95, 0x1C    /* mov.w .L_wpool_06010B7A, r5 */
    mov #0xC, r4
    lds.l @r15+, pr
    mov.l @r15+, r13
    .byte   0xD3, 0x12    /* mov.l .L_pool_06010B90, r3 */
    jmp @r3
    mov.l @r15+, r14
.L_06010B4C:
    lds.l @r15+, pr
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
