/* save_data_serialize -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x0603BEB8 - 0x0603BF22
 * Auto-generated by tools/generate_l3_tu.py
 *
 * Wrapper around evt_field_extract (sym_06040220). Pushes r14-r11 onto
 * the stack, where evt_field_extract reads them as stack-passed output
 * pointers, then branches to the epilogue. The caller sets r11-r14 to
 * destination addresses for extracted event fields.
 *
 * The .4byte block between the bra and the epilogue is dead code: a
 * simplified inline copy of evt_field_extract that the compiler bypassed.
 *
 * Calls: evt_field_extract (sym_06040220)
 */

    .section .text.FUN_0603BEB8


    .global save_data_serialize
    .type save_data_serialize, @function
save_data_serialize:
    mov.l r14, @-r15                    ! push r14 (out_byte_1d ptr, also stack arg for evt_field_extract)
    mov.l r13, @-r15                    ! push r13 (out_byte_1c ptr, also stack arg for evt_field_extract)
    mov.l r12, @-r15                    ! push r12 (out_remaining ptr, also stack arg for evt_field_extract)
    mov.l   .L_ptr_evt_field_extract, r3 ! r3 = &evt_field_extract
    jsr @r3                             ! call evt_field_extract (r4=src, r5/r6/r7=out ptrs, stack=r11-r14)
    mov.l r11, @-r15                    ! push r11 (out_field4 ptr, also stack arg for evt_field_extract) [delay slot]
    bra     .L_epilogue                 ! skip dead code block, jump to register restore
    add #0x10, r15                      ! discard 4 pushed regs (16 bytes) [delay slot]
    /* --- dead code: inlined evt_field_extract body, bypassed by bra above --- */
    .4byte  0x25588901                  /* tst r5,r5; bt +1 */
    .4byte  0x63422532                  /* mov.l @r4,r3; mov.l r3,@r5 */
    .4byte  0x26688901                  /* tst r6,r6; bt +1 */
    .4byte  0x53412632                  /* mov.l @(4,r4),r3; mov.l r3,@r6 */
    .4byte  0x2DD88903                  /* tst r13,r13; bt +3 */
    .4byte  0xE01C034C                  /* mov #0x1C,r0; mov.b @(r0,r4),r3 */
    .4byte  0x633C2D32                  /* extu.b r3,r3; mov.l r3,@r13 */
    .4byte  0x27788901                  /* tst r7,r7; bt +1 */
    .4byte  0x53432732                  /* mov.l @(12,r4),r3; mov.l r3,@r7 */
    .4byte  0x2BB88901                  /* tst r11,r11; bt +1 */
    .4byte  0x53442B32                  /* mov.l @(16,r4),r3; mov.l r3,@r11 */
    .4byte  0x2EE88903                  /* tst r14,r14; bt +3 */
    .4byte  0xE01D034C                  /* mov #0x1D,r0; mov.b @(r0,r4),r3 */
    .4byte  0x633C2E32                  /* extu.b r3,r3; mov.l r3,@r14 */
    .4byte  0x2CC88903                  /* tst r12,r12; bt +3 */
    .4byte  0x53435245                  /* mov.l @(12,r4),r3; mov.l @(20,r4),r2 */
    .4byte  0x33282C32                  /* sub r2,r3; mov.l r3,@r12 */
    /* --- end dead code --- */
.L_epilogue:
    lds.l @r15+, pr                     ! restore return address
    mov.l @r15+, r11                    ! restore r11
    mov.l @r15+, r12                    ! restore r12
    mov.l @r15+, r13                    ! restore r13
    rts                                 ! return to caller
    mov.l @r15+, r14                    ! restore r14 [delay slot]
.L_ptr_evt_field_extract:
    .4byte  sym_06040220                /* evt_field_extract */
    .4byte  0x504A000B                  /* embedded: mov.l @(0x28,r4),r0; rts */
    .2byte  0x145A                      /* embedded: mov.l r5,@(0x28,r4) [delay slot] */
