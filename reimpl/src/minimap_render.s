/* minimap_render -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x060155A4 - 0x06015D30
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_060155A4


    .global minimap_render
    .type minimap_render, @function
minimap_render:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    mov.l r10, @-r15
    mov.l r9, @-r15
    mov.l r8, @-r15
    sts.l pr, @-r15
    mov.l   .L_pool_06015668, r8
    mov #0x4, r9
    mov.l   .L_pool_0601566C, r10
    mov.l   .L_pool_06015670, r11
    mov.l   .L_pool_06015674, r13
    mov #0x0, r14
.L_060155C0:
    extu.b r14, r4
    mov r4, r0
    cmp/eq #0x3, r0
    .word 0x0029 /* UNKNOWN */
    tst r4, r4
    .word 0x0129 /* UNKNOWN */
    or r1, r0
    tst r0, r0
    bt      .L_06015614
    extu.b r14, r12
    mov r8, r5
    mov r12, r3
    shll2 r12
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r12
    exts.w r12, r12
    add r13, r12
    jsr @r11
    mov.l @(28, r12), r4
    mov.l r0, @(16, r12)
    mov r10, r5
    jsr @r11
    mov.l @(28, r12), r4
    mov r0, r2
    cmp/pz r2
    bt/s    .L_0601562A
    mov.l r0, @(20, r12)
    extu.b r14, r4
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(20, r4), r2
    neg r2, r2
    bra     .L_0601562A
    mov.l r2, @(20, r4)
.L_06015614:
    extu.b r14, r4
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(28, r4), r2
    mov.l r2, @(16, r4)
.L_0601562A:
    extu.b r14, r4
    mov r4, r3
    add #0x1, r14
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(36, r4), r2
    mov.l @(24, r4), r3
    add r2, r3
    mov.l r3, @(24, r4)
    mov.l @(32, r4), r2
    mov.l @(28, r4), r3
    add r2, r3
    mov.l r3, @(28, r4)
    extu.b r14, r2
    cmp/ge r9, r2
    bf      .L_060155C0
    lds.l @r15+, pr
    mov.l @r15+, r8
    mov.l @r15+, r9
    mov.l @r15+, r10
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
    .2byte  0xFFFF
.L_pool_06015668:
    .4byte  0x0000DDB2
.L_pool_0601566C:
    .4byte  0x00008000
.L_pool_06015670:
    .4byte  fpmul
.L_pool_06015674:
    .4byte  sym_06084FC8

    .global loc_06015678
loc_06015678:
    add #-0x4, r15
    mov.b r4, @r15
    mov.b @r15, r3
    extu.b r3, r3
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    mov.l   .L_pool_06015730, r1
    add r1, r3
    mov.b @(2, r3), r0
    mov r0, r3
    extu.b r3, r3
    shll2 r3
    mov.l   .L_pool_06015734, r2
    add r2, r3
    mov.l @r3, r3
    mov.b @r15, r4
    jmp @r3
    add #0x4, r15
    .2byte  0x0000
    .4byte  0x00000000

    .global minimap_car_dot
    .type minimap_car_dot, @function
minimap_car_dot:
    sts.l pr, @-r15
    add #-0x4, r15
    mov r15, r1
    mov.l   .L_pool_06015738, r2
    mov.l   .L_pool_0601573C, r3
    jsr @r3
    mov #0x4, r0
    extu.b r13, r14
    mov.l   .L_pool_06015730, r2
    extu.b r13, r4
    mov r14, r3
    shll2 r4
    shll2 r14
    shll2 r3
    shll2 r4
    shll2 r3
    shll2 r3
    add r3, r14
    exts.w r14, r14
    mov.l   .L_pool_06015740, r3
    add r2, r14
    add r3, r4
    mov.l @r4, r2
    mov.l r2, @(4, r14)
    mov.l @(4, r4), r3
    mov.l r3, @(8, r14)
    mov.l @(8, r4), r2
    mov.l r2, @(12, r14)
    mov.l @(12, r4), r3
    mov.l r3, @(52, r14)
    mov.l   .L_pool_06015744, r3
    jsr @r3
    extu.b r13, r4
    extu.b r13, r4
    mov.l   .L_pool_06015748, r2
    mov r4, r3
    shll2 r4
    shll2 r3
    shll r4
    shll2 r3
    add r3, r4
    exts.w r4, r4
    extu.b r13, r3
    add r2, r4
    mov r15, r2
    add r2, r3
    mov.b @r3, r3
    extu.b r3, r0
    mov.w r0, @(6, r4)
    mov #0x3C, r3
    mov #0x1, r0
    mov.b r0, @(4, r4)
    mov #0x3A, r0
    mov.b r0, @(5, r4)
    mov #0x41, r0
    mov.b r3, @(r0, r14)
    mov.b @(2, r14), r0
    mov r0, r3
    add #0x1, r3
    mov r3, r0
    mov.b r0, @(2, r14)
    add #0x4, r15
    lds.l @r15+, pr
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_pool_06015730:
    .4byte  sym_06084FC8
.L_pool_06015734:
    .4byte  sym_0605B858
.L_pool_06015738:
    .4byte  sym_0605B8A0
.L_pool_0601573C:
    .4byte  sym_06035228
.L_pool_06015740:
    .4byte  sym_0605B860
.L_pool_06015744:
    .4byte  track_vtx_builder
.L_pool_06015748:
    .4byte  sym_06085490
    .4byte  0x00000000
    .4byte  0x00000000

    .global minimap_full_update
    .type minimap_full_update, @function
minimap_full_update:
    sts.l pr, @-r15
    mov r4, r3
    mov.l   .L_pool_060157C8, r13
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(16, r4), r2
    mov.l @(4, r4), r3
    add r2, r3
    mov.l r3, @(4, r4)
    mov.l @(20, r4), r2
    mov.l @(8, r4), r3
    add r2, r3
    mov.l r3, @(8, r4)
    mov.l @(24, r4), r2
    mov.l @(12, r4), r3
    add r2, r3
    mov.l r3, @(12, r4)
    extu.b r14, r4
    mov r4, r0
    cmp/eq #0x1, r0
    .word 0x0029 /* UNKNOWN */
    mov r0, r3
    mov r4, r0
    cmp/eq #0x3, r0
    .word 0x0129 /* UNKNOWN */
    or r1, r3
    tst r3, r3
    bt      .L_060157CC
    extu.b r14, r4
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(4, r4), r2
    mov.l @(52, r4), r3
    cmp/ge r3, r2
    bf      .L_060157FC
    extu.b r14, r4
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(52, r4), r2
    bra     .L_060157FC
    mov.l r2, @(4, r4)
.L_pool_060157C8:
    .4byte  sym_06084FC8
.L_060157CC:
    extu.b r14, r4
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(4, r4), r2
    mov.l @(52, r4), r3
    cmp/gt r3, r2
    bt      .L_060157FC
    extu.b r14, r4
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.l @(52, r4), r2
    mov.l r2, @(4, r4)
.L_060157FC:
    extu.b r14, r3
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    add r13, r3
    mov.l @(8, r3), r3
    cmp/pz r3
    bf      .L_0601582A
    extu.b r14, r3
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    add r13, r3
    mov #0x0, r1
    mov.l r1, @(8, r3)
.L_0601582A:
    extu.b r14, r3
    mov.l   .L_pool_060158A8, r4
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    add r13, r3
    mov.l @(12, r3), r3
    cmp/ge r4, r3
    bf      .L_06015858
    extu.b r14, r3
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    add r13, r3
    mov.l r4, @(12, r3)
.L_06015858:
    mov.l   .L_pool_060158AC, r3
    jsr @r3
    extu.b r14, r4
    extu.b r14, r4
    mov #0x41, r0
    mov r4, r3
    shll2 r4
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r4
    exts.w r4, r4
    add r13, r4
    mov.b @(r0, r4), r2
    add #-0x1, r2
    mov.b r2, @(r0, r4)
    mov.b @(r0, r4), r3
    extu.b r3, r3
    cmp/pl r3
    bt      .L_0601589C
    extu.b r14, r14
    mov r14, r2
    shll2 r14
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r14
    exts.w r14, r14
    add r13, r14
    mov.b @(2, r14), r0
    mov r0, r3
    add #0x1, r3
    mov r3, r0
    mov.b r0, @(2, r14)
.L_0601589C:
    lds.l @r15+, pr
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14

    .global loc_060158A4
loc_060158A4:
    rts
    nop
.L_pool_060158A8:
    .4byte  0x00010000
.L_pool_060158AC:
    .4byte  track_vtx_builder

    .global loc_060158B0
loc_060158B0:
    add #-0x4, r15
    mov.b r4, @r15
    mov.b @r15, r3
    extu.b r3, r3
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    mov.l   .L_pool_06015934, r1
    add r1, r3
    mov.b @(2, r3), r0
    mov r0, r3
    extu.b r3, r3
    shll2 r3
    mov.l   .L_pool_06015938, r2
    add r2, r3
    mov.l @r3, r3
    mov.b @r15, r4
    jmp @r3
    add #0x4, r15

    .global lap_counter_update
    .type lap_counter_update, @function
lap_counter_update:
    sts.l pr, @-r15
    add #-0x4, r15
    mov.b r4, @r15
    mov.l   .L_pool_0601593C, r0
    mov.l @r0, r0
    tst r0, r0
    bt/s    .L_060158F8
    mov #0x1, r4
    exts.w r4, r4
    mov.l   .L_pool_06015940, r3
    mov.w r4, @r3
    bra     .L_06015926
    nop
.L_060158F8:
    mov.b @r15, r2
    extu.b r4, r0
    mov.l   .L_pool_06015934, r1
    extu.b r2, r2
    mov r2, r3
    shll2 r2
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r2
    exts.w r2, r2
    add r1, r2
    mov.b r0, @(1, r2)
    mov.l   .L_pool_06015944, r5
    mov.w   .L_wpool_06015932, r0
    mov.l   .L_pool_06015948, r3
    mov.l   .L_pool_0601594C, r2
    mov.l @(r0, r5), r5
    shll2 r5
    add r3, r5
    mov.l @r5, r5
    jsr @r2
    mov #0x0, r4
.L_06015926:
    mov.b @r15, r4
    extu.b r4, r4
    add #0x4, r15
    mov.l   .L_pool_06015950, r3
    jmp @r3
    lds.l @r15+, pr
.L_wpool_06015932:
    .2byte  0x0224
.L_pool_06015934:
    .4byte  sym_06084FC8
.L_pool_06015938:
    .4byte  sym_0605B8A4
.L_pool_0601593C:
    .4byte  sym_0607EAE0
.L_pool_06015940:
    .4byte  sym_06085F94
.L_pool_06015944:
    .4byte  sym_06078900
.L_pool_06015948:
    .4byte  sym_06044BD8
.L_pool_0601594C:
    .4byte  sound_cmd_dispatch
.L_pool_06015950:
    .4byte  sym_060172E4
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000
    .4byte  0x00000000

    .global time_digit_update
    .type time_digit_update, @function
time_digit_update:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    add #-0x4, r15
    mov.w   .L_wpool_06015D24, r11
    mov #0x8, r12
    mov.l   .L_pool_06015D28, r13
    mov #0x0, r14
    mov.b r4, @r15
    extu.b r14, r6
    extu.b r14, r4
.L_06015CC4:
    extu.b r4, r5
    mov r5, r3
    shll2 r5
    shll2 r3
    shll2 r3
    shll2 r3
    add r3, r5
    exts.w r5, r5
    add r13, r5
    mov.l @(48, r5), r2
    add r11, r2
    mov r2, r3
    mov.l r2, @(48, r5)
    cmp/pz r3
    bf      .L_06015CF8
    extu.b r4, r3
    mov r3, r2
    shll2 r3
    shll2 r2
    shll2 r2
    shll2 r2
    add r2, r3
    exts.w r3, r3
    add r13, r3
    mov.l r14, @(48, r3)
    add #0x1, r6
.L_06015CF8:
    add #0x1, r4
    extu.b r4, r3
    cmp/ge r12, r3
    bf      .L_06015CC4
    extu.b r6, r0
    cmp/eq #0x8, r0
    bf      .L_06015D18
    mov.b @r15, r4
    extu.b r4, r4
    add #0x4, r15
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    mov.l   .L_pool_06015D2C, r3
    jmp @r3
    mov.l @r15+, r14
.L_06015D18:
    add #0x4, r15
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    rts
    mov.l @r15+, r14
.L_wpool_06015D24:
    .2byte  0x0800
    .2byte  0xFFFF
.L_pool_06015D28:
    .4byte  sym_06084FC8
.L_pool_06015D2C:
    .4byte  sym_060172E4
