/* state_course_select_active -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x06008B34 - 0x06008B78
 * Auto-generated by tools/generate_l3_tu.py
 *
 * State 7 — Course Select Active
 * Called each frame while the player is choosing a course.
 * Processes input, draws the course selection screen, runs a
 * display update, then clears the animation state tracker.
 */

    .section .text.FUN_06008B34


    .global state_course_select_active
    .type state_course_select_active, @function
state_course_select_active:
    sts.l pr, @-r15                          ! save return address to stack
    mov.l   .L_pool_course_select_input, r3  ! r3 = &course_select_input
    jsr @r3                                  ! call course_select_input — process player input (left/right)
    nop                                      ! (delay slot)
    mov.l   .L_pool_course_select_draw, r3   ! r3 = &course_select_draw
    jsr @r3                                  ! call course_select_draw — update course selection display
    nop                                      ! (delay slot)
    mov.l   .L_pool_display_update, r3       ! r3 = &display_update (sym_06026CE0)
    jsr @r3                                  ! call display update — flush display list
    nop                                      ! (delay slot)
    mov #0x0, r2                             ! r2 = 0 (clear value)
    mov.l   .L_pool_state_tracker, r3        ! r3 = &state_tracker (sym_06059F44)
    lds.l @r15+, pr                          ! restore return address from stack
    rts                                      ! return to caller
    mov.l r2, @r3                            ! (delay slot) *state_tracker = 0 — reset animation state
    .2byte  0xFFFF
    .4byte  handler_init_reset
    .4byte  g_game_state
    .4byte  track_poly_start
    .4byte  obj_render_update
.L_pool_display_update:
    .4byte  sym_06026CE0
.L_pool_state_tracker:
    .4byte  sym_06059F44
    .4byte  sym_0605A016
.L_pool_course_select_input:
    .4byte  course_select_input
.L_pool_course_select_draw:
    .4byte  course_select_draw
