/* race_sound_handler -- L3 assembly (SH-2 mnemonics)
 * Translation unit: 0x06018EE4 - 0x06018FA4
 * Auto-generated by tools/generate_l3_tu.py
 */

    .section .text.FUN_06018EE4


    .global race_sound_handler
    .type race_sound_handler, @function
race_sound_handler:
    mov.l r14, @-r15
    mov.l r13, @-r15
    mov.l r12, @-r15
    mov.l r11, @-r15
    sts.l pr, @-r15
    mov.l   .L_sound_ram_0x02DBC, r11
    mov.w   DAT_06018f74, r12
    mov.l   .L_smpc_sf, r13
    mov #0x1, r14
.L_06018EF6:
    mov.b @r13, r2
    extu.b r2, r2
    and r14, r2
    cmp/eq r14, r2
    bt      .L_06018EF6
    extu.b r14, r2
    mov.b r2, @r13
    mov #0x7, r3
    mov.l   .L_smpc_comreg_ct, r2
    mov.b r3, @r2
.L_06018F0A:
    mov.b @r13, r2
    extu.b r2, r2
    and r14, r2
    tst r2, r2
    bf      .L_06018F0A
    .byte   0xB1, 0xCE    /* bsr 0x060192B4 (external) */
    nop
    mov.w   DAT_06018f76, r2
    mov.l   .L_scsp_reg_0x000, r3
    mov.w r2, @r3
    mov.l   .L_pool_06018F88, r3
    jsr @r3
    nop
    mov.l   .L_pool_06018F8C, r3
    jsr @r3
    nop
.L_06018F2A:
    mov.b @r13, r2
    extu.b r2, r2
    and r14, r2
    cmp/eq r14, r2
    bt      .L_06018F2A
    extu.b r14, r2
    mov.b r2, @r13
    mov #0x6, r3
    mov.l   .L_smpc_comreg_ct, r2
    mov.b r3, @r2
.L_06018F3E:
    mov.b @r13, r2
    extu.b r2, r2
    and r14, r2
    tst r2, r2
    bf      .L_06018F3E
.L_06018F48:
    mov.w @r11, r3
    extu.w r3, r3
    cmp/eq r12, r3
    bf      .L_06018F48
    mov.l   .L_pool_06018F90, r5
    mov.l   .L_pool_06018F94, r3
    jsr @r3
    mov #0xF, r4
    mov.l   .L_pool_06018F98, r5
    mov.l   .L_pool_06018F94, r3
    jsr @r3
    mov #0xF, r4
    mov #0x0, r2
    mov.l   .L_pool_06018F9C, r3
    mov.l r2, @r3
    lds.l @r15+, pr
    mov.l @r15+, r11
    mov.l @r15+, r12
    mov.l @r15+, r13
    mov.l   .L_pool_06018FA0, r3
    jmp @r3
    mov.l @r15+, r14

    .global DAT_06018f74
DAT_06018f74:
    .2byte  0x4F4B

    .global DAT_06018f76
DAT_06018f76:
    .2byte  0x0200
.L_sound_ram_0x02DBC:
    .4byte  0x25A02DBC                  /* Sound RAM +0x02DBC */
.L_smpc_sf:
    .4byte  0x20100063                  /* SMPC SF â€” status flag */
.L_smpc_comreg_ct:
    .4byte  0x2010001F                  /* SMPC COMREG (cache-through) */
.L_scsp_reg_0x000:
    .4byte  0x25B00400                  /* SCSP common register +0x000 */
.L_pool_06018F88:
    .4byte  sym_06012E84
.L_pool_06018F8C:
    .4byte  sym_06012EBC
.L_pool_06018F90:
    .4byte  0xAE0600FF
.L_pool_06018F94:
    .4byte  sound_cmd_dispatch
.L_pool_06018F98:
    .4byte  0xAE0007FF
.L_pool_06018F9C:
    .4byte  sym_06086038
.L_pool_06018FA0:
    .4byte  scsp_set_master_volume
