/* cd_cmd.c -- CD block command interface
 *
 * CD block command registers are at 0x25890000+.
 * CR1-CR4 (0x25890018/1C/20/24) are used to send commands to the CD controller.
 *
 * FUN_06035E3C: Write 4 command words (CR1-CR4) to CD block
 * FUN_06035E5E: Read 4 response words from CD block
 * FUN_06034C48: Initialize CD command buffer, set command byte, execute
 * FUN_060349B6: Call FUN_06035F04 (CD block command), return 0
 * FUN_06035D22: Wrapper around FUN_06035D5A (CD status read)
 * FUN_06035C08: Wrapper around FUN_06035FEC (CD data transfer)
 *
 * Original addresses: 0x06035E3C, 0x06035E5E, 0x06034C48, 0x060349B6,
 *   0x06035D22, 0x06035C08
 */

extern void FUN_06035F04(void);
extern int FUN_06035D5A(void);
extern int FUN_06035FEC(int, int);

void FUN_06035E3C(short *param_1)
{
    *(volatile short *)0x25890018 = *param_1;
    *(volatile short *)0x2589001C = param_1[1];
    *(volatile short *)0x25890020 = param_1[2];
    *(volatile short *)0x25890024 = param_1[3];
}

void FUN_06035E5E(short *param_1)
{
    short r0;

    r0 = *(volatile short *)0x25890018;
    *param_1 = r0;

    r0 = *(volatile short *)0x2589001C;
    param_1[1] = r0;

    r0 = *(volatile short *)0x25890020;
    param_1[2] = r0;

    r0 = *(volatile short *)0x25890024;
    param_1[3] = r0;
}

/* FUN_06034C48 -- original binary (32 bytes) */
__asm__(
    ".section .text.FUN_06034C48, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06034C48\n"
    ".global _FUN_06034c48\n"
    ".type _FUN_06034C48, @function\n"
    "_FUN_06034C48:\n"
    "_FUN_06034c48:\n"
    ".byte 0x4F, 0x22, 0x7F, 0xF8, 0xD3, 0x0E, 0x43, 0x0B, 0x64, 0xF3, 0x62, 0xF3, 0xE3, 0x05, 0x65, 0xF3\n"  /* 0x06034C48 */
    ".byte 0x22, 0x30, 0xD3, 0x09, 0x43, 0x0B, 0xE4, 0x00, 0x7F, 0x08, 0x4F, 0x26, 0x00, 0x0B, 0x64, 0x03\n"  /* 0x06034C58 */
);


/* FUN_060349B6 -- original binary (14 bytes) */
__asm__(
    ".section .text.FUN_060349B6, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_060349B6\n"
    ".global _FUN_060349b6\n"
    ".type _FUN_060349B6, @function\n"
    "_FUN_060349B6:\n"
    "_FUN_060349b6:\n"
    ".byte 0x4F, 0x22, 0xD3, 0x0A, 0x43, 0x0B, 0x00, 0x09, 0x4F, 0x26, 0x00, 0x0B, 0xE0, 0x00\n"  /* 0x060349B6 */
);


/* FUN_06035D22 -- original binary (56 bytes) */
__asm__(
    ".section .text.FUN_06035D22, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06035D22\n"
    ".global _FUN_06035d22\n"
    ".type _FUN_06035D22, @function\n"
    "_FUN_06035D22:\n"
    "_FUN_06035d22:\n"
    ".byte 0x2F, 0xE6, 0x4F, 0x22, 0x00, 0x02, 0x40, 0x09, 0x40, 0x09, 0xC9, 0x0F, 0x6E, 0x03, 0x00, 0x02\n"  /* 0x06035D22 */
    ".byte 0x93, 0x29, 0x20, 0x39, 0xCB, 0xF0, 0x40, 0x0E, 0xB0, 0x0E, 0x00, 0x09, 0x64, 0x03, 0x60, 0xE3\n"  /* 0x06035D32 */
    ".byte 0xC9, 0x0F, 0x40, 0x08, 0x40, 0x08, 0x02, 0x02, 0x93, 0x1D, 0x22, 0x39, 0x20, 0x2B, 0x40, 0x0E\n"  /* 0x06035D42 */
    ".byte 0x60, 0x43, 0x4F, 0x26, 0x00, 0x0B, 0x6E, 0xF6\n"  /* 0x06035D52 */
);


/* FUN_06035C08 -- original binary (76 bytes) */
__asm__(
    ".section .text.FUN_06035C08, \"ax\"\n"
    ".balign 2\n"
    ".global _FUN_06035C08\n"
    ".global _FUN_06035c08\n"
    ".type _FUN_06035C08, @function\n"
    "_FUN_06035C08:\n"
    "_FUN_06035c08:\n"
    ".byte 0x4F, 0x22, 0x61, 0x53, 0xD3, 0x02, 0x43, 0x0B, 0x60, 0x43, 0x4F, 0x26, 0x00, 0x0B, 0x00, 0x09\n"  /* 0x06035C08 */
    ".byte 0x06, 0x03, 0x5F, 0xEC, 0xA0, 0x01, 0xE5, 0x00, 0x75, 0x01, 0x63, 0x44, 0x23, 0x38, 0x8B, 0xFB\n"  /* 0x06035C18 */
    ".byte 0x00, 0x0B, 0x60, 0x53, 0x2F, 0x26, 0x2F, 0x36, 0x93, 0x09, 0xE2, 0x00, 0x23, 0x02, 0x73, 0x08\n"  /* 0x06035C28 */
    ".byte 0x23, 0x22, 0x23, 0x16, 0x73, 0x0C, 0x60, 0x32, 0x63, 0xF6, 0x00, 0x0B, 0x62, 0xF6, 0xFF, 0x00\n"  /* 0x06035C38 */
    ".byte 0xD0, 0x0A, 0x00, 0x0B, 0x00, 0x09, 0xD0, 0x0A, 0x00, 0x0B, 0x60, 0x01\n"  /* 0x06035C48 */
);

